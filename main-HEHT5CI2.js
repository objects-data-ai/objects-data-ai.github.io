var U_=Object.create;var il=Object.defineProperty,H_=Object.defineProperties,W_=Object.getOwnPropertyDescriptor,z_=Object.getOwnPropertyDescriptors,G_=Object.getOwnPropertyNames,Kh=Object.getOwnPropertySymbols,q_=Object.getPrototypeOf,Zh=Object.prototype.hasOwnProperty,Y_=Object.prototype.propertyIsEnumerable;var Qh=(t,e,r)=>e in t?il(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ce=(t,e)=>{for(var r in e||={})Zh.call(e,r)&&Qh(t,r,e[r]);if(Kh)for(var r of Kh(e))Y_.call(e,r)&&Qh(t,r,e[r]);return t},Fe=(t,e)=>H_(t,z_(e));var sl=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var wn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var X_=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of G_(e))!Zh.call(t,i)&&i!==r&&il(t,i,{get:()=>e[i],enumerable:!(n=W_(e,i))||n.enumerable});return t};var Jh=(t,e,r)=>(r=t!=null?U_(q_(t)):{},X_(e||!t||!t.__esModule?il(r,"default",{value:t,enumerable:!0}):r,t));var le=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{a(r.next(l))}catch(c){i(c)}},o=l=>{try{a(r.throw(l))}catch(c){i(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((r=r.apply(t,e)).next())});var bd=wn(()=>{"use strict"});var Nv=wn(()=>{"use strict"});var Lv=wn(()=>{"use strict"});var Fv=wn(()=>{"use strict"});var kv=wn(()=>{"use strict"});var jv=wn(()=>{"use strict"});var _d=wn((exports,module)=>{"use strict";(function(e,r){typeof exports=="object"&&typeof module=="object"?module.exports=r():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],r):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=r():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=r()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=te,e.arraysToBytes=re,e.assert=j,e.bytesToString=Z,e.createPromiseCapability=yi,e.createValidAbsoluteUrl=w,e.escapeString=It,e.getModificationDate=kn,e.getVerbosityLevel=x,e.info=S,e.isArrayBuffer=st,e.isArrayEqual=tn,e.isAscii=We,e.objectFromMap=se,e.objectSize=oe,e.setVerbosityLevel=H,e.shadow=N,e.string32=ie,e.stringToBytes=ee,e.stringToPDFString=Ue,e.stringToUTF16BEString=Ve,e.stringToUTF8String=it,e.unreachable=L,e.utf8StringToString=Ze,e.warn=A,r(2);let n=[1,0,0,1,0,0];e.IDENTITY_MATRIX=n;let i=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=i;let s=1.35;e.LINE_FACTOR=s;let o=.35;e.LINE_DESCENT_FACTOR=o;let a={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=a;let l={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=l;let c="pdfjs_internal_editor_";e.AnnotationEditorPrefix=c;let d={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=d;let u={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=u;let h={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=h;let m={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=m;let f={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=f;let p={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=p;let v={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=v;let C={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=C;let E={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=E;let M={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=M;let D={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=D;let y={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=y;let b={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=b;let I={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=I;let F={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=F;let B={O:"PageOpen",C:"PageClose"};e.PageActionEventType=B;let _={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};e.StreamType=_;let O={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};e.FontType=O;let q={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=q;let $={NONE:0,BINARY:1,STREAM:2};e.CMapCompressionType=$;let P={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=P;let T={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};e.UNSUPPORTED_FEATURES=T;let R={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=R;let U=q.WARNINGS;function H(ne){Number.isInteger(ne)&&(U=ne)}function x(){return U}function S(ne){U>=q.INFOS&&console.log(`Info: ${ne}`)}function A(ne){U>=q.WARNINGS&&console.log(`Warning: ${ne}`)}function L(ne){throw new Error(ne)}function j(ne,J){ne||L(J)}function g(ne){if(!ne)return!1;switch(ne.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function w(ne,J=null,Q=null){if(!ne)return null;try{if(Q&&typeof ne=="string"){if(Q.addDefaultProtocol&&ne.startsWith("www.")){let ge=ne.match(/\./g);ge&&ge.length>=2&&(ne=`http://${ne}`)}if(Q.tryConvertEncoding)try{ne=it(ne)}catch{}}let ae=J?new URL(ne,J):new URL(ne);if(g(ae))return ae}catch{}return null}function N(ne,J,Q){return Object.defineProperty(ne,J,{value:Q,enumerable:!0,configurable:!0,writable:!1}),Q}let k=function(){function J(Q,ae){this.constructor===J&&L("Cannot initialize BaseException."),this.message=Q,this.name=ae}return J.prototype=new Error,J.constructor=J,J}();e.BaseException=k;class V extends k{constructor(J,Q){super(J,"PasswordException"),this.code=Q}}e.PasswordException=V;class W extends k{constructor(J,Q){super(J,"UnknownErrorException"),this.details=Q}}e.UnknownErrorException=W;class z extends k{constructor(J){super(J,"InvalidPDFException")}}e.InvalidPDFException=z;class X extends k{constructor(J){super(J,"MissingPDFException")}}e.MissingPDFException=X;class K extends k{constructor(J,Q){super(J,"UnexpectedResponseException"),this.status=Q}}e.UnexpectedResponseException=K;class Y extends k{constructor(J){super(J,"FormatError")}}e.FormatError=Y;class G extends k{constructor(J){super(J,"AbortException")}}e.AbortException=G;function Z(ne){(typeof ne!="object"||ne===null||ne.length===void 0)&&L("Invalid argument for bytesToString");let J=ne.length,Q=8192;if(J<Q)return String.fromCharCode.apply(null,ne);let ae=[];for(let ge=0;ge<J;ge+=Q){let Ne=Math.min(ge+Q,J),Oe=ne.subarray(ge,Ne);ae.push(String.fromCharCode.apply(null,Oe))}return ae.join("")}function ee(ne){typeof ne!="string"&&L("Invalid argument for stringToBytes");let J=ne.length,Q=new Uint8Array(J);for(let ae=0;ae<J;++ae)Q[ae]=ne.charCodeAt(ae)&255;return Q}function te(ne){if(ne.length!==void 0)return ne.length;if(ne.byteLength!==void 0)return ne.byteLength;L("Invalid argument for arrayByteLength")}function re(ne){let J=ne.length;if(J===1&&ne[0]instanceof Uint8Array)return ne[0];let Q=0;for(let Ne=0;Ne<J;Ne++)Q+=te(ne[Ne]);let ae=0,ge=new Uint8Array(Q);for(let Ne=0;Ne<J;Ne++){let Oe=ne[Ne];Oe instanceof Uint8Array||(typeof Oe=="string"?Oe=ee(Oe):Oe=new Uint8Array(Oe));let $t=Oe.byteLength;ge.set(Oe,ae),ae+=$t}return ge}function ie(ne){return String.fromCharCode(ne>>24&255,ne>>16&255,ne>>8&255,ne&255)}function oe(ne){return Object.keys(ne).length}function se(ne){let J=Object.create(null);for(let[Q,ae]of ne)J[Q]=ae;return J}function Ae(){let ne=new Uint8Array(4);return ne[0]=1,new Uint32Array(ne.buffer,0,1)[0]===1}function Me(){try{return new Function(""),!0}catch{return!1}}class de{static get isLittleEndian(){return N(this,"isLittleEndian",Ae())}static get isEvalSupported(){return N(this,"isEvalSupported",Me())}static get isOffscreenCanvasSupported(){return N(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}e.FeatureTest=de;let Re=[...Array(256).keys()].map(ne=>ne.toString(16).padStart(2,"0"));class Be{static makeHexColor(J,Q,ae){return`#${Re[J]}${Re[Q]}${Re[ae]}`}static scaleMinMax(J,Q){let ae;J[0]?(J[0]<0&&(ae=Q[0],Q[0]=Q[1],Q[1]=ae),Q[0]*=J[0],Q[1]*=J[0],J[3]<0&&(ae=Q[2],Q[2]=Q[3],Q[3]=ae),Q[2]*=J[3],Q[3]*=J[3]):(ae=Q[0],Q[0]=Q[2],Q[2]=ae,ae=Q[1],Q[1]=Q[3],Q[3]=ae,J[1]<0&&(ae=Q[2],Q[2]=Q[3],Q[3]=ae),Q[2]*=J[1],Q[3]*=J[1],J[2]<0&&(ae=Q[0],Q[0]=Q[1],Q[1]=ae),Q[0]*=J[2],Q[1]*=J[2]),Q[0]+=J[4],Q[1]+=J[4],Q[2]+=J[5],Q[3]+=J[5]}static transform(J,Q){return[J[0]*Q[0]+J[2]*Q[1],J[1]*Q[0]+J[3]*Q[1],J[0]*Q[2]+J[2]*Q[3],J[1]*Q[2]+J[3]*Q[3],J[0]*Q[4]+J[2]*Q[5]+J[4],J[1]*Q[4]+J[3]*Q[5]+J[5]]}static applyTransform(J,Q){let ae=J[0]*Q[0]+J[1]*Q[2]+Q[4],ge=J[0]*Q[1]+J[1]*Q[3]+Q[5];return[ae,ge]}static applyInverseTransform(J,Q){let ae=Q[0]*Q[3]-Q[1]*Q[2],ge=(J[0]*Q[3]-J[1]*Q[2]+Q[2]*Q[5]-Q[4]*Q[3])/ae,Ne=(-J[0]*Q[1]+J[1]*Q[0]+Q[4]*Q[1]-Q[5]*Q[0])/ae;return[ge,Ne]}static getAxialAlignedBoundingBox(J,Q){let ae=Be.applyTransform(J,Q),ge=Be.applyTransform(J.slice(2,4),Q),Ne=Be.applyTransform([J[0],J[3]],Q),Oe=Be.applyTransform([J[2],J[1]],Q);return[Math.min(ae[0],ge[0],Ne[0],Oe[0]),Math.min(ae[1],ge[1],Ne[1],Oe[1]),Math.max(ae[0],ge[0],Ne[0],Oe[0]),Math.max(ae[1],ge[1],Ne[1],Oe[1])]}static inverseTransform(J){let Q=J[0]*J[3]-J[1]*J[2];return[J[3]/Q,-J[1]/Q,-J[2]/Q,J[0]/Q,(J[2]*J[5]-J[4]*J[3])/Q,(J[4]*J[1]-J[5]*J[0])/Q]}static apply3dTransform(J,Q){return[J[0]*Q[0]+J[1]*Q[1]+J[2]*Q[2],J[3]*Q[0]+J[4]*Q[1]+J[5]*Q[2],J[6]*Q[0]+J[7]*Q[1]+J[8]*Q[2]]}static singularValueDecompose2dScale(J){let Q=[J[0],J[2],J[1],J[3]],ae=J[0]*Q[0]+J[1]*Q[2],ge=J[0]*Q[1]+J[1]*Q[3],Ne=J[2]*Q[0]+J[3]*Q[2],Oe=J[2]*Q[1]+J[3]*Q[3],$t=(ae+Oe)/2,mr=Math.sqrt((ae+Oe)**2-4*(ae*Oe-Ne*ge))/2,jn=$t+mr||1,ut=$t-mr||1;return[Math.sqrt(jn),Math.sqrt(ut)]}static normalizeRect(J){let Q=J.slice(0);return J[0]>J[2]&&(Q[0]=J[2],Q[2]=J[0]),J[1]>J[3]&&(Q[1]=J[3],Q[3]=J[1]),Q}static intersect(J,Q){let ae=Math.max(Math.min(J[0],J[2]),Math.min(Q[0],Q[2])),ge=Math.min(Math.max(J[0],J[2]),Math.max(Q[0],Q[2]));if(ae>ge)return null;let Ne=Math.max(Math.min(J[1],J[3]),Math.min(Q[1],Q[3])),Oe=Math.min(Math.max(J[1],J[3]),Math.max(Q[1],Q[3]));return Ne>Oe?null:[ae,Ne,ge,Oe]}static bezierBoundingBox(J,Q,ae,ge,Ne,Oe,$t,mr){let jn=[],ut=[[],[]],vr,_n,Is,Ye,Ts,Ms,tl,nl;for(let rl=0;rl<2;++rl){if(rl===0?(_n=6*J-12*ae+6*Ne,vr=-3*J+9*ae-9*Ne+3*$t,Is=3*ae-3*J):(_n=6*Q-12*ge+6*Oe,vr=-3*Q+9*ge-9*Oe+3*mr,Is=3*ge-3*Q),Math.abs(vr)<1e-12){if(Math.abs(_n)<1e-12)continue;Ye=-Is/_n,0<Ye&&Ye<1&&jn.push(Ye);continue}tl=_n*_n-4*Is*vr,nl=Math.sqrt(tl),!(tl<0)&&(Ts=(-_n+nl)/(2*vr),0<Ts&&Ts<1&&jn.push(Ts),Ms=(-_n-nl)/(2*vr),0<Ms&&Ms<1&&jn.push(Ms))}let bi=jn.length,vt,_i=bi;for(;bi--;)Ye=jn[bi],vt=1-Ye,ut[0][bi]=vt*vt*vt*J+3*vt*vt*Ye*ae+3*vt*Ye*Ye*Ne+Ye*Ye*Ye*$t,ut[1][bi]=vt*vt*vt*Q+3*vt*vt*Ye*ge+3*vt*Ye*Ye*Oe+Ye*Ye*Ye*mr;return ut[0][_i]=J,ut[1][_i]=Q,ut[0][_i+1]=$t,ut[1][_i+1]=mr,ut[0].length=ut[1].length=_i+2,[Math.min(...ut[0]),Math.min(...ut[1]),Math.max(...ut[0]),Math.max(...ut[1])]}}e.Util=Be;let rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ue(ne){if(ne[0]>="\xEF"){let Q;if(ne[0]==="\xFE"&&ne[1]==="\xFF"?Q="utf-16be":ne[0]==="\xFF"&&ne[1]==="\xFE"?Q="utf-16le":ne[0]==="\xEF"&&ne[1]==="\xBB"&&ne[2]==="\xBF"&&(Q="utf-8"),Q)try{let ae=new TextDecoder(Q,{fatal:!0}),ge=ee(ne);return ae.decode(ge)}catch(ae){A(`stringToPDFString: "${ae}".`)}}let J=[];for(let Q=0,ae=ne.length;Q<ae;Q++){let ge=rt[ne.charCodeAt(Q)];J.push(ge?String.fromCharCode(ge):ne.charAt(Q))}return J.join("")}function It(ne){return ne.replace(/([()\\\n\r])/g,J=>J===`
`?"\\n":J==="\r"?"\\r":`\\${J}`)}function We(ne){return/^[\x00-\x7F]*$/.test(ne)}function Ve(ne){let J=["\xFE\xFF"];for(let Q=0,ae=ne.length;Q<ae;Q++){let ge=ne.charCodeAt(Q);J.push(String.fromCharCode(ge>>8&255),String.fromCharCode(ge&255))}return J.join("")}function it(ne){return decodeURIComponent(escape(ne))}function Ze(ne){return unescape(encodeURIComponent(ne))}function st(ne){return typeof ne=="object"&&ne!==null&&ne.byteLength!==void 0}function tn(ne,J){if(ne.length!==J.length)return!1;for(let Q=0,ae=ne.length;Q<ae;Q++)if(ne[Q]!==J[Q])return!1;return!0}function kn(ne=new Date){return[ne.getUTCFullYear().toString(),(ne.getUTCMonth()+1).toString().padStart(2,"0"),ne.getUTCDate().toString().padStart(2,"0"),ne.getUTCHours().toString().padStart(2,"0"),ne.getUTCMinutes().toString().padStart(2,"0"),ne.getUTCSeconds().toString().padStart(2,"0")].join("")}function yi(){let ne=Object.create(null),J=!1;return Object.defineProperty(ne,"settled",{get(){return J}}),ne.promise=new Promise(function(Q,ae){ne.resolve=function(ge){J=!0,Q(ge)},ne.reject=function(ge){J=!0,ae(ge)}}),ne}},(t,e,r)=>{var n=r(3)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;let r=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=r},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){let{NodeCanvasFactory:t,NodeCMapReaderFactory:e,NodeStandardFontDataFactory:r}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=t,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=e,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=r}let createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){let e=new PDFDocumentLoadingTask,r;if(typeof t=="string"||t instanceof URL)r={url:t};else if((0,_util.isArrayBuffer)(t))r={data:t};else if(t instanceof PDFDataRangeTransport)r={range:t};else{if(typeof t!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=t}let n=Object.create(null),i=null,s=null;for(let a in r){let l=r[a];switch(a){case"url":if(typeof window<"u")try{n[a]=new URL(l,window.location).href;continue}catch(c){(0,_util.warn)(`Cannot create valid URL: "${c}".`)}else if(typeof l=="string"||l instanceof URL){n[a]=l.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=l;continue;case"worker":s=l;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&l instanceof Buffer)n[a]=new Uint8Array(l);else{if(l instanceof Uint8Array)break;if(typeof l=="string")n[a]=(0,_util.stringToBytes)(l);else if(typeof l=="object"&&l!==null&&!isNaN(l.length))n[a]=new Uint8Array(l);else if((0,_util.isArrayBuffer)(l))n[a]=new Uint8Array(l);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}n[a]=l}if(n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=n.stopAtErrors!==!0,n.fontExtraProperties=n.fontExtraProperties===!0,n.pdfBug=n.pdfBug===!0,n.enableXfa=n.enableXfa===!0,(!Number.isInteger(n.rangeChunkSize)||n.rangeChunkSize<1)&&(n.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof n.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),(!Number.isInteger(n.maxImageSize)||n.maxImageSize<-1)&&(n.maxImageSize=-1),typeof n.cMapUrl!="string"&&(n.cMapUrl=null),typeof n.standardFontDataUrl!="string"&&(n.standardFontDataUrl=null),typeof n.useWorkerFetch!="boolean"&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof n.isEvalSupported!="boolean"&&(n.isEvalSupported=!0),typeof n.disableFontFace!="boolean"&&(n.disableFontFace=_is_node.isNodeJS),typeof n.useSystemFonts!="boolean"&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),(typeof n.ownerDocument!="object"||n.ownerDocument===null)&&(n.ownerDocument=globalThis.document),typeof n.disableRange!="boolean"&&(n.disableRange=!1),typeof n.disableStream!="boolean"&&(n.disableStream=!1),typeof n.disableAutoFetch!="boolean"&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!s){let a={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};s=a.port?PDFWorker.fromPort(a):new PDFWorker(a),e._worker=s}let o=e.docId;return s.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");let a=_fetchDocument(s,n,i,o),l=new Promise(function(c){let d;i?d=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},i):n.data||(d=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),c(d)});return Promise.all([a,l]).then(function([c,d]){if(e.destroyed)throw new Error("Loading aborted");let u=new _message_handler.MessageHandler(o,c,s.port),h=new WorkerTransport(u,e,d,n);e._transport=h,u.send("Ready",null)})}).catch(e._capability.reject),e}function _fetchDocument(t,e,r,n){return le(this,null,function*(){if(t.destroyed)throw new Error("Worker was destroyed");r&&(e.length=r.length,e.initialData=r.initialData,e.progressiveDone=r.progressiveDone,e.contentDispositionFilename=r.contentDispositionFilename);let i=yield t.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.16.105",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});if(e.data&&(e.data=null),t.destroyed)throw new Error("Worker was destroyed");return i})}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){return le(this,null,function*(){this.destroyed=!0,yield this._transport?.destroy(),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,r,n=!1,i=null){this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,r){for(let n of this._rangeListeners)n(e,r)}onDataProgress(e,r){this._readyCapability.promise.then(()=>{for(let n of this._progressListeners)n(e,r)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let r of this._progressiveReadListeners)r(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,r){this._pdfInfo=e,this._transport=r,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:()=>le(this,null,function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,r,n,i,s=!1){this._pageIndex=e,this._pageInfo=r,this._ownerDocument=i,this._transport=n,this._stats=s?new _display_utils.StatTimer:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){let r=this._transport.getRenderingIntent(e),n=this._annotationPromises.get(r.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,r.renderingIntent),this._annotationPromises.set(r.cacheKey,n),n=n.then(i=>{for(let s of i)s.titleObj!==void 0&&Object.defineProperty(s,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),s.titleObj.str}}),s.contentsObj!==void 0&&Object.defineProperty(s,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),s.contentsObj.str}});return i})),n}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){return le(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:r,intent:n="display",annotationMode:i=_util.AnnotationMode.ENABLE,transform:s=null,imageLayer:o=null,canvasFactory:a=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:u=null,printAnnotationStorage:h=null}){arguments[0]?.renderInteractiveForms!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&i===_util.AnnotationMode.ENABLE&&(i=_util.AnnotationMode.ENABLE_FORMS)),arguments[0]?.includeAnnotationStorage!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&i===_util.AnnotationMode.ENABLE&&(i=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");let m=this._transport.getRenderingIntent(n,i,h);this.pendingCleanup=!1,c||(c=this._transport.getOptionalContentConfig());let f=this._intentStates.get(m.cacheKey);f||(f=Object.create(null),this._intentStates.set(m.cacheKey,f)),f.streamReaderCancelTimeout&&(clearTimeout(f.streamReaderCancelTimeout),f.streamReaderCancelTimeout=null);let p=a||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),v=!!(m.renderingIntent&_util.RenderingIntentFlag.PRINT);f.displayReadyCapability||(f.displayReadyCapability=(0,_util.createPromiseCapability)(),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(m));let C=D=>{f.renderTasks.delete(E),(this.cleanupAfterRender||v)&&(this.pendingCleanup=!0),this._tryCleanup(),D?(E.capability.reject(D),this._abortOperatorList({intentState:f,reason:D instanceof Error?D:new Error(D)})):E.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},E=new InternalRenderTask({callback:C,params:{canvasContext:e,viewport:r,transform:s,imageLayer:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:f.operatorList,pageIndex:this._pageIndex,canvasFactory:p,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u});(f.renderTasks||=new Set).add(E);let M=E.task;return Promise.all([f.displayReadyCapability.promise,c]).then(([D,y])=>{if(this.pendingCleanup){C();return}this._stats&&this._stats.time("Rendering"),E.initializeGraphics({transparency:D,optionalContentConfig:y}),E.operatorListChanged()}).catch(C),M}getOperatorList({intent:e="display",annotationMode:r=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}={}){function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}let s=this._transport.getRenderingIntent(e,r,n,!0),o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=(0,_util.createPromiseCapability)(),(o.renderTasks||=new Set).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({disableCombineTextItems:e=!1,includeMarkedContent:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:e!==!0,includeMarkedContent:r===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));let r=this.streamTextContent(e);return new Promise(function(n,i){function s(){o.read().then(function({value:l,done:c}){if(c){n(a);return}Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}let o=r.getReader(),a={items:[],styles:Object.create(null)};s()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(let n of r.renderTasks)e.push(n.completed),n.cancel();this.objs.clear();for(let r of this._bitmaps)r.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(e=!1){return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(e=!1){if(!this.pendingCleanup)return!1;for(let{renderTasks:r,operatorList:n}of this._intentStates.values())if(r.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer);for(let r of this._bitmaps)r.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(e,r){let n=this._intentStates.get(r);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}_renderPageChunk(e,r){for(let n=0,i=e.length;n<i;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(let n of r.renderTasks)n.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageMap:n}){let s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:n}).getReader(),o=this._intentStates.get(r);o.streamReader=s;let a=()=>{s.read().then(({value:l,done:c})=>{if(c){o.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(l,o),a())},l=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(let c of o.renderTasks)c.operatorListChanged();this._tryCleanup()}if(o.displayReadyCapability)o.displayReadyCapability.reject(l);else if(o.opListReadCapability)o.opListReadCapability.reject(l);else throw l}})};a()}_abortOperatorList({intentState:e,reason:r,force:n=!1}){if(e.streamReader){if(!n){if(e.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException){e.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:e,reason:r,force:!0}),e.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(e.streamReader.cancel(new _util.AbortException(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(e,r){let n={data:structuredClone(e,r)};this._deferred.then(()=>{for(let i of this._listeners)i.call(this,n)})}addEventListener(e,r){this._listeners.push(r)}removeEventListener(e,r){let n=this._listeners.indexOf(r);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof sl=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let t=document?.currentScript?.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,e){let r;try{if(r=new URL(t),!r.origin||r.origin==="null")return!1}catch{return!1}let n=new URL(e,r);return r.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(t){let e=`importScripts("${t}");`;return URL.createObjectURL(new Blob([e]))}}class PDFWorker{static#workerPorts=new WeakMap;constructor({name:t=null,port:e=null,verbosity:r=(0,_util.getVerbosityLevel)()}={}){if(e&&PDFWorker.#workerPorts.has(e))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=r,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e){PDFWorker.#workerPorts.set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));let e=new Worker(t),r=new _message_handler.MessageHandler("main","worker",e),n=()=>{e.removeEventListener("error",i),r.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||n()};e.addEventListener("error",i),r.on("test",o=>{if(e.removeEventListener("error",i),this.destroyed){n();return}o?(this._messageHandler=r,this._port=e,this._webWorker=e,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),e.terminate())}),r.on("ready",o=>{if(e.removeEventListener("error",i),this.destroyed){n();return}try{s()}catch{this._setupFakeWorker()}});let s=()=>{let o=new Uint8Array;r.send("test",o,[o.buffer])};s();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let e=new LoopbackPort;this._port=e;let r=`fake${PDFWorkerUtil.fakeWorkerId++}`,n=new _message_handler.MessageHandler(r+"_worker",r,e);t.setup(n,e);let i=new _message_handler.MessageHandler(r,r+"_worker",e);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(t.port)?this.#workerPorts.get(t.port):new PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=()=>le(this,null,function*(){let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof sl=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#e=null;#t=new Map;#n=new Map;#r=null;constructor(e,r,n,i){this.messageHandler=e,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,i.useWorkerFetch||(this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.StandardFontDataFactory=new i.StandardFontDataFactory({baseUrl:i.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#e}getRenderingIntent(e,r=_util.AnnotationMode.ENABLE,n=null,i=!1){let s=_util.RenderingIntentFlag.DISPLAY,o=null;switch(e){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(r){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=(s&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${r}`)}return i&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:`${s}_${_annotation_storage.AnnotationStorage.getHash(o)}`,annotationStorageMap:o}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#r=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(n,i)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(s),"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",n=>{let i=(0,_util.createPromiseCapability)(),s=this._fullReader;return s.headersReady.then(()=>{(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&r.onProgress?.(this._lastProgress),s.onProgress=o=>{r.onProgress?.({loaded:o.loaded,total:o.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(n,i)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(o),"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(n,this))}),e.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":i=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":i=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":i=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":i=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(i)}),e.on("PasswordRequest",n=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),r.onPassword){let i=s=>{s instanceof Error?this._passwordCapability.reject(s):this._passwordCapability.resolve({password:s})};try{r.onPassword(i,n.code)}catch(s){this._passwordCapability.reject(s)}}else this._passwordCapability.reject(new _util.PasswordException(n.message,n.code));return this._passwordCapability.promise}),e.on("DataLoaded",n=>{r.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{if(!this.destroyed&&!this.commonObjs.has(n))switch(i){case"Font":let o=this._params;if("error"in s){let c=s.error;(0,_util.warn)(`Error during font loading: ${c}`),this.commonObjs.resolve(n,c);break}let a=null;o.pdfBug&&globalThis.FontInspector?.enabled&&(a={registerFont(c,d){globalThis.FontInspector.fontAdded(c,d)}});let l=new _font_loader.FontFaceObject(s,{isEvalSupported:o.isEvalSupported,disableFontFace:o.disableFontFace,ignoreErrors:o.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:a});this.fontLoader.bind(l).catch(c=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!o.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(n,l)});break;case"FontPath":case"Image":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}}),e.on("obj",([n,i,s,o])=>{if(this.destroyed)return;let a=this.#t.get(i);if(!a.objs.has(n))switch(s){case"Image":a.objs.resolve(n,o);let l=8e6;if(o){let c;if(o.bitmap){let{bitmap:d,width:u,height:h}=o;c=u*h*4,a._bitmaps.add(d)}else c=o.data?.length||0;c>l&&(a.cleanupAfterRender=!0)}break;case"Pattern":a.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${s}`)}}),e.on("DocProgress",n=>{this.destroyed||r.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("DocStats",n=>{this.destroyed||(this.#e=Object.freeze({streamTypes:Object.freeze(n.streamTypes),fontTypes:Object.freeze(n.fontTypes)}))}),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:e}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(e)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let r=e-1,n=this.#n.get(r);if(n)return n;let i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");let o=new PDFPageProxy(r,s,this,this._params.ownerDocument,this._params.pdfBug);return this.#t.set(r,o),o});return this.#n.set(r,i),i}getPageIndex(e){return typeof e!="object"||e===null||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#r||=this.messageHandler.sendWithPromise("GetMetadata",null).then(e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return le(this,null,function*(){if(yield this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(let r of this.#t.values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#r=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}})}get loadingParams(){let e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}class PDFObjects{#e=Object.create(null);#t(e){let r=this.#e[e];return r||(this.#e[e]={capability:(0,_util.createPromiseCapability)(),data:null})}get(e,r=null){if(r){let i=this.#t(e);return i.capability.promise.then(()=>r(i.data)),null}let n=this.#e[e];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){return this.#e[e]?.capability.settled||!1}resolve(e,r=null){let n=this.#t(e);n.data=r,n.capability.resolve()}clear(){this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(){this.#e.cancel()}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:r}=this.#e;return e.form||e.canvas&&r?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:e,params:r,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:u=null}){this.callback=e,this.params=r,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this._pdfBug=d,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:n,viewport:i,transform:s,imageLayer:o,background:a}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,o,r,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(e=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return le(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback())))})}}let version="2.16.105";exports.version=version;let build="172ccdbe5";exports.build=build},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var n=r(1),i=r(6),s=r(10);class o{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(c,d){let u=this._storage.get(c);return u===void 0?d:Object.assign(d,u)}getRawValue(c){return this._storage.get(c)}remove(c){if(this._storage.delete(c),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let d of this._storage.values())if(d instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(c,d){let u=this._storage.get(c),h=!1;if(u!==void 0)for(let[m,f]of Object.entries(d))u[m]!==f&&(h=!0,u[m]=f);else h=!0,this._storage.set(c,d);h&&this.#e(),d instanceof i.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(d.constructor._type)}has(c){return this._storage.has(c)}getAll(){return this._storage.size>0?(0,n.objectFromMap)(this._storage):null}get size(){return this._storage.size}#e(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new a(this)}get serializable(){if(this._storage.size===0)return null;let c=new Map;for(let[d,u]of this._storage){let h=u instanceof i.AnnotationEditor?u.serialize():u;h&&c.set(d,h)}return c}static getHash(c){if(!c)return"";let d=new s.MurmurHash3_64;for(let[u,h]of c)d.update(`${u}:${JSON.stringify(h)}`);return d.hexdigest()}}e.AnnotationStorage=o;class a extends o{#e=null;constructor(c){super(),this.#e=structuredClone(c.serializable)}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}e.PrintAnnotationStorage=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var n=r(7),i=r(1);class s{#e=this.focusin.bind(this);#t=this.focusout.bind(this);#n=!1;#r=!1;#s=!1;#c=s._zIndex++;static _colorManager=new n.ColorManager;static _zIndex=1;constructor(a){this.constructor===s&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=a.parent,this.id=a.id,this.width=this.height=null,this.pageIndex=a.parent.pageIndex,this.name=a.name,this.div=null;let[l,c]=this.parent.viewportBaseDimensions;this.x=a.x/l,this.y=a.y/c,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#c}focusin(a){this.#n?this.#n=!1:this.parent.setSelected(this)}focusout(a){!this.isAttachedToDOM||a.relatedTarget?.closest(`#${this.id}`)||(a.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(a){let l=this.parent.div.getBoundingClientRect();this.startX=a.clientX-l.x,this.startY=a.clientY-l.y,a.dataTransfer.setData("text/plain",this.id),a.dataTransfer.effectAllowed="move"}setAt(a,l,c,d){let[u,h]=this.parent.viewportBaseDimensions;[c,d]=this.screenToPageTranslation(c,d),this.x=(a+c)/u,this.y=(l+d)/h,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(a,l){let[c,d]=this.parent.viewportBaseDimensions;[a,l]=this.screenToPageTranslation(a,l),this.x+=a/c,this.y+=l/d,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(a,l){let{rotation:c}=this.parent.viewport;switch(c){case 90:return[l,-a];case 180:return[-a,-l];case 270:return[-l,a];default:return[a,l]}}setDims(a,l){let[c,d]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*a/c}%`,this.div.style.height=`${100*l/d}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#e),this.div.addEventListener("focusout",this.#t);let[a,l]=this.getInitialTranslation();return this.translate(a,l),(0,n.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(a){let l=n.KeyboardManager.platform.isMac;if(a.button!==0||a.ctrlKey&&l){a.preventDefault();return}a.ctrlKey&&!l||a.shiftKey||a.metaKey&&l?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#n=!0}getRect(a,l){let[c,d]=this.parent.viewportBaseDimensions,[u,h]=this.parent.pageDimensions,m=u*a/c,f=h*l/d,p=this.x*u,v=this.y*h,C=this.width*u,E=this.height*h;switch(this.rotation){case 0:return[p+m,h-v-f-E,p+m+C,h-v-f];case 90:return[p+f,h-v+m,p+f+E,h-v+m+C];case 180:return[p-m-C,h-v+f,p-m,h-v+f+E];case 270:return[p-f-E,h-v-m-C,p-f,h-v-m];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(a,l){let[c,d,u,h]=a,m=u-c,f=h-d;switch(this.rotation){case 0:return[c,l-h,m,f];case 90:return[c,l-d,f,m];case 180:return[u,l-d,m,f];case 270:return[u,l-h,f,m];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#s=!0}disableEditMode(){this.#s=!1}isInEditMode(){return this.#s}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#e)}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(a,l){let c=new this.prototype.constructor({parent:l,id:l.getNextId()});c.rotation=a.rotation;let[d,u]=l.pageDimensions,[h,m,f,p]=c.getRectInCurrentCoords(a.rect,u);return c.x=h/d,c.y=m/u,c.width=f/d,c.height=p/u,c}remove(){this.div.removeEventListener("focusin",this.#e),this.div.removeEventListener("focusout",this.#t),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(a,l){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#r}set isEditing(a){this.#r=a,a?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}e.AnnotationEditor=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=s,e.opacityToHex=o;var n=r(1),i=r(8);function s(m,f,p){for(let v of p)f.addEventListener(v,m[v].bind(m))}function o(m){return Math.round(Math.min(255,Math.max(1,255*m))).toString(16).padStart(2,"0")}class a{#e=0;getId(){return`${n.AnnotationEditorPrefix}${this.#e++}`}}class l{#e=[];#t=!1;#n;#r=-1;constructor(f=128){this.#n=f}add({cmd:f,undo:p,mustExec:v,type:C=NaN,overwriteIfSameType:E=!1,keepUndo:M=!1}){if(v&&f(),this.#t)return;let D={cmd:f,undo:p,type:C};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(D);return}if(E&&this.#e[this.#r].type===C){M&&(D.undo=this.#e[this.#r].undo),this.#e[this.#r]=D;return}let y=this.#r+1;y===this.#n?this.#e.splice(0,1):(this.#r=y,y<this.#e.length&&this.#e.splice(y)),this.#e.push(D)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}e.CommandManager=l;class c{constructor(f){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let p=c.platform.isMac;for(let[v,C]of f)for(let E of v){let M=E.startsWith("mac+");p&&M?(this.callbacks.set(E.slice(4),C),this.allKeys.add(E.split("+").at(-1))):!p&&!M&&(this.callbacks.set(E,C),this.allKeys.add(E.split("+").at(-1)))}}static get platform(){let f=typeof navigator<"u"?navigator.platform:"";return(0,n.shadow)(this,"platform",{isWin:f.includes("Win"),isMac:f.includes("Mac")})}#e(f){f.altKey&&this.buffer.push("alt"),f.ctrlKey&&this.buffer.push("ctrl"),f.metaKey&&this.buffer.push("meta"),f.shiftKey&&this.buffer.push("shift"),this.buffer.push(f.key);let p=this.buffer.join("+");return this.buffer.length=0,p}exec(f,p){if(!this.allKeys.has(p.key))return;let v=this.callbacks.get(this.#e(p));v&&(v.bind(f)(),p.stopPropagation(),p.preventDefault())}}e.KeyboardManager=c;class d{#e=null;copy(f){f&&(Array.isArray(f)?this.#e=f.map(p=>p.serialize()):this.#e=[f.serialize()],this.#e=this.#e.filter(p=>!!p),this.#e.length===0&&(this.#e=null))}paste(){return this.#e}isEmpty(){return this.#e===null}destroy(){this.#e=null}}class u{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let f=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(f),(0,n.shadow)(this,"_colors",f)}convert(f){let p=(0,i.getRGB)(f);if(!window.matchMedia("(forced-colors: active)").matches)return p;for(let[v,C]of this._colors)if(C.every((E,M)=>E===p[M]))return u._colorsMapping.get(v);return p}getHexCode(f){let p=this._colors.get(f);return p?n.Util.makeHexColor(...p):f}}e.ColorManager=u;class h{#e=null;#t=new Map;#n=new Map;#r=new d;#s=new l;#c=0;#a=null;#i=null;#h=new a;#u=!1;#l=n.AnnotationEditorType.NONE;#o=new Set;#p=this.keydown.bind(this);#f=this.onEditingAction.bind(this);#y=this.onPageChanging.bind(this);#m={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#v=null;static _keyboardManager=new c([[["ctrl+a","mac+meta+a"],h.prototype.selectAll],[["ctrl+c","mac+meta+c"],h.prototype.copy],[["ctrl+v","mac+meta+v"],h.prototype.paste],[["ctrl+x","mac+meta+x"],h.prototype.cut],[["ctrl+z","mac+meta+z"],h.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],h.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],h.prototype.delete],[["Escape","mac+Escape"],h.prototype.unselectAll]]);constructor(f,p){this.#v=f,this.#i=p,this.#i._on("editingaction",this.#f),this.#i._on("pagechanging",this.#y)}destroy(){this.#_(),this.#i._off("editingaction",this.#f),this.#i._off("pagechanging",this.#y);for(let f of this.#n.values())f.destroy();this.#n.clear(),this.#t.clear(),this.#e=null,this.#o.clear(),this.#r.destroy(),this.#s.destroy()}onPageChanging({pageNumber:f}){this.#c=f-1}focusMainContainer(){this.#v.focus()}#C(){this.#v.addEventListener("keydown",this.#p)}#_(){this.#v.removeEventListener("keydown",this.#p)}keydown(f){this.getActive()?.shouldGetKeyboardEvents()||h._keyboardManager.exec(this,f)}onEditingAction(f){["undo","redo","cut","copy","paste","delete","selectAll"].includes(f.name)&&this[f.name]()}#d(f){Object.entries(f).some(([v,C])=>this.#m[v]!==C)&&this.#i.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#m,f)})}#E(f){this.#i.dispatch("annotationeditorparamschanged",{source:this,details:f})}setEditingState(f){f?(this.#C(),this.#d({isEditing:this.#l!==n.AnnotationEditorType.NONE,isEmpty:this.#b(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#r.isEmpty()})):(this.#_(),this.#d({isEditing:!1}))}registerEditorTypes(f){this.#a=f;for(let p of this.#a)this.#E(p.defaultPropertiesToUpdate)}getId(){return this.#h.getId()}addLayer(f){this.#n.set(f.pageIndex,f),this.#u?f.enable():f.disable()}removeLayer(f){this.#n.delete(f.pageIndex)}updateMode(f){if(this.#l=f,f===n.AnnotationEditorType.NONE)this.setEditingState(!1),this.#g();else{this.setEditingState(!0),this.#x();for(let p of this.#n.values())p.updateMode(f)}}updateToolbar(f){f!==this.#l&&this.#i.dispatch("switchannotationeditormode",{source:this,mode:f})}updateParams(f,p){for(let v of this.#o)v.updateParams(f,p);for(let v of this.#a)v.updateDefaultParams(f,p)}#x(){if(!this.#u){this.#u=!0;for(let f of this.#n.values())f.enable()}}#g(){if(this.unselectAll(),this.#u){this.#u=!1;for(let f of this.#n.values())f.disable()}}getEditors(f){let p=[];for(let v of this.#t.values())v.pageIndex===f&&p.push(v);return p}getEditor(f){return this.#t.get(f)}addEditor(f){this.#t.set(f.id,f)}removeEditor(f){this.#t.delete(f.id),this.unselect(f)}#S(f){let p=this.#n.get(f.pageIndex);p?p.addOrRebuild(f):this.addEditor(f)}setActiveEditor(f){this.#e!==f&&(this.#e=f,f&&this.#E(f.propertiesToUpdate))}toggleSelected(f){if(this.#o.has(f)){this.#o.delete(f),f.unselect(),this.#d({hasSelectedEditor:this.hasSelection});return}this.#o.add(f),f.select(),this.#E(f.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}setSelected(f){for(let p of this.#o)p!==f&&p.unselect();this.#o.clear(),this.#o.add(f),f.select(),this.#E(f.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}isSelected(f){return this.#o.has(f)}unselect(f){f.unselect(),this.#o.delete(f),this.#d({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#o.size!==0}undo(){this.#s.undo(),this.#d({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#b()})}redo(){this.#s.redo(),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#b()})}addCommands(f){this.#s.add(f),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#b()})}#b(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(let f of this.#t.values())return f.isEmpty();return!1}delete(){if(this.#e&&this.#e.commitOrRemove(),!this.hasSelection)return;let f=[...this.#o],p=()=>{for(let C of f)C.remove()},v=()=>{for(let C of f)this.#S(C)};this.addCommands({cmd:p,undo:v,mustExec:!0})}copy(){if(this.#e&&this.#e.commitOrRemove(),this.hasSelection){let f=[];for(let p of this.#o)p.isEmpty()||f.push(p);if(f.length===0)return;this.#r.copy(f),this.#d({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#r.isEmpty())return;this.unselectAll();let f=this.#n.get(this.#c),p=this.#r.paste().map(E=>f.deserialize(E)),v=()=>{for(let E of p)this.#S(E);this.#w(p)},C=()=>{for(let E of p)E.remove()};this.addCommands({cmd:v,undo:C,mustExec:!0})}#w(f){this.#o.clear();for(let p of f)p.isEmpty()||(this.#o.add(p),p.select());this.#d({hasSelectedEditor:!0})}selectAll(){for(let f of this.#o)f.commit();this.#w(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.#w.size!==0){for(let f of this.#o)f.unselect();this.#o.clear(),this.#d({hasSelectedEditor:!1})}}isActive(f){return this.#e===f}getActive(){return this.#e}getMode(){return this.#l}}e.AnnotationEditorUIManager=h},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=b,e.getColorValues=O,e.getCurrentTransform=q,e.getCurrentTransformInverse=$,e.getFilenameFromUrl=C,e.getPdfFilenameFromUrl=E,e.getRGB=_,e.getXfaPageViewport=B,e.isDataScheme=p,e.isPdfFile=v,e.isValidFetchUrl=D,e.loadScript=y;var n=r(9),i=r(1);let s="http://www.w3.org/2000/svg",o="pdfjs_internal_id_";e.AnnotationPrefix=o;class a{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=a;class l extends n.BaseCanvasFactory{constructor({ownerDocument:T=globalThis.document}={}){super(),this._document=T}_createCanvas(T,R){let U=this._document.createElement("canvas");return U.width=T,U.height=R,U}}e.DOMCanvasFactory=l;function c(P,T=!1){return le(this,null,function*(){if(D(P,document.baseURI)){let R=yield fetch(P);if(!R.ok)throw new Error(R.statusText);return T?new Uint8Array(yield R.arrayBuffer()):(0,i.stringToBytes)(yield R.text())}return new Promise((R,U)=>{let H=new XMLHttpRequest;H.open("GET",P,!0),T&&(H.responseType="arraybuffer"),H.onreadystatechange=()=>{if(H.readyState===XMLHttpRequest.DONE){if(H.status===200||H.status===0){let x;if(T&&H.response?x=new Uint8Array(H.response):!T&&H.responseText&&(x=(0,i.stringToBytes)(H.responseText)),x){R(x);return}}U(new Error(H.statusText))}},H.send(null)})})}class d extends n.BaseCMapReaderFactory{_fetchData(T,R){return c(T,this.isCompressed).then(U=>({cMapData:U,compressionType:R}))}}e.DOMCMapReaderFactory=d;class u extends n.BaseStandardFontDataFactory{_fetchData(T){return c(T,!0)}}e.DOMStandardFontDataFactory=u;class h extends n.BaseSVGFactory{_createSVG(T){return document.createElementNS(s,T)}}e.DOMSVGFactory=h;class m{constructor({viewBox:T,scale:R,rotation:U,offsetX:H=0,offsetY:x=0,dontFlip:S=!1}){this.viewBox=T,this.scale=R,this.rotation=U,this.offsetX=H,this.offsetY=x;let A=(T[2]+T[0])/2,L=(T[3]+T[1])/2,j,g,w,N;switch(U%=360,U<0&&(U+=360),U){case 180:j=-1,g=0,w=0,N=1;break;case 90:j=0,g=1,w=1,N=0;break;case 270:j=0,g=-1,w=-1,N=0;break;case 0:j=1,g=0,w=0,N=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}S&&(w=-w,N=-N);let k,V,W,z;j===0?(k=Math.abs(L-T[1])*R+H,V=Math.abs(A-T[0])*R+x,W=Math.abs(T[3]-T[1])*R,z=Math.abs(T[2]-T[0])*R):(k=Math.abs(A-T[0])*R+H,V=Math.abs(L-T[1])*R+x,W=Math.abs(T[2]-T[0])*R,z=Math.abs(T[3]-T[1])*R),this.transform=[j*R,g*R,w*R,N*R,k-j*R*A-w*R*L,V-g*R*A-N*R*L],this.width=W,this.height=z}clone({scale:T=this.scale,rotation:R=this.rotation,offsetX:U=this.offsetX,offsetY:H=this.offsetY,dontFlip:x=!1}={}){return new m({viewBox:this.viewBox.slice(),scale:T,rotation:R,offsetX:U,offsetY:H,dontFlip:x})}convertToViewportPoint(T,R){return i.Util.applyTransform([T,R],this.transform)}convertToViewportRectangle(T){let R=i.Util.applyTransform([T[0],T[1]],this.transform),U=i.Util.applyTransform([T[2],T[3]],this.transform);return[R[0],R[1],U[0],U[1]]}convertToPdfPoint(T,R){return i.Util.applyInverseTransform([T,R],this.transform)}}e.PageViewport=m;class f extends i.BaseException{constructor(T,R){super(T,"RenderingCancelledException"),this.type=R}}e.RenderingCancelledException=f;function p(P){let T=P.length,R=0;for(;R<T&&P[R].trim()==="";)R++;return P.substring(R,R+5).toLowerCase()==="data:"}function v(P){return typeof P=="string"&&/\.pdf$/i.test(P)}function C(P){let T=P.indexOf("#"),R=P.indexOf("?"),U=Math.min(T>0?T:P.length,R>0?R:P.length);return P.substring(P.lastIndexOf("/",U)+1,U)}function E(P,T="document.pdf"){if(typeof P!="string")return T;if(p(P))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),T;let R=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,U=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,H=R.exec(P),x=U.exec(H[1])||U.exec(H[2])||U.exec(H[3]);if(x&&(x=x[0],x.includes("%")))try{x=U.exec(decodeURIComponent(x))[0]}catch{}return x||T}class M{constructor(){this.started=Object.create(null),this.times=[]}time(T){T in this.started&&(0,i.warn)(`Timer is already running for ${T}`),this.started[T]=Date.now()}timeEnd(T){T in this.started||(0,i.warn)(`Timer has not been started for ${T}`),this.times.push({name:T,start:this.started[T],end:Date.now()}),delete this.started[T]}toString(){let T=[],R=0;for(let U of this.times){let H=U.name;H.length>R&&(R=H.length)}for(let U of this.times){let H=U.end-U.start;T.push(`${U.name.padEnd(R)} ${H}ms
`)}return T.join("")}}e.StatTimer=M;function D(P,T){try{let{protocol:R}=T?new URL(P,T):new URL(P);return R==="http:"||R==="https:"}catch{return!1}}function y(P,T=!1){return new Promise((R,U)=>{let H=document.createElement("script");H.src=P,H.onload=function(x){T&&H.remove(),R(x)},H.onerror=function(){U(new Error(`Cannot load script at: ${H.src}`))},(document.head||document.documentElement).append(H)})}function b(P){console.log("Deprecated API usage: "+P)}let I;class F{static toDateObject(T){if(!T||typeof T!="string")return null;I||(I=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));let R=I.exec(T);if(!R)return null;let U=parseInt(R[1],10),H=parseInt(R[2],10);H=H>=1&&H<=12?H-1:0;let x=parseInt(R[3],10);x=x>=1&&x<=31?x:1;let S=parseInt(R[4],10);S=S>=0&&S<=23?S:0;let A=parseInt(R[5],10);A=A>=0&&A<=59?A:0;let L=parseInt(R[6],10);L=L>=0&&L<=59?L:0;let j=R[7]||"Z",g=parseInt(R[8],10);g=g>=0&&g<=23?g:0;let w=parseInt(R[9],10)||0;return w=w>=0&&w<=59?w:0,j==="-"?(S+=g,A+=w):j==="+"&&(S-=g,A-=w),new Date(Date.UTC(U,H,x,S,A,L))}}e.PDFDateString=F;function B(P,{scale:T=1,rotation:R=0}){let{width:U,height:H}=P.attributes.style,x=[0,0,parseInt(U),parseInt(H)];return new m({viewBox:x,scale:T,rotation:R})}function _(P){if(P.startsWith("#")){let T=parseInt(P.slice(1),16);return[(T&16711680)>>16,(T&65280)>>8,T&255]}return P.startsWith("rgb(")?P.slice(4,-1).split(",").map(T=>parseInt(T)):P.startsWith("rgba(")?P.slice(5,-1).split(",").map(T=>parseInt(T)).slice(0,3):((0,i.warn)(`Not a valid color format: "${P}"`),[0,0,0])}function O(P){let T=document.createElement("span");T.style.visibility="hidden",document.body.append(T);for(let R of P.keys()){T.style.color=R;let U=window.getComputedStyle(T).color;P.set(R,_(U))}T.remove()}function q(P){let{a:T,b:R,c:U,d:H,e:x,f:S}=P.getTransform();return[T,R,U,H,x,S]}function $(P){let{a:T,b:R,c:U,d:H,e:x,f:S}=P.getTransform().invertSelf();return[T,R,U,H,x,S]}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var n=r(1);class i{constructor(){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,d){if(c<=0||d<=0)throw new Error("Invalid canvas size");let u=this._createCanvas(c,d);return{canvas:u,context:u.getContext("2d")}}reset(c,d,u){if(!c.canvas)throw new Error("Canvas is not specified");if(d<=0||u<=0)throw new Error("Invalid canvas size");c.canvas.width=d,c.canvas.height=u}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,d){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=i;class s{constructor({baseUrl:c=null,isCompressed:d=!1}){this.constructor===s&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=d}fetch(d){return le(this,arguments,function*({name:c}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");let u=this.baseUrl+c+(this.isCompressed?".bcmap":""),h=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(u,h).catch(m=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${u}`)})})}_fetchData(c,d){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=s;class o{constructor({baseUrl:c=null}){this.constructor===o&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}fetch(d){return le(this,arguments,function*({filename:c}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");let u=`${this.baseUrl}${c}`;return this._fetchData(u).catch(h=>{throw new Error(`Unable to load font data at: ${u}`)})})}_fetchData(c){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=o;class a{constructor(){this.constructor===a&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,d,u=!1){if(c<=0||d<=0)throw new Error("Invalid SVG dimensions");let h=this._createSVG("svg:svg");return h.setAttribute("version","1.1"),u||(h.setAttribute("width",`${c}px`),h.setAttribute("height",`${d}px`)),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("viewBox",`0 0 ${c} ${d}`),h}createElement(c){if(typeof c!="string")throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,n.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var n=r(1);let i=3285377520,s=4294901760,o=65535;class a{constructor(c){this.h1=c?c&4294967295:i,this.h2=c?c&4294967295:i}update(c){let d,u;if(typeof c=="string"){d=new Uint8Array(c.length*2),u=0;for(let I=0,F=c.length;I<F;I++){let B=c.charCodeAt(I);B<=255?d[u++]=B:(d[u++]=B>>>8,d[u++]=B&255)}}else if((0,n.isArrayBuffer)(c))d=c.slice(),u=d.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let h=u>>2,m=u-h*4,f=new Uint32Array(d.buffer,0,h),p=0,v=0,C=this.h1,E=this.h2,M=3432918353,D=461845907,y=M&o,b=D&o;for(let I=0;I<h;I++)I&1?(p=f[I],p=p*M&s|p*y&o,p=p<<15|p>>>17,p=p*D&s|p*b&o,C^=p,C=C<<13|C>>>19,C=C*5+3864292196):(v=f[I],v=v*M&s|v*y&o,v=v<<15|v>>>17,v=v*D&s|v*b&o,E^=v,E=E<<13|E>>>19,E=E*5+3864292196);switch(p=0,m){case 3:p^=d[h*4+2]<<16;case 2:p^=d[h*4+1]<<8;case 1:p^=d[h*4],p=p*M&s|p*y&o,p=p<<15|p>>>17,p=p*D&s|p*b&o,h&1?C^=p:E^=p}this.h1=C,this.h2=E}hexdigest(){let c=this.h1,d=this.h2;c^=d>>>1,c=c*3981806797&s|c*36045&o,d=d*4283543511&s|((d<<16|c>>>16)*2950163797&s)>>>16,c^=d>>>1,c=c*444984403&s|c*60499&o,d=d*3301882366&s|((d<<16|c>>>16)*3120437893&s)>>>16,c^=d>>>1;let u=(c>>>0).toString(16),h=(d>>>0).toString(16);return u.padStart(8,"0")+h.padStart(8,"0")}}e.MurmurHash3_64=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var n=r(1);class i{constructor({docId:l,onUnsupportedFeature:c,ownerDocument:d=globalThis.document,styleElement:u=null}){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseFontLoader."),this.docId=l,this._onUnsupportedFeature=c,this._document=d,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(l){this.nativeFontFaces.push(l),this._document.fonts.add(l)}insertRule(l){let c=this.styleElement;c||(c=this.styleElement=this._document.createElement("style"),c.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(c));let d=c.sheet;d.insertRule(l,d.cssRules.length)}clear(){for(let l of this.nativeFontFaces)this._document.fonts.delete(l);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(l){return le(this,null,function*(){if(l.attached||l.missingFile)return;if(l.attached=!0,this.isFontLoadingAPISupported){let d=l.createNativeFontFace();if(d){this.addNativeFontFace(d);try{yield d.loaded}catch(u){throw this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,n.warn)(`Failed to load font '${d.family}': '${u}'.`),l.disableFontFace=!0,u}}return}let c=l.createFontFaceRule();if(c){if(this.insertRule(c),this.isSyncFontLoadingSupported)return;yield new Promise(d=>{let u=this._queueLoadingCallback(d);this._prepareFontLoadEvent([c],[l],u)})}})}_queueLoadingCallback(l){(0,n.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){let l=!!this._document?.fonts;return(0,n.shadow)(this,"isFontLoadingAPISupported",l)}get isSyncFontLoadingSupported(){(0,n.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,n.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(l,c,d){(0,n.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let s;e.FontLoader=s,e.FontLoader=s=class extends i{constructor(l){super(l),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let l=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(l=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",l)}_queueLoadingCallback(l){function c(){for((0,n.assert)(!u.done,"completeRequest() cannot be called twice."),u.done=!0;d.requests.length>0&&d.requests[0].done;){let h=d.requests.shift();setTimeout(h.callback,0)}}let d=this.loadingContext,u={id:`pdfjs-font-loading-${d.nextRequestId++}`,done:!1,complete:c,callback:l};return d.requests.push(u),u}get _loadTestFont(){let l=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,n.shadow)(this,"_loadTestFont",l())}_prepareFontLoadEvent(l,c,d){function u($,P){return $.charCodeAt(P)<<24|$.charCodeAt(P+1)<<16|$.charCodeAt(P+2)<<8|$.charCodeAt(P+3)&255}function h($,P,T,R){let U=$.substring(0,P),H=$.substring(P+T);return U+R+H}let m,f,p=this._document.createElement("canvas");p.width=1,p.height=1;let v=p.getContext("2d"),C=0;function E($,P){if(C++,C>30){(0,n.warn)("Load test font never loaded."),P();return}if(v.font="30px "+$,v.fillText(".",0,20),v.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(E.bind(null,$,P))}let M=`lt${Date.now()}${this.loadTestFontId++}`,D=this._loadTestFont;D=h(D,976,M.length,M);let b=16,I=1482184792,F=u(D,b);for(m=0,f=M.length-3;m<f;m+=4)F=F-I+u(M,m)|0;m<M.length&&(F=F-I+u(M+"XXX",m)|0),D=h(D,b,4,(0,n.string32)(F));let B=`url(data:font/opentype;base64,${btoa(D)});`,_=`@font-face {font-family:"${M}";src:${B}}`;this.insertRule(_);let O=[];for(let $ of c)O.push($.loadedName);O.push(M);let q=this._document.createElement("div");q.style.visibility="hidden",q.style.width=q.style.height="10px",q.style.position="absolute",q.style.top=q.style.left="0px";for(let $ of O){let P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=$,q.append(P)}this._document.body.append(q),E(M,()=>{q.remove(),d.complete()})}};class o{constructor(l,{isEvalSupported:c=!0,disableFontFace:d=!1,ignoreErrors:u=!1,onUnsupportedFeature:h,fontRegistry:m=null}){this.compiledGlyphs=Object.create(null);for(let f in l)this[f]=l[f];this.isEvalSupported=c!==!1,this.disableFontFace=d===!0,this.ignoreErrors=u===!0,this._onUnsupportedFeature=h,this.fontRegistry=m}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let l;if(!this.cssFontInfo)l=new FontFace(this.loadedName,this.data,{});else{let c={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(c.style=`oblique ${this.cssFontInfo.italicAngle}deg`),l=new FontFace(this.cssFontInfo.fontFamily,this.data,c)}return this.fontRegistry&&this.fontRegistry.registerFont(this),l}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let l=(0,n.bytesToString)(this.data),c=`url(data:${this.mimetype};base64,${btoa(l)});`,d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${c}}`;else{let u=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(u+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${u}src:${c}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,c),d}getPathGenerator(l,c){if(this.compiledGlyphs[c]!==void 0)return this.compiledGlyphs[c];let d;try{d=l.get(this.loadedName+"_path_"+c)}catch(u){if(!this.ignoreErrors)throw u;return this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,n.warn)(`getPathGenerator - ignoring character: "${u}".`),this.compiledGlyphs[c]=function(h,m){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){let u=[];for(let h of d){let m=h.args!==void 0?h.args.join(","):"";u.push("c.",h.cmd,"(",m,`);
`)}return this.compiledGlyphs[c]=new Function("c","size",u.join(""))}return this.compiledGlyphs[c]=function(u,h){for(let m of d)m.cmd==="scale"&&(m.args=[h,-h]),u[m.cmd].apply(u,m.args)}}}e.FontFaceObject=o},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var n=r(8),i=r(1),s=r(13),o=r(14),a=r(3);let l=16,c=100,d=4096,u=15,h=10,m=a.isNodeJS&&typeof Path2D>"u"?-1:1e3,f=16;function p(x,S){if(x._removeMirroring)throw new Error("Context is already forwarding operations.");x.__originalSave=x.save,x.__originalRestore=x.restore,x.__originalRotate=x.rotate,x.__originalScale=x.scale,x.__originalTranslate=x.translate,x.__originalTransform=x.transform,x.__originalSetTransform=x.setTransform,x.__originalResetTransform=x.resetTransform,x.__originalClip=x.clip,x.__originalMoveTo=x.moveTo,x.__originalLineTo=x.lineTo,x.__originalBezierCurveTo=x.bezierCurveTo,x.__originalRect=x.rect,x.__originalClosePath=x.closePath,x.__originalBeginPath=x.beginPath,x._removeMirroring=()=>{x.save=x.__originalSave,x.restore=x.__originalRestore,x.rotate=x.__originalRotate,x.scale=x.__originalScale,x.translate=x.__originalTranslate,x.transform=x.__originalTransform,x.setTransform=x.__originalSetTransform,x.resetTransform=x.__originalResetTransform,x.clip=x.__originalClip,x.moveTo=x.__originalMoveTo,x.lineTo=x.__originalLineTo,x.bezierCurveTo=x.__originalBezierCurveTo,x.rect=x.__originalRect,x.closePath=x.__originalClosePath,x.beginPath=x.__originalBeginPath,delete x._removeMirroring},x.save=function(){S.save(),this.__originalSave()},x.restore=function(){S.restore(),this.__originalRestore()},x.translate=function(L,j){S.translate(L,j),this.__originalTranslate(L,j)},x.scale=function(L,j){S.scale(L,j),this.__originalScale(L,j)},x.transform=function(L,j,g,w,N,k){S.transform(L,j,g,w,N,k),this.__originalTransform(L,j,g,w,N,k)},x.setTransform=function(L,j,g,w,N,k){S.setTransform(L,j,g,w,N,k),this.__originalSetTransform(L,j,g,w,N,k)},x.resetTransform=function(){S.resetTransform(),this.__originalResetTransform()},x.rotate=function(L){S.rotate(L),this.__originalRotate(L)},x.clip=function(L){S.clip(L),this.__originalClip(L)},x.moveTo=function(A,L){S.moveTo(A,L),this.__originalMoveTo(A,L)},x.lineTo=function(A,L){S.lineTo(A,L),this.__originalLineTo(A,L)},x.bezierCurveTo=function(A,L,j,g,w,N){S.bezierCurveTo(A,L,j,g,w,N),this.__originalBezierCurveTo(A,L,j,g,w,N)},x.rect=function(A,L,j,g){S.rect(A,L,j,g),this.__originalRect(A,L,j,g)},x.closePath=function(){S.closePath(),this.__originalClosePath()},x.beginPath=function(){S.beginPath(),this.__originalBeginPath()}}class v{constructor(S){this.canvasFactory=S,this.cache=Object.create(null)}getCanvas(S,A,L){let j;return this.cache[S]!==void 0?(j=this.cache[S],this.canvasFactory.reset(j,A,L)):(j=this.canvasFactory.create(A,L),this.cache[S]=j),j}delete(S){delete this.cache[S]}clear(){for(let S in this.cache){let A=this.cache[S];this.canvasFactory.destroy(A),delete this.cache[S]}}}function C(x,S,A,L,j,g,w,N,k,V){let[W,z,X,K,Y,G]=(0,n.getCurrentTransform)(x);if(z===0&&X===0){let te=w*W+Y,re=Math.round(te),ie=N*K+G,oe=Math.round(ie),se=(w+k)*W+Y,Ae=Math.abs(Math.round(se)-re)||1,Me=(N+V)*K+G,de=Math.abs(Math.round(Me)-oe)||1;return x.setTransform(Math.sign(W),0,0,Math.sign(K),re,oe),x.drawImage(S,A,L,j,g,0,0,Ae,de),x.setTransform(W,z,X,K,Y,G),[Ae,de]}if(W===0&&K===0){let te=N*X+Y,re=Math.round(te),ie=w*z+G,oe=Math.round(ie),se=(N+V)*X+Y,Ae=Math.abs(Math.round(se)-re)||1,Me=(w+k)*z+G,de=Math.abs(Math.round(Me)-oe)||1;return x.setTransform(0,Math.sign(z),Math.sign(X),0,re,oe),x.drawImage(S,A,L,j,g,0,0,de,Ae),x.setTransform(W,z,X,K,Y,G),[de,Ae]}x.drawImage(S,A,L,j,g,w,N,k,V);let Z=Math.hypot(W,z),ee=Math.hypot(X,K);return[Z*k,ee*V]}function E(x){let{width:S,height:A}=x;if(S>m||A>m)return null;let L=1e3,j=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),g=S+1,w=new Uint8Array(g*(A+1)),N,k,V,W=S+7&-8,z=new Uint8Array(W*A),X=0;for(let ee of x.data){let te=128;for(;te>0;)z[X++]=ee&te?0:255,te>>=1}let K=0;for(X=0,z[X]!==0&&(w[0]=1,++K),k=1;k<S;k++)z[X]!==z[X+1]&&(w[k]=z[X]?2:1,++K),X++;for(z[X]!==0&&(w[k]=2,++K),N=1;N<A;N++){X=N*W,V=N*g,z[X-W]!==z[X]&&(w[V]=z[X]?1:8,++K);let ee=(z[X]?4:0)+(z[X-W]?8:0);for(k=1;k<S;k++)ee=(ee>>2)+(z[X+1]?4:0)+(z[X-W+1]?8:0),j[ee]&&(w[V+k]=j[ee],++K),X++;if(z[X-W]!==z[X]&&(w[V+k]=z[X]?2:4,++K),K>L)return null}for(X=W*(A-1),V=N*g,z[X]!==0&&(w[V]=8,++K),k=1;k<S;k++)z[X]!==z[X+1]&&(w[V+k]=z[X]?4:8,++K),X++;if(z[X]!==0&&(w[V+k]=4,++K),K>L)return null;let Y=new Int32Array([0,g,-1,0,-g,0,0,0,1]),G=new Path2D;for(N=0;K&&N<=A;N++){let ee=N*g,te=ee+S;for(;ee<te&&!w[ee];)ee++;if(ee===te)continue;G.moveTo(ee%g,N);let re=ee,ie=w[ee];do{let oe=Y[ie];do ee+=oe;while(!w[ee]);let se=w[ee];se!==5&&se!==10?(ie=se,w[ee]=0):(ie=se&51*ie>>4,w[ee]&=ie>>2|ie<<2),G.lineTo(ee%g,ee/g|0),w[ee]||--K}while(re!==ee);--N}return z=null,w=null,function(ee){ee.save(),ee.scale(1/S,-1/A),ee.translate(0,-A),ee.fill(G),ee.beginPath(),ee.restore()}}class M{constructor(S,A){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,S,A])}clone(){let S=Object.create(this);return S.clipBox=this.clipBox.slice(),S}setCurrentPoint(S,A){this.x=S,this.y=A}updatePathMinMax(S,A,L){[A,L]=i.Util.applyTransform([A,L],S),this.minX=Math.min(this.minX,A),this.minY=Math.min(this.minY,L),this.maxX=Math.max(this.maxX,A),this.maxY=Math.max(this.maxY,L)}updateRectMinMax(S,A){let L=i.Util.applyTransform(A,S),j=i.Util.applyTransform(A.slice(2),S);this.minX=Math.min(this.minX,L[0],j[0]),this.minY=Math.min(this.minY,L[1],j[1]),this.maxX=Math.max(this.maxX,L[0],j[0]),this.maxY=Math.max(this.maxY,L[1],j[1])}updateScalingPathMinMax(S,A){i.Util.scaleMinMax(S,A),this.minX=Math.min(this.minX,A[0]),this.maxX=Math.max(this.maxX,A[1]),this.minY=Math.min(this.minY,A[2]),this.maxY=Math.max(this.maxY,A[3])}updateCurvePathMinMax(S,A,L,j,g,w,N,k,V,W){let z=i.Util.bezierBoundingBox(A,L,j,g,w,N,k,V);if(W){W[0]=Math.min(W[0],z[0],z[2]),W[1]=Math.max(W[1],z[0],z[2]),W[2]=Math.min(W[2],z[1],z[3]),W[3]=Math.max(W[3],z[1],z[3]);return}this.updateRectMinMax(S,z)}getPathBoundingBox(S=s.PathType.FILL,A=null){let L=[this.minX,this.minY,this.maxX,this.maxY];if(S===s.PathType.STROKE){A||(0,i.unreachable)("Stroke bounding box must include transform.");let j=i.Util.singularValueDecompose2dScale(A),g=j[0]*this.lineWidth/2,w=j[1]*this.lineWidth/2;L[0]-=g,L[1]-=w,L[2]+=g,L[3]+=w}return L}updateClipFromPath(){let S=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(S||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(S){this.clipBox=S,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(S=s.PathType.FILL,A=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(S,A))}}function D(x,S,A=null){if(typeof ImageData<"u"&&S instanceof ImageData){x.putImageData(S,0,0);return}let L=S.height,j=S.width,g=L%f,w=(L-g)/f,N=g===0?w:w+1,k=x.createImageData(j,f),V=0,W,z=S.data,X=k.data,K,Y,G,Z,ee,te,re,ie;if(A)switch(A.length){case 1:ee=A[0],te=A[0],re=A[0],ie=A[0];break;case 4:ee=A[0],te=A[1],re=A[2],ie=A[3];break}if(S.kind===i.ImageKind.GRAYSCALE_1BPP){let oe=z.byteLength,se=new Uint32Array(X.buffer,0,X.byteLength>>2),Ae=se.length,Me=j+7>>3,de=4294967295,Re=i.FeatureTest.isLittleEndian?4278190080:255;for(ie&&ie[0]===255&&ie[255]===0&&([de,Re]=[Re,de]),K=0;K<N;K++){for(G=K<w?f:g,W=0,Y=0;Y<G;Y++){let Be=oe-V,rt=0,Ue=Be>Me?j:Be*8-7,It=Ue&-8,We=0,Ve=0;for(;rt<It;rt+=8)Ve=z[V++],se[W++]=Ve&128?de:Re,se[W++]=Ve&64?de:Re,se[W++]=Ve&32?de:Re,se[W++]=Ve&16?de:Re,se[W++]=Ve&8?de:Re,se[W++]=Ve&4?de:Re,se[W++]=Ve&2?de:Re,se[W++]=Ve&1?de:Re;for(;rt<Ue;rt++)We===0&&(Ve=z[V++],We=128),se[W++]=Ve&We?de:Re,We>>=1}for(;W<Ae;)se[W++]=0;x.putImageData(k,0,K*f)}}else if(S.kind===i.ImageKind.RGBA_32BPP){let oe=!!(ee||te||re);for(Y=0,Z=j*f*4,K=0;K<w;K++){if(X.set(z.subarray(V,V+Z)),V+=Z,oe)for(let se=0;se<Z;se+=4)ee&&(X[se+0]=ee[X[se+0]]),te&&(X[se+1]=te[X[se+1]]),re&&(X[se+2]=re[X[se+2]]);x.putImageData(k,0,Y),Y+=f}if(K<N){if(Z=j*g*4,X.set(z.subarray(V,V+Z)),oe)for(let se=0;se<Z;se+=4)ee&&(X[se+0]=ee[X[se+0]]),te&&(X[se+1]=te[X[se+1]]),re&&(X[se+2]=re[X[se+2]]);x.putImageData(k,0,Y)}}else if(S.kind===i.ImageKind.RGB_24BPP){let oe=!!(ee||te||re);for(G=f,Z=j*G,K=0;K<N;K++){for(K>=w&&(G=g,Z=j*G),W=0,Y=Z;Y--;)X[W++]=z[V++],X[W++]=z[V++],X[W++]=z[V++],X[W++]=255;if(oe)for(let se=0;se<W;se+=4)ee&&(X[se+0]=ee[X[se+0]]),te&&(X[se+1]=te[X[se+1]]),re&&(X[se+2]=re[X[se+2]]);x.putImageData(k,0,K*f)}}else throw new Error(`bad image kind: ${S.kind}`)}function y(x,S){if(S.bitmap){x.drawImage(S.bitmap,0,0);return}let A=S.height,L=S.width,j=A%f,g=(A-j)/f,w=j===0?g:g+1,N=x.createImageData(L,f),k=0,V=S.data,W=N.data;for(let z=0;z<w;z++){let X=z<g?f:j;({srcPos:k}=(0,o.applyMaskImageData)({src:V,srcPos:k,dest:W,width:L,height:X})),x.putImageData(N,0,z*f)}}function b(x,S){let A=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let L=0,j=A.length;L<j;L++){let g=A[L];x[g]!==void 0&&(S[g]=x[g])}x.setLineDash!==void 0&&(S.setLineDash(x.getLineDash()),S.lineDashOffset=x.lineDashOffset)}function I(x,S){x.strokeStyle=x.fillStyle=S||"#000000",x.fillRule="nonzero",x.globalAlpha=1,x.lineWidth=1,x.lineCap="butt",x.lineJoin="miter",x.miterLimit=10,x.globalCompositeOperation="source-over",x.font="10px sans-serif",x.setLineDash!==void 0&&(x.setLineDash([]),x.lineDashOffset=0)}function F(x,S,A,L){let j=x.length;for(let g=3;g<j;g+=4){let w=x[g];if(w===0)x[g-3]=S,x[g-2]=A,x[g-1]=L;else if(w<255){let N=255-w;x[g-3]=x[g-3]*w+S*N>>8,x[g-2]=x[g-2]*w+A*N>>8,x[g-1]=x[g-1]*w+L*N>>8}}}function B(x,S,A){let L=x.length,j=1/255;for(let g=3;g<L;g+=4){let w=A?A[x[g]]:x[g];S[g]=S[g]*w*j|0}}function _(x,S,A){let L=x.length;for(let j=3;j<L;j+=4){let g=x[j-3]*77+x[j-2]*152+x[j-1]*28;S[j]=A?S[j]*A[g>>8]>>8:S[j]*g>>16}}function O(x,S,A,L,j,g,w,N,k,V,W){let z=!!g,X=z?g[0]:0,K=z?g[1]:0,Y=z?g[2]:0,G;j==="Luminosity"?G=_:G=B;let ee=Math.min(L,Math.ceil(1048576/A));for(let te=0;te<L;te+=ee){let re=Math.min(ee,L-te),ie=x.getImageData(N-V,te+(k-W),A,re),oe=S.getImageData(N,te+k,A,re);z&&F(ie.data,X,K,Y),G(ie.data,oe.data,w),S.putImageData(oe,N,te+k)}}function q(x,S,A,L){let j=L[0],g=L[1],w=L[2]-j,N=L[3]-g;w===0||N===0||(O(S.context,A,w,N,S.subtype,S.backdrop,S.transferMap,j,g,S.offsetX,S.offsetY),x.save(),x.globalAlpha=1,x.globalCompositeOperation="source-over",x.setTransform(1,0,0,1,0,0),x.drawImage(A.canvas,0,0),x.restore())}function $(x,S){let A=i.Util.singularValueDecompose2dScale(x);A[0]=Math.fround(A[0]),A[1]=Math.fround(A[1]);let L=Math.fround((globalThis.devicePixelRatio||1)*n.PixelsPerInch.PDF_TO_CSS_UNITS);return S!==void 0?S:A[0]<=L||A[1]<=L}let P=["butt","round","square"],T=["miter","round","bevel"],R={},U={};class H{constructor(S,A,L,j,g,w,N,k){this.ctx=S,this.current=new M(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=A,this.objs=L,this.canvasFactory=j,this.imageLayer=g,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=w,this.cachedCanvases=new v(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=N,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=k?.background||null,this.foregroundColor=k?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(S,A=null){return typeof S=="string"?S.startsWith("g_")?this.commonObjs.get(S):this.objs.get(S):A}beginDrawing({transform:S,viewport:A,transparency:L=!1,background:j=null}){let g=this.ctx.canvas.width,w=this.ctx.canvas.height,N=j||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;let k=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;let V=this.backgroundColor=this.ctx.fillStyle,W=!0,z=N;if(this.ctx.fillStyle=N,z=this.ctx.fillStyle,W=typeof z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(z),k==="#000000"&&V==="#ffffff"||k===V||!W)this.foregroundColor=this.backgroundColor=null;else{let[X,K,Y]=(0,n.getRGB)(z),G=ee=>(ee/=255,ee<=.03928?ee/12.92:((ee+.055)/1.055)**2.4),Z=Math.round(.2126*G(X)+.7152*G(K)+.0722*G(Y));this.selectColor=(ee,te,re)=>{let ie=.2126*G(ee)+.7152*G(te)+.0722*G(re);return Math.round(ie)===Z?V:k}}}if(this.ctx.fillStyle=this.backgroundColor||N,this.ctx.fillRect(0,0,g,w),this.ctx.restore(),L){let k=this.cachedCanvases.getCanvas("transparent",g,w);this.compositeCtx=this.ctx,this.transparentCanvas=k.canvas,this.ctx=k.context,this.ctx.save(),this.ctx.transform(...(0,n.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),I(this.ctx,this.foregroundColor),S&&(this.ctx.transform(...S),this.outputScaleX=S[0],this.outputScaleY=S[0]),this.ctx.transform(...A.transform),this.viewportScale=A.scale,this.baseTransform=(0,n.getCurrentTransform)(this.ctx),this.imageLayer&&((0,n.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(S,A,L,j){let g=S.argsArray,w=S.fnArray,N=A||0,k=g.length;if(k===N)return N;let V=k-N>h&&typeof L=="function",W=V?Date.now()+u:0,z=0,X=this.commonObjs,K=this.objs,Y;for(;;){if(j!==void 0&&N===j.nextBreakPoint)return j.breakIt(N,L),N;if(Y=w[N],Y!==i.OPS.dependency)this[Y].apply(this,g[N]);else for(let G of g[N]){let Z=G.startsWith("g_")?X:K;if(!Z.has(G))return Z.get(G,L),N}if(N++,N===k)return N;if(V&&++z>h){if(Date.now()>W)return L(),N;z=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let S of this._cachedBitmapsMap.values()){for(let A of S.values())typeof HTMLCanvasElement<"u"&&A instanceof HTMLCanvasElement&&(A.width=A.height=0);S.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(S,A){let L=S.width,j=S.height,g=Math.max(Math.hypot(A[0],A[1]),1),w=Math.max(Math.hypot(A[2],A[3]),1),N=L,k=j,V="prescale1",W,z;for(;g>2&&N>1||w>2&&k>1;){let X=N,K=k;g>2&&N>1&&(X=Math.ceil(N/2),g/=N/X),w>2&&k>1&&(K=Math.ceil(k/2),w/=k/K),W=this.cachedCanvases.getCanvas(V,X,K),z=W.context,z.clearRect(0,0,X,K),z.drawImage(S,0,0,N,k,0,0,X,K),S=W.canvas,N=X,k=K,V=V==="prescale1"?"prescale2":"prescale1"}return{img:S,paintWidth:N,paintHeight:k}}_createMaskCanvas(S){let A=this.ctx,{width:L,height:j}=S,g=this.current.fillColor,w=this.current.patternFill,N=(0,n.getCurrentTransform)(A),k,V,W,z;if((S.bitmap||S.data)&&S.count>1){let Ae=S.bitmap||S.data.buffer,Me=N.slice(0,4);V=JSON.stringify(w?Me:[Me,g]),k=this._cachedBitmapsMap.get(Ae),k||(k=new Map,this._cachedBitmapsMap.set(Ae,k));let de=k.get(V);if(de&&!w){let Re=Math.round(Math.min(N[0],N[2])+N[4]),Be=Math.round(Math.min(N[1],N[3])+N[5]);return{canvas:de,offsetX:Re,offsetY:Be}}W=de}W||(z=this.cachedCanvases.getCanvas("maskCanvas",L,j),y(z.context,S));let X=i.Util.transform(N,[1/L,0,0,-1/j,0,0]);X=i.Util.transform(X,[1,0,0,1,0,-j]);let K=i.Util.applyTransform([0,0],X),Y=i.Util.applyTransform([L,j],X),G=i.Util.normalizeRect([K[0],K[1],Y[0],Y[1]]),Z=Math.round(G[2]-G[0])||1,ee=Math.round(G[3]-G[1])||1,te=this.cachedCanvases.getCanvas("fillCanvas",Z,ee),re=te.context,ie=Math.min(K[0],Y[0]),oe=Math.min(K[1],Y[1]);re.translate(-ie,-oe),re.transform(...X),W||(W=this._scaleImage(z.canvas,(0,n.getCurrentTransformInverse)(re)),W=W.img,k&&w&&k.set(V,W)),re.imageSmoothingEnabled=$((0,n.getCurrentTransform)(re),S.interpolate),C(re,W,0,0,W.width,W.height,0,0,L,j),re.globalCompositeOperation="source-in";let se=i.Util.transform((0,n.getCurrentTransformInverse)(re),[1,0,0,1,-ie,-oe]);return re.fillStyle=w?g.getPattern(A,this,se,s.PathType.FILL):g,re.fillRect(0,0,L,j),k&&!w&&(this.cachedCanvases.delete("fillCanvas"),k.set(V,te.canvas)),{canvas:te.canvas,offsetX:Math.round(ie),offsetY:Math.round(oe)}}setLineWidth(S){S!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=S,this.ctx.lineWidth=S}setLineCap(S){this.ctx.lineCap=P[S]}setLineJoin(S){this.ctx.lineJoin=T[S]}setMiterLimit(S){this.ctx.miterLimit=S}setDash(S,A){let L=this.ctx;L.setLineDash!==void 0&&(L.setLineDash(S),L.lineDashOffset=A)}setRenderingIntent(S){}setFlatness(S){}setGState(S){for(let A=0,L=S.length;A<L;A++){let j=S[A],g=j[0],w=j[1];switch(g){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w[0],w[1]);break;case"CA":this.current.strokeAlpha=j[1];break;case"ca":this.current.fillAlpha=j[1],this.ctx.globalAlpha=j[1];break;case"BM":this.ctx.globalCompositeOperation=w;break;case"SMask":this.current.activeSMask=w?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=w}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let S=this.inSMaskMode;this.current.activeSMask&&!S?this.beginSMaskMode():!this.current.activeSMask&&S&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let S=this.ctx.canvas.width,A=this.ctx.canvas.height,L="smaskGroupAt"+this.groupLevel,j=this.cachedCanvases.getCanvas(L,S,A);this.suspendedCtx=this.ctx,this.ctx=j.context;let g=this.ctx;g.setTransform(...(0,n.getCurrentTransform)(this.suspendedCtx)),b(this.suspendedCtx,g),p(g,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),b(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(S){if(!this.current.activeSMask)return;S?(S[0]=Math.floor(S[0]),S[1]=Math.floor(S[1]),S[2]=Math.ceil(S[2]),S[3]=Math.ceil(S[3])):S=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let A=this.current.activeSMask,L=this.suspendedCtx;q(L,A,this.ctx,S),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(b(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let S=this.current;this.stateStack.push(S),this.current=S.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),b(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(S,A,L,j,g,w){this.ctx.transform(S,A,L,j,g,w),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(S,A,L){let j=this.ctx,g=this.current,w=g.x,N=g.y,k,V,W=(0,n.getCurrentTransform)(j),z=W[0]===0&&W[3]===0||W[1]===0&&W[2]===0,X=z?L.slice(0):null;for(let K=0,Y=0,G=S.length;K<G;K++)switch(S[K]|0){case i.OPS.rectangle:w=A[Y++],N=A[Y++];let Z=A[Y++],ee=A[Y++],te=w+Z,re=N+ee;j.moveTo(w,N),Z===0||ee===0?j.lineTo(te,re):(j.lineTo(te,N),j.lineTo(te,re),j.lineTo(w,re)),z||g.updateRectMinMax(W,[w,N,te,re]),j.closePath();break;case i.OPS.moveTo:w=A[Y++],N=A[Y++],j.moveTo(w,N),z||g.updatePathMinMax(W,w,N);break;case i.OPS.lineTo:w=A[Y++],N=A[Y++],j.lineTo(w,N),z||g.updatePathMinMax(W,w,N);break;case i.OPS.curveTo:k=w,V=N,w=A[Y+4],N=A[Y+5],j.bezierCurveTo(A[Y],A[Y+1],A[Y+2],A[Y+3],w,N),g.updateCurvePathMinMax(W,k,V,A[Y],A[Y+1],A[Y+2],A[Y+3],w,N,X),Y+=6;break;case i.OPS.curveTo2:k=w,V=N,j.bezierCurveTo(w,N,A[Y],A[Y+1],A[Y+2],A[Y+3]),g.updateCurvePathMinMax(W,k,V,w,N,A[Y],A[Y+1],A[Y+2],A[Y+3],X),w=A[Y+2],N=A[Y+3],Y+=4;break;case i.OPS.curveTo3:k=w,V=N,w=A[Y+2],N=A[Y+3],j.bezierCurveTo(A[Y],A[Y+1],w,N,w,N),g.updateCurvePathMinMax(W,k,V,A[Y],A[Y+1],w,N,w,N,X),Y+=4;break;case i.OPS.closePath:j.closePath();break}z&&g.updateScalingPathMinMax(W,X),g.setCurrentPoint(w,N)}closePath(){this.ctx.closePath()}stroke(S){S=typeof S<"u"?S:!0;let A=this.ctx,L=this.current.strokeColor;A.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof L=="object"&&L?.getPattern?(A.save(),A.strokeStyle=L.getPattern(A,this,(0,n.getCurrentTransformInverse)(A),s.PathType.STROKE),this.rescaleAndStroke(!1),A.restore()):this.rescaleAndStroke(!0)),S&&this.consumePath(this.current.getClippedPathBoundingBox()),A.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(S){S=typeof S<"u"?S:!0;let A=this.ctx,L=this.current.fillColor,j=this.current.patternFill,g=!1;j&&(A.save(),A.fillStyle=L.getPattern(A,this,(0,n.getCurrentTransformInverse)(A),s.PathType.FILL),g=!0);let w=this.current.getClippedPathBoundingBox();this.contentVisible&&w!==null&&(this.pendingEOFill?(A.fill("evenodd"),this.pendingEOFill=!1):A.fill()),g&&A.restore(),S&&this.consumePath(w)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=R}eoClip(){this.pendingClip=U}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let S=this.pendingTextPaths,A=this.ctx;if(S===void 0){A.beginPath();return}A.save(),A.beginPath();for(let L of S)A.setTransform(...L.transform),A.translate(L.x,L.y),L.addToPath(A,L.fontSize);A.restore(),A.clip(),A.beginPath(),delete this.pendingTextPaths}setCharSpacing(S){this.current.charSpacing=S}setWordSpacing(S){this.current.wordSpacing=S}setHScale(S){this.current.textHScale=S/100}setLeading(S){this.current.leading=-S}setFont(S,A){let L=this.commonObjs.get(S),j=this.current;if(!L)throw new Error(`Can't find font for ${S}`);if(j.fontMatrix=L.fontMatrix||i.FONT_IDENTITY_MATRIX,(j.fontMatrix[0]===0||j.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+S),A<0?(A=-A,j.fontDirection=-1):j.fontDirection=1,this.current.font=L,this.current.fontSize=A,L.isType3Font)return;let g=L.loadedName||"sans-serif",w="normal";L.black?w="900":L.bold&&(w="bold");let N=L.italic?"italic":"normal",k=`"${g}", ${L.fallbackName}`,V=A;A<l?V=l:A>c&&(V=c),this.current.fontSizeScale=A/V,this.ctx.font=`${N} ${w} ${V}px ${k}`}setTextRenderingMode(S){this.current.textRenderingMode=S}setTextRise(S){this.current.textRise=S}moveText(S,A){this.current.x=this.current.lineX+=S,this.current.y=this.current.lineY+=A}setLeadingMoveText(S,A){this.setLeading(-A),this.moveText(S,A)}setTextMatrix(S,A,L,j,g,w){this.current.textMatrix=[S,A,L,j,g,w],this.current.textMatrixScale=Math.hypot(S,A),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(S,A,L,j){let g=this.ctx,w=this.current,N=w.font,k=w.textRenderingMode,V=w.fontSize/w.fontSizeScale,W=k&i.TextRenderingMode.FILL_STROKE_MASK,z=!!(k&i.TextRenderingMode.ADD_TO_PATH_FLAG),X=w.patternFill&&!N.missingFile,K;(N.disableFontFace||z||X)&&(K=N.getPathGenerator(this.commonObjs,S)),N.disableFontFace||X?(g.save(),g.translate(A,L),g.beginPath(),K(g,V),j&&g.setTransform(...j),(W===i.TextRenderingMode.FILL||W===i.TextRenderingMode.FILL_STROKE)&&g.fill(),(W===i.TextRenderingMode.STROKE||W===i.TextRenderingMode.FILL_STROKE)&&g.stroke(),g.restore()):((W===i.TextRenderingMode.FILL||W===i.TextRenderingMode.FILL_STROKE)&&g.fillText(S,A,L),(W===i.TextRenderingMode.STROKE||W===i.TextRenderingMode.FILL_STROKE)&&g.strokeText(S,A,L)),z&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,n.getCurrentTransform)(g),x:A,y:L,fontSize:V,addToPath:K})}get isFontSubpixelAAEnabled(){let{context:S}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);S.scale(1.5,1),S.fillText("I",0,10);let A=S.getImageData(0,0,10,10).data,L=!1;for(let j=3;j<A.length;j+=4)if(A[j]>0&&A[j]<255){L=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",L)}showText(S){let A=this.current,L=A.font;if(L.isType3Font)return this.showType3Text(S);let j=A.fontSize;if(j===0)return;let g=this.ctx,w=A.fontSizeScale,N=A.charSpacing,k=A.wordSpacing,V=A.fontDirection,W=A.textHScale*V,z=S.length,X=L.vertical,K=X?1:-1,Y=L.defaultVMetrics,G=j*A.fontMatrix[0],Z=A.textRenderingMode===i.TextRenderingMode.FILL&&!L.disableFontFace&&!A.patternFill;g.save(),g.transform(...A.textMatrix),g.translate(A.x,A.y+A.textRise),V>0?g.scale(W,-1):g.scale(W,1);let ee;if(A.patternFill){g.save();let se=A.fillColor.getPattern(g,this,(0,n.getCurrentTransformInverse)(g),s.PathType.FILL);ee=(0,n.getCurrentTransform)(g),g.restore(),g.fillStyle=se}let te=A.lineWidth,re=A.textMatrixScale;if(re===0||te===0){let se=A.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(se===i.TextRenderingMode.STROKE||se===i.TextRenderingMode.FILL_STROKE)&&(te=this.getSinglePixelWidth())}else te/=re;w!==1&&(g.scale(w,w),te/=w),g.lineWidth=te;let ie=0,oe;for(oe=0;oe<z;++oe){let se=S[oe];if(typeof se=="number"){ie+=K*se*j/1e3;continue}let Ae=!1,Me=(se.isSpace?k:0)+N,de=se.fontChar,Re=se.accent,Be,rt,Ue=se.width;if(X){let We=se.vmetric||Y,Ve=-(se.vmetric?We[1]:Ue*.5)*G,it=We[2]*G;Ue=We?-We[0]:Ue,Be=Ve/w,rt=(ie+it)/w}else Be=ie/w,rt=0;if(L.remeasure&&Ue>0){let We=g.measureText(de).width*1e3/j*w;if(Ue<We&&this.isFontSubpixelAAEnabled){let Ve=Ue/We;Ae=!0,g.save(),g.scale(Ve,1),Be/=Ve}else Ue!==We&&(Be+=(Ue-We)/2e3*j/w)}if(this.contentVisible&&(se.isInFont||L.missingFile)){if(Z&&!Re)g.fillText(de,Be,rt);else if(this.paintChar(de,Be,rt,ee),Re){let We=Be+j*Re.offset.x/w,Ve=rt-j*Re.offset.y/w;this.paintChar(Re.fontChar,We,Ve,ee)}}let It;X?It=Ue*G-Me*V:It=Ue*G+Me*V,ie+=It,Ae&&g.restore()}X?A.y-=ie:A.x+=ie*W,g.restore(),this.compose()}showType3Text(S){let A=this.ctx,L=this.current,j=L.font,g=L.fontSize,w=L.fontDirection,N=j.vertical?1:-1,k=L.charSpacing,V=L.wordSpacing,W=L.textHScale*w,z=L.fontMatrix||i.FONT_IDENTITY_MATRIX,X=S.length,K=L.textRenderingMode===i.TextRenderingMode.INVISIBLE,Y,G,Z,ee;if(!(K||g===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,A.save(),A.transform(...L.textMatrix),A.translate(L.x,L.y),A.scale(W,w),Y=0;Y<X;++Y){if(G=S[Y],typeof G=="number"){ee=N*G*g/1e3,this.ctx.translate(ee,0),L.x+=ee*W;continue}let te=(G.isSpace?V:0)+k,re=j.charProcOperatorList[G.operatorListId];if(!re){(0,i.warn)(`Type3 character "${G.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=G,this.save(),A.scale(g,g),A.transform(...z),this.executeOperatorList(re),this.restore()),Z=i.Util.applyTransform([G.width,0],z)[0]*g+te,A.translate(Z,0),L.x+=Z*W}A.restore(),this.processingType3=null}}setCharWidth(S,A){}setCharWidthAndBounds(S,A,L,j,g,w){this.ctx.rect(L,j,g-L,w-j),this.ctx.clip(),this.endPath()}getColorN_Pattern(S){let A;if(S[0]==="TilingPattern"){let L=S[1],j=this.baseTransform||(0,n.getCurrentTransform)(this.ctx),g={createCanvasGraphics:w=>new H(w,this.commonObjs,this.objs,this.canvasFactory)};A=new s.TilingPattern(S,L,this.ctx,g,j)}else A=this._getPattern(S[1],S[2]);return A}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(S,A,L){let j=this.selectColor?.(S,A,L)||i.Util.makeHexColor(S,A,L);this.ctx.strokeStyle=j,this.current.strokeColor=j}setFillRGBColor(S,A,L){let j=this.selectColor?.(S,A,L)||i.Util.makeHexColor(S,A,L);this.ctx.fillStyle=j,this.current.fillColor=j,this.current.patternFill=!1}_getPattern(S,A=null){let L;return this.cachedPatterns.has(S)?L=this.cachedPatterns.get(S):(L=(0,s.getShadingPattern)(this.objs.get(S)),this.cachedPatterns.set(S,L)),A&&(L.matrix=A),L}shadingFill(S){if(!this.contentVisible)return;let A=this.ctx;this.save();let L=this._getPattern(S);A.fillStyle=L.getPattern(A,this,(0,n.getCurrentTransformInverse)(A),s.PathType.SHADING);let j=(0,n.getCurrentTransformInverse)(A);if(j){let g=A.canvas,w=g.width,N=g.height,k=i.Util.applyTransform([0,0],j),V=i.Util.applyTransform([0,N],j),W=i.Util.applyTransform([w,0],j),z=i.Util.applyTransform([w,N],j),X=Math.min(k[0],V[0],W[0],z[0]),K=Math.min(k[1],V[1],W[1],z[1]),Y=Math.max(k[0],V[0],W[0],z[0]),G=Math.max(k[1],V[1],W[1],z[1]);this.ctx.fillRect(X,K,Y-X,G-K)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(S,A){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(S)&&S.length===6&&this.transform(...S),this.baseTransform=(0,n.getCurrentTransform)(this.ctx),A)){let L=A[2]-A[0],j=A[3]-A[1];this.ctx.rect(A[0],A[1],L,j),this.current.updateRectMinMax((0,n.getCurrentTransform)(this.ctx),A),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(S){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let A=this.ctx;S.isolated||(0,i.info)("TODO: Support non-isolated groups."),S.knockout&&(0,i.warn)("Knockout groups not supported.");let L=(0,n.getCurrentTransform)(A);if(S.matrix&&A.transform(...S.matrix),!S.bbox)throw new Error("Bounding box is required.");let j=i.Util.getAxialAlignedBoundingBox(S.bbox,(0,n.getCurrentTransform)(A)),g=[0,0,A.canvas.width,A.canvas.height];j=i.Util.intersect(j,g)||[0,0,0,0];let w=Math.floor(j[0]),N=Math.floor(j[1]),k=Math.max(Math.ceil(j[2])-w,1),V=Math.max(Math.ceil(j[3])-N,1),W=1,z=1;k>d&&(W=k/d,k=d),V>d&&(z=V/d,V=d),this.current.startNewPathAndClipBox([0,0,k,V]);let X="groupAt"+this.groupLevel;S.smask&&(X+="_smask_"+this.smaskCounter++%2);let K=this.cachedCanvases.getCanvas(X,k,V),Y=K.context;Y.scale(1/W,1/z),Y.translate(-w,-N),Y.transform(...L),S.smask?this.smaskStack.push({canvas:K.canvas,context:Y,offsetX:w,offsetY:N,scaleX:W,scaleY:z,subtype:S.smask.subtype,backdrop:S.smask.backdrop,transferMap:S.smask.transferMap||null,startTransformInverse:null}):(A.setTransform(1,0,0,1,0,0),A.translate(w,N),A.scale(W,z),A.save()),b(A,Y),this.ctx=Y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(A),this.groupLevel++}endGroup(S){if(!this.contentVisible)return;this.groupLevel--;let A=this.ctx,L=this.groupStack.pop();if(this.ctx=L,this.ctx.imageSmoothingEnabled=!1,S.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let j=(0,n.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...j);let g=i.Util.getAxialAlignedBoundingBox([0,0,A.canvas.width,A.canvas.height],j);this.ctx.drawImage(A.canvas,0,0),this.ctx.restore(),this.compose(g)}}beginAnnotation(S,A,L,j,g){if(this.#e(),I(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(A)&&A.length===4){let w=A[2]-A[0],N=A[3]-A[1];if(g&&this.annotationCanvasMap){L=L.slice(),L[4]-=A[0],L[5]-=A[1],A=A.slice(),A[0]=A[1]=0,A[2]=w,A[3]=N;let[k,V]=i.Util.singularValueDecompose2dScale((0,n.getCurrentTransform)(this.ctx)),{viewportScale:W}=this,z=Math.ceil(w*this.outputScaleX*W),X=Math.ceil(N*this.outputScaleY*W);this.annotationCanvas=this.canvasFactory.create(z,X);let{canvas:K,context:Y}=this.annotationCanvas;this.annotationCanvasMap.set(S,K),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Y,this.ctx.setTransform(k,0,0,-V,0,N*V),I(this.ctx,this.foregroundColor)}else I(this.ctx,this.foregroundColor),this.ctx.rect(A[0],A[1],w,N),this.ctx.clip(),this.endPath()}this.current=new M(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...L),this.transform(...j)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(S){if(!this.contentVisible)return;let A=S.count;S=this.getObject(S.data,S),S.count=A;let L=this.ctx,j=this.processingType3;if(j&&(j.compiled===void 0&&(j.compiled=E(S)),j.compiled)){j.compiled(L);return}let g=this._createMaskCanvas(S),w=g.canvas;L.save(),L.setTransform(1,0,0,1,0,0),L.drawImage(w,g.offsetX,g.offsetY),L.restore(),this.compose()}paintImageMaskXObjectRepeat(S,A,L=0,j=0,g,w){if(!this.contentVisible)return;S=this.getObject(S.data,S);let N=this.ctx;N.save();let k=(0,n.getCurrentTransform)(N);N.transform(A,L,j,g,0,0);let V=this._createMaskCanvas(S);N.setTransform(1,0,0,1,0,0);for(let W=0,z=w.length;W<z;W+=2){let X=i.Util.transform(k,[A,L,j,g,w[W],w[W+1]]),[K,Y]=i.Util.applyTransform([0,0],X);N.drawImage(V.canvas,K,Y)}N.restore(),this.compose()}paintImageMaskXObjectGroup(S){if(!this.contentVisible)return;let A=this.ctx,L=this.current.fillColor,j=this.current.patternFill;for(let g of S){let{data:w,width:N,height:k,transform:V}=g,W=this.cachedCanvases.getCanvas("maskCanvas",N,k),z=W.context;z.save();let X=this.getObject(w,g);y(z,X),z.globalCompositeOperation="source-in",z.fillStyle=j?L.getPattern(z,this,(0,n.getCurrentTransformInverse)(A),s.PathType.FILL):L,z.fillRect(0,0,N,k),z.restore(),A.save(),A.transform(...V),A.scale(1,-1),C(A,W.canvas,0,0,N,k,0,-1,1,1),A.restore()}this.compose()}paintImageXObject(S){if(!this.contentVisible)return;let A=this.getObject(S);if(!A){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(A)}paintImageXObjectRepeat(S,A,L,j){if(!this.contentVisible)return;let g=this.getObject(S);if(!g){(0,i.warn)("Dependent image isn't ready yet");return}let w=g.width,N=g.height,k=[];for(let V=0,W=j.length;V<W;V+=2)k.push({transform:[A,0,0,L,j[V],j[V+1]],x:0,y:0,w,h:N});this.paintInlineImageXObjectGroup(g,k)}paintInlineImageXObject(S){if(!this.contentVisible)return;let A=S.width,L=S.height,j=this.ctx;this.save(),j.scale(1/A,-1/L);let g;if(typeof HTMLElement=="function"&&S instanceof HTMLElement||!S.data)g=S;else{let V=this.cachedCanvases.getCanvas("inlineImage",A,L),W=V.context;D(W,S,this.current.transferMaps),g=V.canvas}let w=this._scaleImage(g,(0,n.getCurrentTransformInverse)(j));j.imageSmoothingEnabled=$((0,n.getCurrentTransform)(j),S.interpolate);let[N,k]=C(j,w.img,0,0,w.paintWidth,w.paintHeight,0,-L,A,L);if(this.imageLayer){let[V,W]=i.Util.applyTransform([0,-L],(0,n.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:S,left:V,top:W,width:N,height:k})}this.compose(),this.restore()}paintInlineImageXObjectGroup(S,A){if(!this.contentVisible)return;let L=this.ctx,j=S.width,g=S.height,w=this.cachedCanvases.getCanvas("inlineImage",j,g),N=w.context;D(N,S,this.current.transferMaps);for(let k of A){if(L.save(),L.transform(...k.transform),L.scale(1,-1),C(L,w.canvas,k.x,k.y,k.w,k.h,0,-1,1,1),this.imageLayer){let[V,W]=i.Util.applyTransform([k.x,k.y],(0,n.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:S,left:V,top:W,width:j,height:g})}L.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(S){}markPointProps(S,A){}beginMarkedContent(S){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(S,A){S==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(A)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(S){let A=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(S);let L=this.ctx;this.pendingClip&&(A||(this.pendingClip===U?L.clip("evenodd"):L.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),L.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let S=(0,n.getCurrentTransform)(this.ctx);if(S[1]===0&&S[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(S[0]),Math.abs(S[3]));else{let A=Math.abs(S[0]*S[3]-S[2]*S[1]),L=Math.hypot(S[0],S[2]),j=Math.hypot(S[1],S[3]);this._cachedGetSinglePixelWidth=Math.max(L,j)/A}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){let{lineWidth:S}=this.current,A=(0,n.getCurrentTransform)(this.ctx),L,j;if(A[1]===0&&A[2]===0){let g=Math.abs(A[0]),w=Math.abs(A[3]);if(S===0)L=1/g,j=1/w;else{let N=g*S,k=w*S;L=N<1?1/N:1,j=k<1?1/k:1}}else{let g=Math.abs(A[0]*A[3]-A[2]*A[1]),w=Math.hypot(A[0],A[1]),N=Math.hypot(A[2],A[3]);if(S===0)L=N/g,j=w/g;else{let k=S*g;L=N>k?N/k:1,j=w>k?w/k:1}}this._cachedScaleForStroking=[L,j]}return this._cachedScaleForStroking}rescaleAndStroke(S){let{ctx:A}=this,{lineWidth:L}=this.current,[j,g]=this.getScaleForStroking();if(A.lineWidth=L||1,j===1&&g===1){A.stroke();return}let w,N,k;S&&(w=(0,n.getCurrentTransform)(A),N=A.getLineDash().slice(),k=A.lineDashOffset),A.scale(j,g);let V=Math.max(j,g);A.setLineDash(A.getLineDash().map(W=>W/V)),A.lineDashOffset/=V,A.stroke(),S&&(A.setTransform(...w),A.setLineDash(N),A.lineDashOffset=k)}isContentVisible(){for(let S=this.markedContentStack.length-1;S>=0;S--)if(!this.markedContentStack[S].visible)return!1;return!0}}e.CanvasGraphics=H;for(let x in i.OPS)H.prototype[x]!==void 0&&(H.prototype[i.OPS[x]]=H.prototype[x])},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=f;var n=r(1),i=r(8),s=r(3);let o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=o;function a(C,E){if(!E||s.isNodeJS)return;let M=E[2]-E[0],D=E[3]-E[1],y=new Path2D;y.rect(E[0],E[1],M,D),C.clip(y)}class l{constructor(){this.constructor===l&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class c extends l{constructor(E){super(),this._type=E[1],this._bbox=E[2],this._colorStops=E[3],this._p0=E[4],this._p1=E[5],this._r0=E[6],this._r1=E[7],this.matrix=null}_createGradient(E){let M;this._type==="axial"?M=E.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(M=E.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let D of this._colorStops)M.addColorStop(D[0],D[1]);return M}getPattern(E,M,D,y){let b;if(y===o.STROKE||y===o.FILL){let I=M.current.getClippedPathBoundingBox(y,(0,i.getCurrentTransform)(E))||[0,0,0,0],F=Math.ceil(I[2]-I[0])||1,B=Math.ceil(I[3]-I[1])||1,_=M.cachedCanvases.getCanvas("pattern",F,B,!0),O=_.context;O.clearRect(0,0,O.canvas.width,O.canvas.height),O.beginPath(),O.rect(0,0,O.canvas.width,O.canvas.height),O.translate(-I[0],-I[1]),D=n.Util.transform(D,[1,0,0,1,I[0],I[1]]),O.transform(...M.baseTransform),this.matrix&&O.transform(...this.matrix),a(O,this._bbox),O.fillStyle=this._createGradient(O),O.fill(),b=E.createPattern(_.canvas,"no-repeat");let q=new DOMMatrix(D);try{b.setTransform(q)}catch($){(0,n.warn)(`RadialAxialShadingPattern.getPattern: "${$?.message}".`)}}else a(E,this._bbox),b=this._createGradient(E);return b}}function d(C,E,M,D,y,b,I,F){let B=E.coords,_=E.colors,O=C.data,q=C.width*4,$;B[M+1]>B[D+1]&&($=M,M=D,D=$,$=b,b=I,I=$),B[D+1]>B[y+1]&&($=D,D=y,y=$,$=I,I=F,F=$),B[M+1]>B[D+1]&&($=M,M=D,D=$,$=b,b=I,I=$);let P=(B[M]+E.offsetX)*E.scaleX,T=(B[M+1]+E.offsetY)*E.scaleY,R=(B[D]+E.offsetX)*E.scaleX,U=(B[D+1]+E.offsetY)*E.scaleY,H=(B[y]+E.offsetX)*E.scaleX,x=(B[y+1]+E.offsetY)*E.scaleY;if(T>=x)return;let S=_[b],A=_[b+1],L=_[b+2],j=_[I],g=_[I+1],w=_[I+2],N=_[F],k=_[F+1],V=_[F+2],W=Math.round(T),z=Math.round(x),X,K,Y,G,Z,ee,te,re;for(let ie=W;ie<=z;ie++){if(ie<U){let de;ie<T?de=0:de=(T-ie)/(T-U),X=P-(P-R)*de,K=S-(S-j)*de,Y=A-(A-g)*de,G=L-(L-w)*de}else{let de;ie>x?de=1:U===x?de=0:de=(U-ie)/(U-x),X=R-(R-H)*de,K=j-(j-N)*de,Y=g-(g-k)*de,G=w-(w-V)*de}let oe;ie<T?oe=0:ie>x?oe=1:oe=(T-ie)/(T-x),Z=P-(P-H)*oe,ee=S-(S-N)*oe,te=A-(A-k)*oe,re=L-(L-V)*oe;let se=Math.round(Math.min(X,Z)),Ae=Math.round(Math.max(X,Z)),Me=q*ie+se*4;for(let de=se;de<=Ae;de++)oe=(X-de)/(X-Z),oe<0?oe=0:oe>1&&(oe=1),O[Me++]=K-(K-ee)*oe|0,O[Me++]=Y-(Y-te)*oe|0,O[Me++]=G-(G-re)*oe|0,O[Me++]=255}}function u(C,E,M){let D=E.coords,y=E.colors,b,I;switch(E.type){case"lattice":let F=E.verticesPerRow,B=Math.floor(D.length/F)-1,_=F-1;for(b=0;b<B;b++){let O=b*F;for(let q=0;q<_;q++,O++)d(C,M,D[O],D[O+1],D[O+F],y[O],y[O+1],y[O+F]),d(C,M,D[O+F+1],D[O+1],D[O+F],y[O+F+1],y[O+1],y[O+F])}break;case"triangles":for(b=0,I=D.length;b<I;b+=3)d(C,M,D[b],D[b+1],D[b+2],y[b],y[b+1],y[b+2]);break;default:throw new Error("illegal figure")}}class h extends l{constructor(E){super(),this._coords=E[2],this._colors=E[3],this._figures=E[4],this._bounds=E[5],this._bbox=E[7],this._background=E[8],this.matrix=null}_createMeshCanvas(E,M,D){let F=Math.floor(this._bounds[0]),B=Math.floor(this._bounds[1]),_=Math.ceil(this._bounds[2])-F,O=Math.ceil(this._bounds[3])-B,q=Math.min(Math.ceil(Math.abs(_*E[0]*1.1)),3e3),$=Math.min(Math.ceil(Math.abs(O*E[1]*1.1)),3e3),P=_/q,T=O/$,R={coords:this._coords,colors:this._colors,offsetX:-F,offsetY:-B,scaleX:1/P,scaleY:1/T},U=q+2*2,H=$+2*2,x=D.getCanvas("mesh",U,H,!1),S=x.context,A=S.createImageData(q,$);if(M){let j=A.data;for(let g=0,w=j.length;g<w;g+=4)j[g]=M[0],j[g+1]=M[1],j[g+2]=M[2],j[g+3]=255}for(let j of this._figures)u(A,j,R);return S.putImageData(A,2,2),{canvas:x.canvas,offsetX:F-2*P,offsetY:B-2*T,scaleX:P,scaleY:T}}getPattern(E,M,D,y){a(E,this._bbox);let b;if(y===o.SHADING)b=n.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(E));else if(b=n.Util.singularValueDecompose2dScale(M.baseTransform),this.matrix){let F=n.Util.singularValueDecompose2dScale(this.matrix);b=[b[0]*F[0],b[1]*F[1]]}let I=this._createMeshCanvas(b,y===o.SHADING?null:this._background,M.cachedCanvases);return y!==o.SHADING&&(E.setTransform(...M.baseTransform),this.matrix&&E.transform(...this.matrix)),E.translate(I.offsetX,I.offsetY),E.scale(I.scaleX,I.scaleY),E.createPattern(I.canvas,"no-repeat")}}class m extends l{getPattern(){return"hotpink"}}function f(C){switch(C[0]){case"RadialAxial":return new c(C);case"Mesh":return new h(C);case"Dummy":return new m}throw new Error(`Unknown IR type: ${C[0]}`)}let p={COLORED:1,UNCOLORED:2};class v{static get MAX_PATTERN_SIZE(){return(0,n.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(E,M,D,y,b){this.operatorList=E[2],this.matrix=E[3]||[1,0,0,1,0,0],this.bbox=E[4],this.xstep=E[5],this.ystep=E[6],this.paintType=E[7],this.tilingType=E[8],this.color=M,this.ctx=D,this.canvasGraphicsFactory=y,this.baseTransform=b}createPatternCanvas(E){let M=this.operatorList,D=this.bbox,y=this.xstep,b=this.ystep,I=this.paintType,F=this.tilingType,B=this.color,_=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+F);let O=D[0],q=D[1],$=D[2],P=D[3],T=n.Util.singularValueDecompose2dScale(this.matrix),R=n.Util.singularValueDecompose2dScale(this.baseTransform),U=[T[0]*R[0],T[1]*R[1]],H=this.getSizeAndScale(y,this.ctx.canvas.width,U[0]),x=this.getSizeAndScale(b,this.ctx.canvas.height,U[1]),S=E.cachedCanvases.getCanvas("pattern",H.size,x.size,!0),A=S.context,L=_.createCanvasGraphics(A);L.groupLevel=E.groupLevel,this.setFillAndStrokeStyleToContext(L,I,B);let j=O,g=q,w=$,N=P;return O<0&&(j=0,w+=Math.abs(O)),q<0&&(g=0,N+=Math.abs(q)),A.translate(-(H.scale*j),-(x.scale*g)),L.transform(H.scale,0,0,x.scale,0,0),A.save(),this.clipBbox(L,j,g,w,N),L.baseTransform=(0,i.getCurrentTransform)(L.ctx),L.executeOperatorList(M),L.endDrawing(),{canvas:S.canvas,scaleX:H.scale,scaleY:x.scale,offsetX:j,offsetY:g}}getSizeAndScale(E,M,D){E=Math.abs(E);let y=Math.max(v.MAX_PATTERN_SIZE,M),b=Math.ceil(E*D);return b>=y?b=y:D=b/E,{scale:D,size:b}}clipBbox(E,M,D,y,b){let I=y-M,F=b-D;E.ctx.rect(M,D,I,F),E.current.updateRectMinMax((0,i.getCurrentTransform)(E.ctx),[M,D,y,b]),E.clip(),E.endPath()}setFillAndStrokeStyleToContext(E,M,D){let y=E.ctx,b=E.current;switch(M){case p.COLORED:let I=this.ctx;y.fillStyle=I.fillStyle,y.strokeStyle=I.strokeStyle,b.fillColor=I.fillStyle,b.strokeColor=I.strokeStyle;break;case p.UNCOLORED:let F=n.Util.makeHexColor(D[0],D[1],D[2]);y.fillStyle=F,y.strokeStyle=F,b.fillColor=F,b.strokeColor=F;break;default:throw new n.FormatError(`Unsupported paint type: ${M}`)}}getPattern(E,M,D,y){let b=D;y!==o.SHADING&&(b=n.Util.transform(b,M.baseTransform),this.matrix&&(b=n.Util.transform(b,this.matrix)));let I=this.createPatternCanvas(M),F=new DOMMatrix(b);F=F.translate(I.offsetX,I.offsetY),F=F.scale(1/I.scaleX,1/I.scaleY);let B=E.createPattern(I.canvas,"repeat");try{B.setTransform(F)}catch(_){(0,n.warn)(`TilingPattern.getPattern: "${_?.message}".`)}return B}}e.TilingPattern=v},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=i;var n=r(1);function i({src:s,srcPos:o=0,dest:a,destPos:l=0,width:c,height:d,inverseDecode:u=!1}){let h=n.FeatureTest.isLittleEndian?4278190080:255,[m,f]=u?[0,h]:[h,0],p=c>>3,v=c&7,C=s.length;a=new Uint32Array(a.buffer);for(let E=0;E<d;E++){for(let D=o+p;o<D;o++){let y=o<C?s[o]:255;a[l++]=y&128?f:m,a[l++]=y&64?f:m,a[l++]=y&32?f:m,a[l++]=y&16?f:m,a[l++]=y&8?f:m,a[l++]=y&4?f:m,a[l++]=y&2?f:m,a[l++]=y&1?f:m}if(v===0)continue;let M=o<C?s[o++]:255;for(let D=0;D<v;D++)a[l++]=M&1<<7-D?f:m}return{srcPos:o,destPos:l}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;let r=Object.create(null);e.GlobalWorkerOptions=r,r.workerPort=r.workerPort===void 0?null:r.workerPort,r.workerSrc=r.workerSrc===void 0?"":r.workerSrc},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n=r(1);let i={UNKNOWN:0,DATA:1,ERROR:2},s={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function o(l){switch(l instanceof Error||typeof l=="object"&&l!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new n.AbortException(l.message);case"MissingPDFException":return new n.MissingPDFException(l.message);case"PasswordException":return new n.PasswordException(l.message,l.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(l.message,l.status);case"UnknownErrorException":return new n.UnknownErrorException(l.message,l.details);default:return new n.UnknownErrorException(l.message,l.toString())}}class a{constructor(c,d,u){this.sourceName=c,this.targetName=d,this.comObj=u,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=h=>{let m=h.data;if(m.targetName!==this.sourceName)return;if(m.stream){this._processStreamMessage(m);return}if(m.callback){let p=m.callbackId,v=this.callbackCapabilities[p];if(!v)throw new Error(`Cannot resolve callback ${p}`);if(delete this.callbackCapabilities[p],m.callback===i.DATA)v.resolve(m.data);else if(m.callback===i.ERROR)v.reject(o(m.reason));else throw new Error("Unexpected callback case");return}let f=this.actionHandler[m.action];if(!f)throw new Error(`Unknown action from worker: ${m.action}`);if(m.callbackId){let p=this.sourceName,v=m.sourceName;new Promise(function(C){C(f(m.data))}).then(function(C){u.postMessage({sourceName:p,targetName:v,callback:i.DATA,callbackId:m.callbackId,data:C})},function(C){u.postMessage({sourceName:p,targetName:v,callback:i.ERROR,callbackId:m.callbackId,reason:o(C)})});return}if(m.streamId){this._createStreamSink(m);return}f(m.data)},u.addEventListener("message",this._onComObjOnMessage)}on(c,d){let u=this.actionHandler;if(u[c])throw new Error(`There is already an actionName called "${c}"`);u[c]=d}send(c,d,u){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,data:d},u)}sendWithPromise(c,d,u){let h=this.callbackId++,m=(0,n.createPromiseCapability)();this.callbackCapabilities[h]=m;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,callbackId:h,data:d},u)}catch(f){m.reject(f)}return m.promise}sendWithStream(c,d,u,h){let m=this.streamId++,f=this.sourceName,p=this.targetName,v=this.comObj;return new ReadableStream({start:C=>{let E=(0,n.createPromiseCapability)();return this.streamControllers[m]={controller:C,startCall:E,pullCall:null,cancelCall:null,isClosed:!1},v.postMessage({sourceName:f,targetName:p,action:c,streamId:m,data:d,desiredSize:C.desiredSize},h),E.promise},pull:C=>{let E=(0,n.createPromiseCapability)();return this.streamControllers[m].pullCall=E,v.postMessage({sourceName:f,targetName:p,stream:s.PULL,streamId:m,desiredSize:C.desiredSize}),E.promise},cancel:C=>{(0,n.assert)(C instanceof Error,"cancel must have a valid reason");let E=(0,n.createPromiseCapability)();return this.streamControllers[m].cancelCall=E,this.streamControllers[m].isClosed=!0,v.postMessage({sourceName:f,targetName:p,stream:s.CANCEL,streamId:m,reason:o(C)}),E.promise}},u)}_createStreamSink(c){let d=c.streamId,u=this.sourceName,h=c.sourceName,m=this.comObj,f=this,p=this.actionHandler[c.action],v={enqueue(C,E=1,M){if(this.isCancelled)return;let D=this.desiredSize;this.desiredSize-=E,D>0&&this.desiredSize<=0&&(this.sinkCapability=(0,n.createPromiseCapability)(),this.ready=this.sinkCapability.promise),m.postMessage({sourceName:u,targetName:h,stream:s.ENQUEUE,streamId:d,chunk:C},M)},close(){this.isCancelled||(this.isCancelled=!0,m.postMessage({sourceName:u,targetName:h,stream:s.CLOSE,streamId:d}),delete f.streamSinks[d])},error(C){(0,n.assert)(C instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,m.postMessage({sourceName:u,targetName:h,stream:s.ERROR,streamId:d,reason:o(C)}))},sinkCapability:(0,n.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:c.desiredSize,ready:null};v.sinkCapability.resolve(),v.ready=v.sinkCapability.promise,this.streamSinks[d]=v,new Promise(function(C){C(p(c.data,v))}).then(function(){m.postMessage({sourceName:u,targetName:h,stream:s.START_COMPLETE,streamId:d,success:!0})},function(C){m.postMessage({sourceName:u,targetName:h,stream:s.START_COMPLETE,streamId:d,reason:o(C)})})}_processStreamMessage(c){let d=c.streamId,u=this.sourceName,h=c.sourceName,m=this.comObj,f=this.streamControllers[d],p=this.streamSinks[d];switch(c.stream){case s.START_COMPLETE:c.success?f.startCall.resolve():f.startCall.reject(o(c.reason));break;case s.PULL_COMPLETE:c.success?f.pullCall.resolve():f.pullCall.reject(o(c.reason));break;case s.PULL:if(!p){m.postMessage({sourceName:u,targetName:h,stream:s.PULL_COMPLETE,streamId:d,success:!0});break}p.desiredSize<=0&&c.desiredSize>0&&p.sinkCapability.resolve(),p.desiredSize=c.desiredSize,new Promise(function(v){v(p.onPull&&p.onPull())}).then(function(){m.postMessage({sourceName:u,targetName:h,stream:s.PULL_COMPLETE,streamId:d,success:!0})},function(v){m.postMessage({sourceName:u,targetName:h,stream:s.PULL_COMPLETE,streamId:d,reason:o(v)})});break;case s.ENQUEUE:if((0,n.assert)(f,"enqueue should have stream controller"),f.isClosed)break;f.controller.enqueue(c.chunk);break;case s.CLOSE:if((0,n.assert)(f,"close should have stream controller"),f.isClosed)break;f.isClosed=!0,f.controller.close(),this._deleteStreamController(f,d);break;case s.ERROR:(0,n.assert)(f,"error should have stream controller"),f.controller.error(o(c.reason)),this._deleteStreamController(f,d);break;case s.CANCEL_COMPLETE:c.success?f.cancelCall.resolve():f.cancelCall.reject(o(c.reason)),this._deleteStreamController(f,d);break;case s.CANCEL:if(!p)break;new Promise(function(v){v(p.onCancel&&p.onCancel(o(c.reason)))}).then(function(){m.postMessage({sourceName:u,targetName:h,stream:s.CANCEL_COMPLETE,streamId:d,success:!0})},function(v){m.postMessage({sourceName:u,targetName:h,stream:s.CANCEL_COMPLETE,streamId:d,reason:o(v)})}),p.sinkCapability.reject(o(c.reason)),p.isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(c,d){return le(this,null,function*(){yield Promise.allSettled([c.startCall&&c.startCall.promise,c.pullCall&&c.pullCall.promise,c.cancelCall&&c.cancelCall.promise]),delete this.streamControllers[d]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var n=r(1);class i{#e;#t;constructor({parsedData:o,rawData:a}){this.#e=o,this.#t=a}getRaw(){return this.#t}get(o){return this.#e.get(o)??null}getAll(){return(0,n.objectFromMap)(this.#e)}has(o){return this.#e.has(o)}}e.Metadata=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var n=r(1);let i=Symbol("INTERNAL");class s{#e=!0;constructor(l,c){this.name=l,this.intent=c}get visible(){return this.#e}_setVisible(l,c){l!==i&&(0,n.unreachable)("Internal method `_setVisible` called."),this.#e=c}}class o{#e=!0;#t=new Map;#n=null;#r=null;constructor(l){if(this.name=null,this.creator=null,l!==null){this.name=l.name,this.creator=l.creator,this.#r=l.order;for(let c of l.groups)this.#t.set(c.id,new s(c.name,c.intent));if(l.baseState==="OFF")for(let c of this.#t.values())c._setVisible(i,!1);for(let c of l.on)this.#t.get(c)._setVisible(i,!0);for(let c of l.off)this.#t.get(c)._setVisible(i,!1);this.#n=new Map;for(let[c,d]of this.#t)this.#n.set(c,d.visible)}}#s(l){let c=l.length;if(c<2)return!0;let d=l[0];for(let u=1;u<c;u++){let h=l[u],m;if(Array.isArray(h))m=this.#s(h);else if(this.#t.has(h))m=this.#t.get(h).visible;else return(0,n.warn)(`Optional content group not found: ${h}`),!0;switch(d){case"And":if(!m)return!1;break;case"Or":if(m)return!0;break;case"Not":return!m;default:return!0}}return d==="And"}isVisible(l){if(this.#t.size===0)return!0;if(!l)return(0,n.warn)("Optional content group not defined."),!0;if(l.type==="OCG")return this.#t.has(l.id)?this.#t.get(l.id).visible:((0,n.warn)(`Optional content group not found: ${l.id}`),!0);if(l.type==="OCMD"){if(l.expression)return this.#s(l.expression);if(!l.policy||l.policy==="AnyOn"){for(let c of l.ids){if(!this.#t.has(c))return(0,n.warn)(`Optional content group not found: ${c}`),!0;if(this.#t.get(c).visible)return!0}return!1}else if(l.policy==="AllOn"){for(let c of l.ids){if(!this.#t.has(c))return(0,n.warn)(`Optional content group not found: ${c}`),!0;if(!this.#t.get(c).visible)return!1}return!0}else if(l.policy==="AnyOff"){for(let c of l.ids){if(!this.#t.has(c))return(0,n.warn)(`Optional content group not found: ${c}`),!0;if(!this.#t.get(c).visible)return!0}return!1}else if(l.policy==="AllOff"){for(let c of l.ids){if(!this.#t.has(c))return(0,n.warn)(`Optional content group not found: ${c}`),!0;if(this.#t.get(c).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${l.policy}.`),!0}return(0,n.warn)(`Unknown group type ${l.type}.`),!0}setVisibility(l,c=!0){if(!this.#t.has(l)){(0,n.warn)(`Optional content group not found: ${l}`);return}this.#t.get(l)._setVisible(i,!!c),this.#e=null}get hasInitialVisibility(){if(this.#e!==null)return this.#e;for(let[l,c]of this.#t){let d=this.#n.get(l);if(c.visible!==d)return this.#e=!1}return this.#e=!0}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,n.objectFromMap)(this.#t):null}getGroup(l){return this.#t.get(l)||null}}e.OptionalContentConfig=o},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var n=r(1),i=r(8);class s{constructor(c,d){(0,n.assert)(d,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=c.progressiveDone||!1,this._contentDispositionFilename=c.contentDispositionFilename||null;let u=c.initialData;if(u?.length>0){let h=new Uint8Array(u).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=d,this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._contentLength=c.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((h,m)=>{this._onReceiveData({begin:h,chunk:m})}),this._pdfDataRangeTransport.addProgressListener((h,m)=>{this._onProgress({loaded:h,total:m})}),this._pdfDataRangeTransport.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(c){let d=new Uint8Array(c.chunk).buffer;if(c.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(d):this._queuedChunks.push(d);else{let u=this._rangeReaders.some(function(h){return h._begin!==c.begin?!1:(h._enqueue(d),!0)});(0,n.assert)(u,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(c){if(c.total===void 0){let d=this._rangeReaders[0];d?.onProgress&&d.onProgress({loaded:c.loaded})}else{let d=this._fullRequestReader;d?.onProgress&&d.onProgress({loaded:c.loaded,total:c.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(c){let d=this._rangeReaders.indexOf(c);d>=0&&this._rangeReaders.splice(d,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let c=this._queuedChunks;return this._queuedChunks=null,new o(this,c,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(c,d){if(d<=this._progressiveDataLength)return null;let u=new a(this,c,d);return this._pdfDataRangeTransport.requestDataRange(c,d),this._rangeReaders.push(u),u}cancelAllRequests(c){this._fullRequestReader&&this._fullRequestReader.cancel(c);for(let d of this._rangeReaders.slice(0))d.cancel(c);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=s;class o{constructor(c,d,u=!1,h=null){this._stream=c,this._done=u||!1,this._filename=(0,i.isPdfFile)(h)?h:null,this._queuedChunks=d||[],this._loaded=0;for(let m of this._queuedChunks)this._loaded+=m.byteLength;this._requests=[],this._headersReady=Promise.resolve(),c._fullRequestReader=this,this.onProgress=null}_enqueue(c){this._done||(this._requests.length>0?this._requests.shift().resolve({value:c,done:!1}):this._queuedChunks.push(c),this._loaded+=c.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return le(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let c=(0,n.createPromiseCapability)();return this._requests.push(c),c.promise})}cancel(c){this._done=!0;for(let d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class a{constructor(c,d,u){this._stream=c,this._begin=d,this._end=u,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(c){if(!this._done){if(this._requests.length===0)this._queuedChunk=c;else{this._requests.shift().resolve({value:c,done:!1});for(let u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return le(this,null,function*(){if(this._queuedChunk){let d=this._queuedChunk;return this._queuedChunk=null,{value:d,done:!1}}if(this._done)return{value:void 0,done:!0};let c=(0,n.createPromiseCapability)();return this._requests.push(c),c.promise})}cancel(c){this._done=!0;for(let d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class r{static textContent(i){let s=[],o={items:s,styles:Object.create(null)};function a(l){if(!l)return;let c=null,d=l.name;if(d==="#text")c=l.value;else if(r.shouldBuildText(d))l?.attributes?.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&s.push({str:c}),!!l.children)for(let u of l.children)a(u)}return a(i),o}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}e.XfaText=r},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var n=r(9);let i=function(l){return new Promise((c,d)=>{bd().readFile(l,(h,m)=>{if(h||!m){d(new Error(h));return}c(new Uint8Array(m))})})};class s extends n.BaseCanvasFactory{_createCanvas(c,d){return Nv().createCanvas(c,d)}}e.NodeCanvasFactory=s;class o extends n.BaseCMapReaderFactory{_fetchData(c,d){return i(c).then(u=>({cMapData:u,compressionType:d}))}}e.NodeCMapReaderFactory=o;class a extends n.BaseStandardFontDataFactory{_fetchData(c){return i(c)}}e.NodeStandardFontDataFactory=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var n=r(7),i=r(1),s=r(23),o=r(24);let a=(()=>{class l{#e;#t=!1;#n=this.pointerup.bind(this);#r=this.pointerdown.bind(this);#s=new Map;#c=!1;#a=!1;#i;static _initialized=!1;constructor(d){l._initialized||(l._initialized=!0,s.FreeTextEditor.initialize(d.l10n),o.InkEditor.initialize(d.l10n),d.uiManager.registerEditorTypes([s.FreeTextEditor,o.InkEditor])),this.#i=d.uiManager,this.annotationStorage=d.annotationStorage,this.pageIndex=d.pageIndex,this.div=d.div,this.#e=d.accessibilityManager,this.#i.addLayer(this)}updateToolbar(d){this.#i.updateToolbar(d)}updateMode(d=this.#i.getMode()){this.#o(),d===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#i.unselectAll()}addInkEditorIfNeeded(d){if(!d&&this.#i.getMode()!==i.AnnotationEditorType.INK)return;if(!d){for(let h of this.#s.values())if(h.isEmpty()){h.setInBackground();return}}this.#l({offsetX:0,offsetY:0}).setInBackground()}setEditingState(d){this.#i.setEditingState(d)}addCommands(d){this.#i.addCommands(d)}enable(){this.div.style.pointerEvents="auto";for(let d of this.#s.values())d.enableEditing()}disable(){this.div.style.pointerEvents="none";for(let d of this.#s.values())d.disableEditing()}setActiveEditor(d){this.#i.getActive()!==d&&this.#i.setActiveEditor(d)}enableClick(){this.div.addEventListener("pointerdown",this.#r),this.div.addEventListener("pointerup",this.#n)}disableClick(){this.div.removeEventListener("pointerdown",this.#r),this.div.removeEventListener("pointerup",this.#n)}attach(d){this.#s.set(d.id,d)}detach(d){this.#s.delete(d.id),this.#e?.removePointerInTextLayer(d.contentDiv)}remove(d){this.#i.removeEditor(d),this.detach(d),this.annotationStorage.remove(d.id),d.div.style.display="none",setTimeout(()=>{d.div.style.display="",d.div.remove(),d.isAttachedToDOM=!1,document.activeElement===document.body&&this.#i.focusMainContainer()},0),this.#a||this.addInkEditorIfNeeded(!1)}#h(d){d.parent!==this&&(this.attach(d),d.pageIndex=this.pageIndex,d.parent?.detach(d),d.parent=this,d.div&&d.isAttachedToDOM&&(d.div.remove(),this.div.append(d.div)))}add(d){if(this.#h(d),this.#i.addEditor(d),this.attach(d),!d.isAttachedToDOM){let u=d.render();this.div.append(u),d.isAttachedToDOM=!0}this.moveEditorInDOM(d),d.onceAdded(),this.addToAnnotationStorage(d)}moveEditorInDOM(d){this.#e?.moveElementInDOM(this.div,d.div,d.contentDiv,!0)}addToAnnotationStorage(d){!d.isEmpty()&&!this.annotationStorage.has(d.id)&&this.annotationStorage.setValue(d.id,d)}addOrRebuild(d){d.needsToBeRebuilt()?d.rebuild():this.add(d)}addANewEditor(d){let u=()=>{this.addOrRebuild(d)},h=()=>{d.remove()};this.addCommands({cmd:u,undo:h,mustExec:!0})}addUndoableEditor(d){let u=()=>{this.addOrRebuild(d)},h=()=>{d.remove()};this.addCommands({cmd:u,undo:h,mustExec:!1})}getNextId(){return this.#i.getId()}#u(d){switch(this.#i.getMode()){case i.AnnotationEditorType.FREETEXT:return new s.FreeTextEditor(d);case i.AnnotationEditorType.INK:return new o.InkEditor(d)}return null}deserialize(d){switch(d.annotationType){case i.AnnotationEditorType.FREETEXT:return s.FreeTextEditor.deserialize(d,this);case i.AnnotationEditorType.INK:return o.InkEditor.deserialize(d,this)}return null}#l(d){let u=this.getNextId(),h=this.#u({parent:this,id:u,x:d.offsetX,y:d.offsetY});return h&&this.add(h),h}setSelected(d){this.#i.setSelected(d)}toggleSelected(d){this.#i.toggleSelected(d)}isSelected(d){return this.#i.isSelected(d)}unselect(d){this.#i.unselect(d)}pointerup(d){let u=n.KeyboardManager.platform.isMac;if(!(d.button!==0||d.ctrlKey&&u)&&d.target===this.div&&this.#c){if(this.#c=!1,!this.#t){this.#t=!0;return}this.#l(d)}}pointerdown(d){let u=n.KeyboardManager.platform.isMac;if(d.button!==0||d.ctrlKey&&u||d.target!==this.div)return;this.#c=!0;let h=this.#i.getActive();this.#t=!h||h.isEmpty()}drop(d){let u=d.dataTransfer.getData("text/plain"),h=this.#i.getEditor(u);if(!h)return;d.preventDefault(),d.dataTransfer.dropEffect="move",this.#h(h);let m=this.div.getBoundingClientRect(),f=d.clientX-m.x,p=d.clientY-m.y;h.translate(f-h.startX,p-h.startY),this.moveEditorInDOM(h),h.div.focus()}dragover(d){d.preventDefault()}destroy(){this.#i.getActive()?.parent===this&&this.#i.setActiveEditor(null);for(let d of this.#s.values())this.#e?.removePointerInTextLayer(d.contentDiv),d.isAttachedToDOM=!1,d.div.remove(),d.parent=null;this.div=null,this.#s.clear(),this.#i.removeLayer(this)}#o(){this.#a=!0;for(let d of this.#s.values())d.isEmpty()&&d.remove();this.#a=!1}render(d){this.viewport=d.viewport,(0,n.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(let u of this.#i.getEditors(this.pageIndex))this.add(u);this.updateMode()}update(d){this.viewport=d.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){let[d,u,h,m]=this.viewport.viewBox,f=h-d,p=m-u;return[f,p]}get viewportBaseDimensions(){let{width:d,height:u,rotation:h}=this.viewport;return h%180===0?[d,u]:[u,d]}setDimensions(){let{width:d,height:u,rotation:h}=this.viewport,m=h%180!==0,f=Math.floor(d)+"px",p=Math.floor(u)+"px";this.div.style.width=m?p:f,this.div.style.height=m?f:p,this.div.setAttribute("data-main-rotation",h)}}return l})();e.AnnotationEditorLayer=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var n=r(1),i=r(7),s=r(6);class o extends s.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivKeydown.bind(this);#r;#s="";#c=!1;#a;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],o.prototype.commitOrRemove]]);static _type="freetext";constructor(l){super(Fe(ce({},l),{name:"freeTextEditor"})),this.#r=l.color||o._defaultColor||s.AnnotationEditor._defaultLineColor,this.#a=l.fontSize||o._defaultFontSize}static initialize(l){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(d=>[d,l.get(d)]));let c=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(c.getPropertyValue("--freetext-padding"))}static updateDefaultParams(l,c){switch(l){case n.AnnotationEditorParamsType.FREETEXT_SIZE:o._defaultFontSize=c;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:o._defaultColor=c;break}}updateParams(l,c){switch(l){case n.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(c);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:this.#h(c);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,o._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,o._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,this.#a],[n.AnnotationEditorParamsType.FREETEXT_COLOR,this.#r]]}#i(l){let c=u=>{this.editorDiv.style.fontSize=`calc(${u}px * var(--scale-factor))`,this.translate(0,-(u-this.#a)*this.parent.scaleFactor),this.#a=u,this.#l()},d=this.#a;this.parent.addCommands({cmd:()=>{c(l)},undo:()=>{c(d)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#h(l){let c=this.#r;this.parent.addCommands({cmd:()=>{this.#r=l,this.editorDiv.style.color=l},undo:()=>{this.#r=c,this.editorDiv.style.color=c},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-o._internalPadding*this.parent.scaleFactor,-(o._internalPadding+this.#a)*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#n),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#n),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.div.focus(),this.isEditing=!1)}focusin(l){super.focusin(l),l.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#u(){let l=this.editorDiv.getElementsByTagName("div");if(l.length===0)return this.editorDiv.innerText;let c=[];for(let d=0,u=l.length;d<u;d++){let m=l[d].firstChild;m?.nodeName==="#text"?c.push(m.data):c.push("")}return c.join(`
`)}#l(){let[l,c]=this.parent.viewportBaseDimensions,d=this.div.getBoundingClientRect();this.width=d.width/l,this.height=d.height/c}commit(){super.commit(),this.#c||(this.#c=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#s=this.#u().trimEnd(),this.#l()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(l){this.enableEditMode(),this.editorDiv.focus()}keydown(l){l.target===this.div&&l.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(l){o._keyboardManager.exec(this,l)}editorDivFocus(l){this.isEditing=!0}editorDivBlur(l){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let l,c;this.width&&(l=this.x,c=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),o._l10nPromise.get("editor_free_text_aria_label").then(u=>this.editorDiv?.setAttribute("aria-label",u)),o._l10nPromise.get("free_text_default_content").then(u=>this.editorDiv?.setAttribute("default-content",u)),this.editorDiv.contentEditable=!0;let{style:d}=this.editorDiv;if(d.fontSize=`calc(${this.#a}px * var(--scale-factor))`,d.color=this.#r,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[u,h]=this.parent.viewportBaseDimensions;this.setAt(l*u,c*h,this.width*u,this.height*h);for(let m of this.#s.split(`
`)){let f=document.createElement("div");f.append(m?document.createTextNode(m):document.createElement("br")),this.editorDiv.append(f)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(l,c){let d=super.deserialize(l,c);return d.#a=l.fontSize,d.#r=n.Util.makeHexColor(...l.color),d.#s=l.value,d}serialize(){if(this.isEmpty())return null;let l=o._internalPadding*this.parent.scaleFactor,c=this.getRect(l,l),d=s.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:n.AnnotationEditorType.FREETEXT,color:d,fontSize:this.#a,value:this.#s,pageIndex:this.parent.pageIndex,rect:c,rotation:this.rotation}}}e.FreeTextEditor=o},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return s.fitCurve}});var n=r(1),i=r(6),s=r(25),o=r(7);let a=16,l=(()=>{class c extends i.AnnotationEditor{#e=0;#t=0;#n=0;#r=this.canvasPointermove.bind(this);#s=this.canvasPointerleave.bind(this);#c=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#i=!1;#h=!1;#u=null;#l=null;#o=0;#p=0;#f=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(u){super(Fe(ce({},u),{name:"inkEditor"})),this.color=u.color||null,this.thickness=u.thickness||null,this.opacity=u.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(u){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(h=>[h,u.get(h)]))}static updateDefaultParams(u,h){switch(u){case n.AnnotationEditorParamsType.INK_THICKNESS:c._defaultThickness=h;break;case n.AnnotationEditorParamsType.INK_COLOR:c._defaultColor=h;break;case n.AnnotationEditorParamsType.INK_OPACITY:c._defaultOpacity=h/100;break}}updateParams(u,h){switch(u){case n.AnnotationEditorParamsType.INK_THICKNESS:this.#y(h);break;case n.AnnotationEditorParamsType.INK_COLOR:this.#m(h);break;case n.AnnotationEditorParamsType.INK_OPACITY:this.#v(h);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,c._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,c._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(c._defaultOpacity*100)]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||c._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||c._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??c._defaultOpacity))]]}#y(u){let h=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=u,this.#D()},undo:()=>{this.thickness=h,this.#D()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(u){let h=this.color;this.parent.addCommands({cmd:()=>{this.color=u,this.#g()},undo:()=>{this.color=h,this.#g()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#v(u){u/=100;let h=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=u,this.#g()},undo:()=>{this.opacity=h,this.#g()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(this.#b(),this.#w()),this.isAttachedToDOM||(this.parent.add(this),this.#A()),this.#D())}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#l.disconnect(),this.#l=null,super.remove())}enableEditMode(){this.#i||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#a),this.canvas.addEventListener("pointerup",this.#c))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a),this.canvas.removeEventListener("pointerup",this.#c))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#C(){let{width:u,height:h,rotation:m}=this.parent.viewport;switch(m){case 90:return[0,u,u,h];case 180:return[u,h,u,h];case 270:return[h,0,u,h];default:return[0,0,u,h]}}#_(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,o.opacityToHex)(this.opacity)}`}#d(u,h){this.isEditing=!0,this.#h||(this.#h=!0,this.#A(),this.thickness||=c._defaultThickness,this.color||=c._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=c._defaultOpacity),this.currentPath.push([u,h]),this.#u=null,this.#_(),this.ctx.beginPath(),this.ctx.moveTo(u,h),this.#f=()=>{this.#f&&(this.#u&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#g(),this.ctx.lineTo(...this.#u),this.#u=null,this.ctx.stroke()),window.requestAnimationFrame(this.#f))},window.requestAnimationFrame(this.#f)}#E(u,h){let[m,f]=this.currentPath.at(-1);u===m&&h===f||(this.currentPath.push([u,h]),this.#u=[u,h])}#x(u,h){this.ctx.closePath(),this.#f=null,u=Math.min(Math.max(u,0),this.canvas.width),h=Math.min(Math.max(h,0),this.canvas.height);let[m,f]=this.currentPath.at(-1);(u!==m||h!==f)&&this.currentPath.push([u,h]);let p;if(this.currentPath.length!==1)p=(0,s.fitCurve)(this.currentPath,30,null);else{let M=[u,h];p=[[M,M.slice(),M.slice(),M]]}let v=c.#P(p);this.currentPath.length=0;let C=()=>{this.paths.push(p),this.bezierPath2D.push(v),this.rebuild()},E=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#b(),this.#w()),this.#D())};this.parent.addCommands({cmd:C,undo:E,mustExec:!0})}#g(){if(this.isEmpty()){this.#I();return}this.#_();let{canvas:u,ctx:h}=this;h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,u.width,u.height),this.#I();for(let m of this.bezierPath2D)h.stroke(m)}commit(){this.#i||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#i=!0,this.div.classList.add("disabled"),this.#D(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(u){super.focusin(u),this.enableEditMode()}canvasPointerdown(u){u.button!==0||!this.isInEditMode()||this.#i||(this.setInForeground(),u.type!=="mouse"&&this.div.focus(),u.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#s),this.canvas.addEventListener("pointermove",this.#r),this.#d(u.offsetX,u.offsetY))}canvasPointermove(u){u.stopPropagation(),this.#E(u.offsetX,u.offsetY)}canvasPointerup(u){u.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(u.stopPropagation(),this.#S(u),this.setInBackground())}canvasPointerleave(u){this.#S(u),this.setInBackground()}#S(u){this.#x(u.offsetX,u.offsetY),this.canvas.removeEventListener("pointerleave",this.#s),this.canvas.removeEventListener("pointermove",this.#r),this.parent.addToAnnotationStorage(this)}#b(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c._l10nPromise.get("editor_ink_canvas_aria_label").then(u=>this.canvas?.setAttribute("aria-label",u)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#w(){this.#l=new ResizeObserver(u=>{let h=u[0].contentRect;h.width&&h.height&&this.setDimensions(h.width,h.height)}),this.#l.observe(this.div)}render(){if(this.div)return this.div;let u,h;this.width&&(u=this.x,h=this.y),super.render(),c._l10nPromise.get("editor_ink_aria_label").then(C=>this.div?.setAttribute("aria-label",C));let[m,f,p,v]=this.#C();if(this.setAt(m,f,0,0),this.setDims(p,v),this.#b(),this.width){let[C,E]=this.parent.viewportBaseDimensions;this.setAt(u*C,h*E,this.width*C,this.height*E),this.#h=!0,this.#A(),this.setDims(this.width*C,this.height*E),this.#g(),this.#O(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#w(),this.div}#A(){if(!this.#h)return;let[u,h]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*u),this.canvas.height=Math.ceil(this.height*h),this.#I()}setDimensions(u,h){let m=Math.round(u),f=Math.round(h);if(this.#o===m&&this.#p===f)return;this.#o=m,this.#p=f,this.canvas.style.visibility="hidden",this.#e&&Math.abs(this.#e-u/h)>.01&&(h=Math.ceil(u/this.#e),this.setDims(u,h));let[p,v]=this.parent.viewportBaseDimensions;this.width=u/p,this.height=h/v,this.#i&&this.#M(u,h),this.#A(),this.#g(),this.canvas.style.visibility="visible"}#M(u,h){let m=this.#T(),f=(u-m)/this.#n,p=(h-m)/this.#t;this.scaleFactor=Math.min(f,p)}#I(){let u=this.#T()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+u,this.translationY*this.scaleFactor+u)}static#P(u){let h=new Path2D;for(let m=0,f=u.length;m<f;m++){let[p,v,C,E]=u[m];m===0&&h.moveTo(...p),h.bezierCurveTo(v[0],v[1],C[0],C[1],E[0],E[1])}return h}#N(u,h,m,f){let v=[],C=this.thickness/2,E,M;for(let D of this.paths){E=[],M=[];for(let y=0,b=D.length;y<b;y++){let[I,F,B,_]=D[y],O=u*(I[0]+h)+C,q=f-u*(I[1]+m)-C,$=u*(F[0]+h)+C,P=f-u*(F[1]+m)-C,T=u*(B[0]+h)+C,R=f-u*(B[1]+m)-C,U=u*(_[0]+h)+C,H=f-u*(_[1]+m)-C;y===0&&(E.push(O,q),M.push(O,q)),E.push($,P,T,R,U,H),this.#L(O,q,$,P,T,R,U,H,4,M)}v.push({bezier:E,points:M})}return v}#L(u,h,m,f,p,v,C,E,M,D){if(this.#F(u,h,m,f,p,v,C,E)){D.push(C,E);return}for(let y=1;y<M-1;y++){let b=y/M,I=1-b,F=b*u+I*m,B=b*h+I*f,_=b*m+I*p,O=b*f+I*v,q=b*p+I*C,$=b*v+I*E;F=b*F+I*_,B=b*B+I*O,_=b*_+I*q,O=b*O+I*$,F=b*F+I*_,B=b*B+I*O,D.push(F,B)}D.push(C,E)}#F(u,h,m,f,p,v,C,E){let D=(3*m-2*u-C)**2,y=(3*f-2*h-E)**2,b=(3*p-u-2*C)**2,I=(3*v-h-2*E)**2;return Math.max(D,b)+Math.max(y,I)<=10}#R(){let u=1/0,h=-1/0,m=1/0,f=-1/0;for(let p of this.paths)for(let[v,C,E,M]of p){let D=n.Util.bezierBoundingBox(...v,...C,...E,...M);u=Math.min(u,D[0]),m=Math.min(m,D[1]),h=Math.max(h,D[2]),f=Math.max(f,D[3])}return[u,m,h,f]}#T(){return this.#i?Math.ceil(this.thickness*this.parent.scaleFactor):0}#D(u=!1){if(this.isEmpty())return;if(!this.#i){this.#g();return}let h=this.#R(),m=this.#T();this.#n=Math.max(a,h[2]-h[0]),this.#t=Math.max(a,h[3]-h[1]);let f=Math.ceil(m+this.#n*this.scaleFactor),p=Math.ceil(m+this.#t*this.scaleFactor),[v,C]=this.parent.viewportBaseDimensions;this.width=f/v,this.height=p/C,this.#e=f/p,this.#O();let E=this.translationX,M=this.translationY;this.translationX=-h[0],this.translationY=-h[1],this.#A(),this.#g(),this.#o=f,this.#p=p,this.setDims(f,p);let D=u?m/this.scaleFactor/2:0;this.translate(E-this.translationX-D,M-this.translationY-D)}#O(){let{style:u}=this.div;this.#e>=1?(u.minHeight=`${a}px`,u.minWidth=`${Math.round(this.#e*a)}px`):(u.minWidth=`${a}px`,u.minHeight=`${Math.round(a/this.#e)}px`)}static deserialize(u,h){let m=super.deserialize(u,h);m.thickness=u.thickness,m.color=n.Util.makeHexColor(...u.color),m.opacity=u.opacity;let[f,p]=h.pageDimensions,v=m.width*f,C=m.height*p,E=h.scaleFactor,M=u.thickness/2;m.#e=v/C,m.#i=!0,m.#o=Math.round(v),m.#p=Math.round(C);for(let{bezier:y}of u.paths){let b=[];m.paths.push(b);let I=E*(y[0]-M),F=E*(C-y[1]-M);for(let _=2,O=y.length;_<O;_+=6){let q=E*(y[_]-M),$=E*(C-y[_+1]-M),P=E*(y[_+2]-M),T=E*(C-y[_+3]-M),R=E*(y[_+4]-M),U=E*(C-y[_+5]-M);b.push([[I,F],[q,$],[P,T],[R,U]]),I=R,F=U}let B=this.#P(b);m.bezierPath2D.push(B)}let D=m.#R();return m.#n=Math.max(a,D[2]-D[0]),m.#t=Math.max(a,D[3]-D[1]),m.#M(v,C),m}serialize(){if(this.isEmpty())return null;let u=this.getRect(0,0),h=this.rotation%180===0?u[3]-u[1]:u[2]-u[0],m=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:m,thickness:this.thickness,opacity:this.opacity,paths:this.#N(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,h),pageIndex:this.parent.pageIndex,rect:u,rotation:this.rotation}}}return c})();e.InkEditor=l},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;let n=r(26);e.fitCurve=n},t=>{function e(f,p,v){if(!Array.isArray(f))throw new TypeError("First argument should be an array");if(f.forEach(D=>{if(!Array.isArray(D)||D.some(y=>typeof y!="number")||D.length!==f[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),f=f.filter((D,y)=>y===0||!D.every((b,I)=>b===f[y-1][I])),f.length<2)return[];let C=f.length,E=u(f[1],f[0]),M=u(f[C-2],f[C-1]);return r(f,E,M,p,v)}function r(f,p,v,C,E){var D,y,b,I,F,B,_,O,q,$,P,T,R;if(f.length===2)return T=h.vectorLen(h.subtract(f[0],f[1]))/3,D=[f[0],h.addArrays(f[0],h.mulItems(p,T)),h.addArrays(f[1],h.mulItems(v,T)),f[1]],[D];if(y=a(f),[D,I,B]=n(f,y,y,p,v,E),I===0||I<C)return[D];if(I<C*C)for(b=y,F=I,_=B,R=0;R<20;R++){if(b=s(D,f,b),[D,I,B]=n(f,y,b,p,v,E),I<C)return[D];if(B===_){let U=I/F;if(U>.9999&&U<1.0001)break}F=I,_=B}return P=[],O=h.subtract(f[B-1],f[B+1]),O.every(U=>U===0)&&(O=h.subtract(f[B-1],f[B]),[O[0],O[1]]=[-O[1],O[0]]),q=h.normalize(O),$=h.mulItems(q,-1),P=P.concat(r(f.slice(0,B+1),p,q,C,E)),P=P.concat(r(f.slice(B),$,v,C,E)),P}function n(f,p,v,C,E,M){var D,y,b;return D=i(f,v,C,E,M),[y,b]=l(f,D,p),M&&M({bez:D,points:f,params:p,maxErr:y,maxPoint:b}),[D,y,b]}function i(f,p,v,C){var E,M,D,y,b,I,F,B,_,O,q,$,P,T,R,U,H,x=f[0],S=f[f.length-1];for(E=[x,null,null,S],M=h.zeros_Xx2x2(p.length),P=0,T=p.length;P<T;P++)U=p[P],H=1-U,D=M[P],D[0]=h.mulItems(v,3*U*(H*H)),D[1]=h.mulItems(C,3*H*(U*U));for(y=[[0,0],[0,0]],b=[0,0],P=0,T=f.length;P<T;P++)U=p[P],D=M[P],y[0][0]+=h.dot(D[0],D[0]),y[0][1]+=h.dot(D[0],D[1]),y[1][0]+=h.dot(D[0],D[1]),y[1][1]+=h.dot(D[1],D[1]),R=h.subtract(f[P],m.q([x,x,S,S],U)),b[0]+=h.dot(D[0],R),b[1]+=h.dot(D[1],R);return I=y[0][0]*y[1][1]-y[1][0]*y[0][1],F=y[0][0]*b[1]-y[1][0]*b[0],B=b[0]*y[1][1]-b[1]*y[0][1],_=I===0?0:B/I,O=I===0?0:F/I,$=h.vectorLen(h.subtract(x,S)),q=1e-6*$,_<q||O<q?(E[1]=h.addArrays(x,h.mulItems(v,$/3)),E[2]=h.addArrays(S,h.mulItems(C,$/3))):(E[1]=h.addArrays(x,h.mulItems(v,_)),E[2]=h.addArrays(S,h.mulItems(C,O))),E}function s(f,p,v){return v.map((C,E)=>o(f,p[E],C))}function o(f,p,v){var C=h.subtract(m.q(f,v),p),E=m.qprime(f,v),M=h.mulMatrix(C,E),D=h.sum(h.squareItems(E))+2*h.mulMatrix(C,m.qprimeprime(f,v));return D===0?v:v-M/D}function a(f){var p=[],v,C,E;return f.forEach((M,D)=>{v=D?C+h.vectorLen(h.subtract(M,E)):0,p.push(v),C=v,E=M}),p=p.map(M=>M/C),p}function l(f,p,v){var C,E,M,D,y,b,I,F;E=0,M=Math.floor(f.length/2);let B=c(p,10);for(y=0,b=f.length;y<b;y++)I=f[y],F=d(p,v[y],B,10),D=h.subtract(m.q(p,F),I),C=D[0]*D[0]+D[1]*D[1],C>E&&(E=C,M=y);return[E,M]}var c=function(f,p){for(var v,C=[0],E=f[0],M=0,D=1;D<=p;D++)v=m.q(f,D/p),M+=h.vectorLen(h.subtract(v,E)),C.push(M),E=v;return C=C.map(y=>y/M),C};function d(f,p,v,C){if(p<0)return 0;if(p>1)return 1;for(var E,M,D,y,b,I=1;I<=C;I++)if(p<=v[I]){y=(I-1)/C,D=I/C,M=v[I-1],E=v[I],b=(p-M)/(E-M)*(D-y)+y;break}return b}function u(f,p){return h.normalize(h.subtract(f,p))}class h{static zeros_Xx2x2(p){for(var v=[];p--;)v.push([0,0]);return v}static mulItems(p,v){return p.map(C=>C*v)}static mulMatrix(p,v){return p.reduce((C,E,M)=>C+E*v[M],0)}static subtract(p,v){return p.map((C,E)=>C-v[E])}static addArrays(p,v){return p.map((C,E)=>C+v[E])}static addItems(p,v){return p.map(C=>C+v)}static sum(p){return p.reduce((v,C)=>v+C)}static dot(p,v){return h.mulMatrix(p,v)}static vectorLen(p){return Math.hypot(...p)}static divItems(p,v){return p.map(C=>C/v)}static squareItems(p){return p.map(v=>v*v)}static normalize(p){return this.divItems(p,this.vectorLen(p))}}class m{static q(p,v){var C=1-v,E=h.mulItems(p[0],C*C*C),M=h.mulItems(p[1],3*C*C*v),D=h.mulItems(p[2],3*C*v*v),y=h.mulItems(p[3],v*v*v);return h.addArrays(h.addArrays(E,M),h.addArrays(D,y))}static qprime(p,v){var C=1-v,E=h.mulItems(h.subtract(p[1],p[0]),3*C*C),M=h.mulItems(h.subtract(p[2],p[1]),6*C*v),D=h.mulItems(h.subtract(p[3],p[2]),3*v*v);return h.addArrays(h.addArrays(E,M),D)}static qprimeprime(p,v){return h.addArrays(h.mulItems(h.addArrays(h.subtract(p[2],h.mulItems(p[1],2)),p[0]),6*(1-v)),h.mulItems(h.addArrays(h.subtract(p[3],h.mulItems(p[2],2)),p[1]),6*v))}}t.exports=e,t.exports.fitCubic=r,t.exports.createTangent=u},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var n=r(1),i=r(8),s=r(5),o=r(28),a=r(29);let l=1e3,c=9,d=new WeakSet;function u(j){return{width:j[2]-j[0],height:j[3]-j[1]}}class h{static create(g){switch(g.data.annotationType){case n.AnnotationType.LINK:return new f(g);case n.AnnotationType.TEXT:return new p(g);case n.AnnotationType.WIDGET:switch(g.data.fieldType){case"Tx":return new C(g);case"Btn":return g.data.radioButton?new M(g):g.data.checkBox?new E(g):new D(g);case"Ch":return new y(g)}return new v(g);case n.AnnotationType.POPUP:return new b(g);case n.AnnotationType.FREETEXT:return new F(g);case n.AnnotationType.LINE:return new B(g);case n.AnnotationType.SQUARE:return new _(g);case n.AnnotationType.CIRCLE:return new O(g);case n.AnnotationType.POLYLINE:return new q(g);case n.AnnotationType.CARET:return new P(g);case n.AnnotationType.INK:return new T(g);case n.AnnotationType.POLYGON:return new $(g);case n.AnnotationType.HIGHLIGHT:return new R(g);case n.AnnotationType.UNDERLINE:return new U(g);case n.AnnotationType.SQUIGGLY:return new H(g);case n.AnnotationType.STRIKEOUT:return new x(g);case n.AnnotationType.STAMP:return new S(g);case n.AnnotationType.FILEATTACHMENT:return new A(g);default:return new m(g)}}}class m{constructor(g,{isRenderable:w=!1,ignoreBorder:N=!1,createQuadrilaterals:k=!1}={}){this.isRenderable=w,this.data=g.data,this.layer=g.layer,this.page=g.page,this.viewport=g.viewport,this.linkService=g.linkService,this.downloadManager=g.downloadManager,this.imageResourcesPath=g.imageResourcesPath,this.renderForms=g.renderForms,this.svgFactory=g.svgFactory,this.annotationStorage=g.annotationStorage,this.enableScripting=g.enableScripting,this.hasJSActions=g.hasJSActions,this._fieldObjects=g.fieldObjects,this._mouseState=g.mouseState,w&&(this.container=this._createContainer(N)),k&&(this.quadrilaterals=this._createQuadrilaterals(N))}_createContainer(g=!1){let w=this.data,N=this.page,k=this.viewport,V=document.createElement("section"),{width:W,height:z}=u(w.rect),[X,K,Y,G]=k.viewBox,Z=Y-X,ee=G-K;V.setAttribute("data-annotation-id",w.id);let te=n.Util.normalizeRect([w.rect[0],N.view[3]-w.rect[1]+N.view[1],w.rect[2],N.view[3]-w.rect[3]+N.view[1]]);if(!g&&w.borderStyle.width>0){V.style.borderWidth=`${w.borderStyle.width}px`;let ie=w.borderStyle.horizontalCornerRadius,oe=w.borderStyle.verticalCornerRadius;if(ie>0||oe>0){let Ae=`calc(${ie}px * var(--scale-factor)) / calc(${oe}px * var(--scale-factor))`;V.style.borderRadius=Ae}else if(this instanceof M){let Ae=`calc(${W}px * var(--scale-factor)) / calc(${z}px * var(--scale-factor))`;V.style.borderRadius=Ae}switch(w.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:V.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:V.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:V.style.borderBottomStyle="solid";break;default:break}let se=w.borderColor||null;se?V.style.borderColor=n.Util.makeHexColor(se[0]|0,se[1]|0,se[2]|0):V.style.borderWidth=0}V.style.left=`${100*(te[0]-X)/Z}%`,V.style.top=`${100*(te[1]-K)/ee}%`;let{rotation:re}=w;return w.hasOwnCanvas||re===0?(V.style.width=`${100*W/Z}%`,V.style.height=`${100*z/ee}%`):this.setRotation(re,V),V}setRotation(g,w=this.container){let[N,k,V,W]=this.viewport.viewBox,z=V-N,X=W-k,{width:K,height:Y}=u(this.data.rect),G,Z;g%180===0?(G=100*K/z,Z=100*Y/X):(G=100*Y/z,Z=100*K/X),w.style.width=`${G}%`,w.style.height=`${Z}%`,w.setAttribute("data-main-rotation",(360-g)%360)}get _commonActions(){let g=(w,N,k)=>{let V=k.detail[w];k.target.style[N]=o.ColorConverters[`${V[0]}_HTML`](V.slice(1))};return(0,n.shadow)(this,"_commonActions",{display:w=>{let N=w.detail.display%2===1;this.container.style.visibility=N?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:N,print:w.detail.display===0||w.detail.display===3})},print:w=>{this.annotationStorage.setValue(this.data.id,{print:w.detail.print})},hidden:w=>{this.container.style.visibility=w.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:w.detail.hidden})},focus:w=>{setTimeout(()=>w.target.focus({preventScroll:!1}),0)},userName:w=>{w.target.title=w.detail.userName},readonly:w=>{w.detail.readonly?w.target.setAttribute("readonly",""):w.target.removeAttribute("readonly")},required:w=>{this._setRequired(w.target,w.detail.required)},bgColor:w=>{g("bgColor","backgroundColor",w)},fillColor:w=>{g("fillColor","backgroundColor",w)},fgColor:w=>{g("fgColor","color",w)},textColor:w=>{g("textColor","color",w)},borderColor:w=>{g("borderColor","borderColor",w)},strokeColor:w=>{g("strokeColor","borderColor",w)},rotation:w=>{let N=w.detail.rotation;this.setRotation(N),this.annotationStorage.setValue(this.data.id,{rotation:N})}})}_dispatchEventFromSandbox(g,w){let N=this._commonActions;for(let k of Object.keys(w.detail)){let V=g[k]||N[k];V&&V(w)}}_setDefaultPropertiesFromJS(g){if(!this.enableScripting)return;let w=this.annotationStorage.getRawValue(this.data.id);if(!w)return;let N=this._commonActions;for(let[k,V]of Object.entries(w)){let W=N[k];if(W){let z={detail:{[k]:V},target:g};W(z),delete w[k]}}}_createQuadrilaterals(g=!1){if(!this.data.quadPoints)return null;let w=[],N=this.data.rect;for(let k of this.data.quadPoints)this.data.rect=[k[2].x,k[2].y,k[1].x,k[1].y],w.push(this._createContainer(g));return this.data.rect=N,w}_createPopup(g,w){let N=this.container;this.quadrilaterals&&(g=g||this.quadrilaterals,N=this.quadrilaterals[0]),g||(g=document.createElement("div"),g.className="popupTriggerArea",N.append(g));let V=new I({container:N,trigger:g,color:w.color,titleObj:w.titleObj,modificationDate:w.modificationDate,contentsObj:w.contentsObj,richText:w.richText,hideWrapper:!0}).render();V.style.left="100%",N.append(V)}_renderQuadrilaterals(g){for(let w of this.quadrilaterals)w.className=g;return this.quadrilaterals}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(g,w=null){let N=[];if(this._fieldObjects){let k=this._fieldObjects[g];if(k)for(let{page:V,id:W,exportValues:z}of k){if(V===-1||W===w)continue;let X=typeof z=="string"?z:null,K=document.querySelector(`[data-element-id="${W}"]`);if(K&&!d.has(K)){(0,n.warn)(`_getElementsByName - element not allowed: ${W}`);continue}N.push({id:W,exportValue:X,domElement:K})}return N}for(let k of document.getElementsByName(g)){let{id:V,exportValue:W}=k;V!==w&&d.has(k)&&N.push({id:V,exportValue:W,domElement:k})}return N}static get platform(){let g=typeof navigator<"u"?navigator.platform:"";return(0,n.shadow)(this,"platform",{isWin:g.includes("Win"),isMac:g.includes("Mac")})}}class f extends m{constructor(g,w=null){super(g,{isRenderable:!0,ignoreBorder:!!w?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=g.data.isTooltipOnly}render(){let{data:g,linkService:w}=this,N=document.createElement("a");N.setAttribute("data-element-id",g.id);let k=!1;return g.url?(w.addLinkAttributes(N,g.url,g.newWindow),k=!0):g.action?(this._bindNamedAction(N,g.action),k=!0):g.dest?(this._bindLink(N,g.dest),k=!0):(g.actions&&(g.actions.Action||g.actions["Mouse Up"]||g.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(N,g),k=!0),g.resetForm?(this._bindResetFormAction(N,g.resetForm),k=!0):this.isTooltipOnly&&!k&&(this._bindLink(N,""),k=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((V,W)=>{let z=W===0?N:N.cloneNode();return V.append(z),V}):(this.container.className="linkAnnotation",k&&this.container.append(N),this.container)}_bindLink(g,w){g.href=this.linkService.getDestinationHash(w),g.onclick=()=>(w&&this.linkService.goToDestination(w),!1),(w||w==="")&&(g.className="internalLink")}_bindNamedAction(g,w){g.href=this.linkService.getAnchorUrl(""),g.onclick=()=>(this.linkService.executeNamedAction(w),!1),g.className="internalLink"}_bindJSAction(g,w){g.href=this.linkService.getAnchorUrl("");let N=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let k of Object.keys(w.actions)){let V=N.get(k);V&&(g[V]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w.id,name:k}}),!1))}g.onclick||(g.onclick=()=>!1),g.className="internalLink"}_bindResetFormAction(g,w){let N=g.onclick;if(N||(g.href=this.linkService.getAnchorUrl("")),g.className="internalLink",!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),N||(g.onclick=()=>!1);return}g.onclick=()=>{N&&N();let{fields:k,refs:V,include:W}=w,z=[];if(k.length!==0||V.length!==0){let Y=new Set(V);for(let G of k){let Z=this._fieldObjects[G]||[];for(let{id:ee}of Z)Y.add(ee)}for(let G of Object.values(this._fieldObjects))for(let Z of G)Y.has(Z.id)===W&&z.push(Z)}else for(let Y of Object.values(this._fieldObjects))z.push(...Y);let X=this.annotationStorage,K=[];for(let Y of z){let{id:G}=Y;switch(K.push(G),Y.type){case"text":{let ee=Y.defaultValue||"";X.setValue(G,{value:ee});break}case"checkbox":case"radiobutton":{let ee=Y.defaultValue===Y.exportValues;X.setValue(G,{value:ee});break}case"combobox":case"listbox":{let ee=Y.defaultValue||"";X.setValue(G,{value:ee});break}default:continue}let Z=document.querySelector(`[data-element-id="${G}"]`);if(Z){if(!d.has(Z)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${G}`);continue}}else continue;Z.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:K,name:"ResetForm"}}),!1}}}class p extends m{constructor(g){let w=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w})}render(){this.container.className="textAnnotation";let g=document.createElement("img");return g.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",g.alt="[{{type}} Annotation]",g.dataset.l10nId="text_annotation_type",g.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(g,this.data),this.container.append(g),this.container}}class v extends m{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(g){let{isWin:w,isMac:N}=m.platform;return w&&g.ctrlKey||N&&g.metaKey}_setEventListener(g,w,N,k){w.includes("mouse")?g.addEventListener(w,V=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:k(V),shift:V.shiftKey,modifier:this._getKeyModifier(V)}})}):g.addEventListener(w,V=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:k(V)}})})}_setEventListeners(g,w,N){for(let[k,V]of w)(V==="Action"||this.data.actions?.[V])&&this._setEventListener(g,k,V,N)}_setBackgroundColor(g){let w=this.data.backgroundColor||null;g.style.backgroundColor=w===null?"transparent":n.Util.makeHexColor(w[0],w[1],w[2])}_setTextStyle(g){let w=["left","center","right"],{fontColor:N}=this.data.defaultAppearanceData,k=this.data.defaultAppearanceData.fontSize||c,V=g.style,W;if(this.data.multiLine){let z=Math.abs(this.data.rect[3]-this.data.rect[1]),X=Math.round(z/(n.LINE_FACTOR*k))||1,K=z/X;W=Math.min(k,Math.round(K/n.LINE_FACTOR))}else{let z=Math.abs(this.data.rect[3]-this.data.rect[1]);W=Math.min(k,Math.round(z/n.LINE_FACTOR))}V.fontSize=`calc(${W}px * var(--scale-factor))`,V.color=n.Util.makeHexColor(N[0],N[1],N[2]),this.data.textAlignment!==null&&(V.textAlign=w[this.data.textAlignment])}_setRequired(g,w){w?g.setAttribute("required",!0):g.removeAttribute("required"),g.setAttribute("aria-required",w)}}class C extends v{constructor(g){let w=g.renderForms||!g.data.hasAppearance&&!!g.data.fieldValue;super(g,{isRenderable:w})}setPropertyOnSiblings(g,w,N,k){let V=this.annotationStorage;for(let W of this._getElementsByName(g.name,g.id))W.domElement&&(W.domElement[w]=N),V.setValue(W.id,{[k]:N})}render(){let g=this.annotationStorage,w=this.data.id;this.container.className="textWidgetAnnotation";let N=null;if(this.renderForms){let k=g.getValue(w,{value:this.data.fieldValue}),V=k.formattedValue||k.value||"",W=g.getValue(w,{charLimit:this.data.maxLen}).charLimit;W&&V.length>W&&(V=V.slice(0,W));let z={userValue:V,formattedValue:null,valueOnFocus:""};this.data.multiLine?(N=document.createElement("textarea"),N.textContent=V,this.data.doNotScroll&&(N.style.overflowY="hidden")):(N=document.createElement("input"),N.type="text",N.setAttribute("value",V),this.data.doNotScroll&&(N.style.overflowX="hidden")),d.add(N),N.setAttribute("data-element-id",w),N.disabled=this.data.readOnly,N.name=this.data.fieldName,N.tabIndex=l,this._setRequired(N,this.data.required),W&&(N.maxLength=W),N.addEventListener("input",K=>{g.setValue(w,{value:K.target.value}),this.setPropertyOnSiblings(N,"value",K.target.value,"value")}),N.addEventListener("resetform",K=>{let Y=this.data.defaultFieldValue??"";N.value=z.userValue=Y,z.formattedValue=null});let X=K=>{let{formattedValue:Y}=z;Y!=null&&(K.target.value=Y),K.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){N.addEventListener("focus",Y=>{z.userValue&&(Y.target.value=z.userValue),z.valueOnFocus=Y.target.value}),N.addEventListener("updatefromsandbox",Y=>{let G={value(Z){z.userValue=Z.detail.value??"",g.setValue(w,{value:z.userValue.toString()}),Z.target.value=z.userValue},formattedValue(Z){let{formattedValue:ee}=Z.detail;z.formattedValue=ee,ee!=null&&Z.target!==document.activeElement&&(Z.target.value=ee),g.setValue(w,{formattedValue:ee})},selRange(Z){Z.target.setSelectionRange(...Z.detail.selRange)},charLimit:Z=>{let{charLimit:ee}=Z.detail,{target:te}=Z;if(ee===0){te.removeAttribute("maxLength");return}te.setAttribute("maxLength",ee);let re=z.userValue;!re||re.length<=ee||(re=re.slice(0,ee),te.value=z.userValue=re,g.setValue(w,{value:re}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:re,willCommit:!0,commitKey:1,selStart:te.selectionStart,selEnd:te.selectionEnd}}))}};this._dispatchEventFromSandbox(G,Y)}),N.addEventListener("keydown",Y=>{let G=-1;if(Y.key==="Escape"?G=0:Y.key==="Enter"?G=2:Y.key==="Tab"&&(G=3),G===-1)return;let{value:Z}=Y.target;z.valueOnFocus!==Z&&(z.userValue=Z,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:Z,willCommit:!0,commitKey:G,selStart:Y.target.selectionStart,selEnd:Y.target.selectionEnd}}))});let K=X;X=null,N.addEventListener("blur",Y=>{let{value:G}=Y.target;z.userValue=G,this._mouseState.isDown&&z.valueOnFocus!==G&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:G,willCommit:!0,commitKey:1,selStart:Y.target.selectionStart,selEnd:Y.target.selectionEnd}}),K(Y)}),this.data.actions?.Keystroke&&N.addEventListener("beforeinput",Y=>{let{data:G,target:Z}=Y,{value:ee,selectionStart:te,selectionEnd:re}=Z,ie=te,oe=re;switch(Y.inputType){case"deleteWordBackward":{let se=ee.substring(0,te).match(/\w*[^\w]*$/);se&&(ie-=se[0].length);break}case"deleteWordForward":{let se=ee.substring(te).match(/^[^\w]*\w*/);se&&(oe+=se[0].length);break}case"deleteContentBackward":te===re&&(ie-=1);break;case"deleteContentForward":te===re&&(oe+=1);break}Y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:ee,change:G||"",willCommit:!1,selStart:ie,selEnd:oe}})}),this._setEventListeners(N,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.value)}if(X&&N.addEventListener("blur",X),this.data.comb){let Y=(this.data.rect[2]-this.data.rect[0])/W;N.classList.add("comb"),N.style.letterSpacing=`calc(${Y}px * var(--scale-factor) - 1ch)`}}else N=document.createElement("div"),N.textContent=this.data.fieldValue,N.style.verticalAlign="middle",N.style.display="table-cell";return this._setTextStyle(N),this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.append(N),this.container}}class E extends v{constructor(g){super(g,{isRenderable:g.renderForms})}render(){let g=this.annotationStorage,w=this.data,N=w.id,k=g.getValue(N,{value:w.exportValue===w.fieldValue}).value;typeof k=="string"&&(k=k!=="Off",g.setValue(N,{value:k})),this.container.className="buttonWidgetAnnotation checkBox";let V=document.createElement("input");return d.add(V),V.setAttribute("data-element-id",N),V.disabled=w.readOnly,this._setRequired(V,this.data.required),V.type="checkbox",V.name=w.fieldName,k&&V.setAttribute("checked",!0),V.setAttribute("exportValue",w.exportValue),V.tabIndex=l,V.addEventListener("change",W=>{let{name:z,checked:X}=W.target;for(let K of this._getElementsByName(z,N)){let Y=X&&K.exportValue===w.exportValue;K.domElement&&(K.domElement.checked=Y),g.setValue(K.id,{value:Y})}g.setValue(N,{value:X})}),V.addEventListener("resetform",W=>{let z=w.defaultFieldValue||"Off";W.target.checked=z===w.exportValue}),this.enableScripting&&this.hasJSActions&&(V.addEventListener("updatefromsandbox",W=>{let z={value(X){X.target.checked=X.detail.value!=="Off",g.setValue(N,{value:X.target.checked})}};this._dispatchEventFromSandbox(z,W)}),this._setEventListeners(V,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.checked)),this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class M extends v{constructor(g){super(g,{isRenderable:g.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";let g=this.annotationStorage,w=this.data,N=w.id,k=g.getValue(N,{value:w.fieldValue===w.buttonValue}).value;typeof k=="string"&&(k=k!==w.buttonValue,g.setValue(N,{value:k}));let V=document.createElement("input");if(d.add(V),V.setAttribute("data-element-id",N),V.disabled=w.readOnly,this._setRequired(V,this.data.required),V.type="radio",V.name=w.fieldName,k&&V.setAttribute("checked",!0),V.tabIndex=l,V.addEventListener("change",W=>{let{name:z,checked:X}=W.target;for(let K of this._getElementsByName(z,N))g.setValue(K.id,{value:!1});g.setValue(N,{value:X})}),V.addEventListener("resetform",W=>{let z=w.defaultFieldValue;W.target.checked=z!=null&&z===w.buttonValue}),this.enableScripting&&this.hasJSActions){let W=w.buttonValue;V.addEventListener("updatefromsandbox",z=>{let X={value:K=>{let Y=W===K.detail.value;for(let G of this._getElementsByName(K.target.name)){let Z=Y&&G.id===N;G.domElement&&(G.domElement.checked=Z),g.setValue(G.id,{value:Z})}}};this._dispatchEventFromSandbox(X,z)}),this._setEventListeners(V,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],z=>z.target.checked)}return this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class D extends f{constructor(g){super(g,{ignoreBorder:g.data.hasAppearance})}render(){let g=super.render();g.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(g.title=this.data.alternativeText);let w=g.lastChild;return this.enableScripting&&this.hasJSActions&&w&&(this._setDefaultPropertiesFromJS(w),w.addEventListener("updatefromsandbox",N=>{this._dispatchEventFromSandbox({},N)})),g}}class y extends v{constructor(g){super(g,{isRenderable:g.renderForms})}render(){this.container.className="choiceWidgetAnnotation";let g=this.annotationStorage,w=this.data.id,N=g.getValue(w,{value:this.data.fieldValue}),k=document.createElement("select");d.add(k),k.setAttribute("data-element-id",w),k.disabled=this.data.readOnly,this._setRequired(k,this.data.required),k.name=this.data.fieldName,k.tabIndex=l;let V=this.data.combo&&this.data.options.length>0;this.data.combo||(k.size=this.data.options.length,this.data.multiSelect&&(k.multiple=!0)),k.addEventListener("resetform",K=>{let Y=this.data.defaultFieldValue;for(let G of k.options)G.selected=G.value===Y});for(let K of this.data.options){let Y=document.createElement("option");Y.textContent=K.displayValue,Y.value=K.exportValue,N.value.includes(K.exportValue)&&(Y.setAttribute("selected",!0),V=!1),k.append(Y)}let W=null;if(V){let K=document.createElement("option");K.value=" ",K.setAttribute("hidden",!0),K.setAttribute("selected",!0),k.prepend(K),W=()=>{K.remove(),k.removeEventListener("input",W),W=null},k.addEventListener("input",W)}let z=(K,Y)=>{let G=Y?"value":"textContent",Z=K.target.options;return K.target.multiple?Array.prototype.filter.call(Z,ee=>ee.selected).map(ee=>ee[G]):Z.selectedIndex===-1?null:Z[Z.selectedIndex][G]},X=K=>{let Y=K.target.options;return Array.prototype.map.call(Y,G=>({displayValue:G.textContent,exportValue:G.value}))};return this.enableScripting&&this.hasJSActions?(k.addEventListener("updatefromsandbox",K=>{let Y={value(G){W?.();let Z=G.detail.value,ee=new Set(Array.isArray(Z)?Z:[Z]);for(let te of k.options)te.selected=ee.has(te.value);g.setValue(w,{value:z(G,!0)})},multipleSelection(G){k.multiple=!0},remove(G){let Z=k.options,ee=G.detail.remove;Z[ee].selected=!1,k.remove(ee),Z.length>0&&Array.prototype.findIndex.call(Z,re=>re.selected)===-1&&(Z[0].selected=!0),g.setValue(w,{value:z(G,!0),items:X(G)})},clear(G){for(;k.length!==0;)k.remove(0);g.setValue(w,{value:null,items:[]})},insert(G){let{index:Z,displayValue:ee,exportValue:te}=G.detail.insert,re=k.children[Z],ie=document.createElement("option");ie.textContent=ee,ie.value=te,re?re.before(ie):k.append(ie),g.setValue(w,{value:z(G,!0),items:X(G)})},items(G){let{items:Z}=G.detail;for(;k.length!==0;)k.remove(0);for(let ee of Z){let{displayValue:te,exportValue:re}=ee,ie=document.createElement("option");ie.textContent=te,ie.value=re,k.append(ie)}k.options.length>0&&(k.options[0].selected=!0),g.setValue(w,{value:z(G,!0),items:X(G)})},indices(G){let Z=new Set(G.detail.indices);for(let ee of G.target.options)ee.selected=Z.has(ee.index);g.setValue(w,{value:z(G,!0)})},editable(G){G.target.disabled=!G.detail.editable}};this._dispatchEventFromSandbox(Y,K)}),k.addEventListener("input",K=>{let Y=z(K,!0),G=z(K,!1);g.setValue(w,{value:Y}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:G,changeEx:Y,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(k,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],K=>K.target.checked)):k.addEventListener("input",function(K){g.setValue(w,{value:z(K,!0)})}),this.data.combo&&this._setTextStyle(k),this._setBackgroundColor(k),this._setDefaultPropertiesFromJS(k),this.container.append(k),this.container}}class b extends m{constructor(g){let w=!!(g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w})}render(){let g=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",g.includes(this.data.parentType))return this.container;let w=`[data-annotation-id="${this.data.parentId}"]`,N=this.layer.querySelectorAll(w);if(N.length===0)return this.container;let k=new I({container:this.container,trigger:Array.from(N),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),V=this.page,W=n.Util.normalizeRect([this.data.parentRect[0],V.view[3]-this.data.parentRect[1]+V.view[1],this.data.parentRect[2],V.view[3]-this.data.parentRect[3]+V.view[1]]),z=W[0]+this.data.parentRect[2]-this.data.parentRect[0],X=W[1],[K,Y,G,Z]=this.viewport.viewBox,ee=G-K,te=Z-Y;return this.container.style.left=`${100*(z-K)/ee}%`,this.container.style.top=`${100*(X-Y)/te}%`,this.container.append(k.render()),this.container}}class I{constructor(g){this.container=g.container,this.trigger=g.trigger,this.color=g.color,this.titleObj=g.titleObj,this.modificationDate=g.modificationDate,this.contentsObj=g.contentsObj,this.richText=g.richText,this.hideWrapper=g.hideWrapper||!1,this.pinned=!1}render(){let w=document.createElement("div");w.className="popupWrapper",this.hideElement=this.hideWrapper?w:this.container,this.hideElement.hidden=!0;let N=document.createElement("div");N.className="popup";let k=this.color;if(k){let z=.7*(255-k[0])+k[0],X=.7*(255-k[1])+k[1],K=.7*(255-k[2])+k[2];N.style.backgroundColor=n.Util.makeHexColor(z|0,X|0,K|0)}let V=document.createElement("h1");V.dir=this.titleObj.dir,V.textContent=this.titleObj.str,N.append(V);let W=i.PDFDateString.toDateObject(this.modificationDate);if(W){let z=document.createElement("span");z.className="popupDate",z.textContent="{{date}}, {{time}}",z.dataset.l10nId="annotation_date_string",z.dataset.l10nArgs=JSON.stringify({date:W.toLocaleDateString(),time:W.toLocaleTimeString()}),N.append(z)}if(this.richText?.str&&(!this.contentsObj?.str||this.contentsObj.str===this.richText.str))a.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:N}),N.lastChild.className="richText popupContent";else{let z=this._formatContents(this.contentsObj);N.append(z)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(let z of this.trigger)z.addEventListener("click",this._toggle.bind(this)),z.addEventListener("mouseover",this._show.bind(this,!1)),z.addEventListener("mouseout",this._hide.bind(this,!1));return N.addEventListener("click",this._hide.bind(this,!0)),w.append(N),w}_formatContents({str:g,dir:w}){let N=document.createElement("p");N.className="popupContent",N.dir=w;let k=g.split(/(?:\r\n?|\n)/);for(let V=0,W=k.length;V<W;++V){let z=k[V];N.append(document.createTextNode(z)),V<W-1&&N.append(document.createElement("br"))}return N}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(g=!1){g&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(g=!0){g&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class F extends m{constructor(g){let w=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w,ignoreBorder:!0}),this.textContent=g.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){let g=document.createElement("div");g.className="annotationTextContent",g.setAttribute("role","comment");for(let w of this.textContent){let N=document.createElement("span");N.textContent=w,g.append(N)}this.container.append(g)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class B extends m{constructor(g){let w=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";let g=this.data,{width:w,height:N}=u(g.rect),k=this.svgFactory.create(w,N,!0),V=this.svgFactory.createElement("svg:line");return V.setAttribute("x1",g.rect[2]-g.lineCoordinates[0]),V.setAttribute("y1",g.rect[3]-g.lineCoordinates[1]),V.setAttribute("x2",g.rect[2]-g.lineCoordinates[2]),V.setAttribute("y2",g.rect[3]-g.lineCoordinates[3]),V.setAttribute("stroke-width",g.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),k.append(V),this.container.append(k),this._createPopup(V,g),this.container}}class _ extends m{constructor(g){let w=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";let g=this.data,{width:w,height:N}=u(g.rect),k=this.svgFactory.create(w,N,!0),V=g.borderStyle.width,W=this.svgFactory.createElement("svg:rect");return W.setAttribute("x",V/2),W.setAttribute("y",V/2),W.setAttribute("width",w-V),W.setAttribute("height",N-V),W.setAttribute("stroke-width",V||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),k.append(W),this.container.append(k),this._createPopup(W,g),this.container}}class O extends m{constructor(g){let w=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";let g=this.data,{width:w,height:N}=u(g.rect),k=this.svgFactory.create(w,N,!0),V=g.borderStyle.width,W=this.svgFactory.createElement("svg:ellipse");return W.setAttribute("cx",w/2),W.setAttribute("cy",N/2),W.setAttribute("rx",w/2-V/2),W.setAttribute("ry",N/2-V/2),W.setAttribute("stroke-width",V||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),k.append(W),this.container.append(k),this._createPopup(W,g),this.container}}class q extends m{constructor(g){let w=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let g=this.data,{width:w,height:N}=u(g.rect),k=this.svgFactory.create(w,N,!0),V=[];for(let z of g.vertices){let X=z.x-g.rect[0],K=g.rect[3]-z.y;V.push(X+","+K)}V=V.join(" ");let W=this.svgFactory.createElement(this.svgElementName);return W.setAttribute("points",V),W.setAttribute("stroke-width",g.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),k.append(W),this.container.append(k),this._createPopup(W,g),this.container}}class $ extends q{constructor(g){super(g),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class P extends m{constructor(g){let w=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class T extends m{constructor(g){let w=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let g=this.data,{width:w,height:N}=u(g.rect),k=this.svgFactory.create(w,N,!0);for(let V of g.inkLists){let W=[];for(let X of V){let K=X.x-g.rect[0],Y=g.rect[3]-X.y;W.push(`${K},${Y}`)}W=W.join(" ");let z=this.svgFactory.createElement(this.svgElementName);z.setAttribute("points",W),z.setAttribute("stroke-width",g.borderStyle.width||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),this._createPopup(z,g),k.append(z)}return this.container.append(k),this.container}}class R extends m{constructor(g){let w=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class U extends m{constructor(g){let w=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class H extends m{constructor(g){let w=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class x extends m{constructor(g){let w=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class S extends m{constructor(g){let w=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:w,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class A extends m{constructor(g){super(g,{isRenderable:!0});let{filename:w,content:N}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(w),this.content=N,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:w,content:N})}render(){this.container.className="fileAttachmentAnnotation";let g=document.createElement("div");return g.className="popupTriggerArea",g.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(g,this.data),this.container.append(g),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class L{static#e(g,w,N,k){let V=g.firstChild||g;V.id=`${i.AnnotationPrefix}${w}`,N.append(g),k?.moveElementInDOM(N,g,V,!1)}static render(g){let{annotations:w,div:N,viewport:k,accessibilityManager:V}=g;this.#t(N,k);let W=0;for(let z of w){if(z.annotationType!==n.AnnotationType.POPUP){let{width:K,height:Y}=u(z.rect);if(K<=0||Y<=0)continue}let X=h.create({data:z,layer:N,page:g.page,viewport:k,linkService:g.linkService,downloadManager:g.downloadManager,imageResourcesPath:g.imageResourcesPath||"",renderForms:g.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:g.annotationStorage||new s.AnnotationStorage,enableScripting:g.enableScripting,hasJSActions:g.hasJSActions,fieldObjects:g.fieldObjects,mouseState:g.mouseState||{isDown:!1}});if(X.isRenderable){let K=X.render();if(z.hidden&&(K.style.visibility="hidden"),Array.isArray(K))for(let Y of K)Y.style.zIndex=W++,L.#e(Y,z.id,N,V);else K.style.zIndex=W++,X instanceof b?N.prepend(K):L.#e(K,z.id,N,V)}}this.#n(N,g.annotationCanvasMap)}static update(g){let{annotationCanvasMap:w,div:N,viewport:k}=g;this.#t(N,k),this.#n(N,w),N.hidden=!1}static#t(g,{width:w,height:N,rotation:k}){let{style:V}=g,W=k%180!==0,z=Math.floor(w)+"px",X=Math.floor(N)+"px";V.width=W?X:z,V.height=W?z:X,g.setAttribute("data-main-rotation",k)}static#n(g,w){if(w){for(let[N,k]of w){let V=g.querySelector(`[data-annotation-id="${N}"]`);if(!V)continue;let{firstChild:W}=V;W?W.nodeName==="CANVAS"?W.replaceWith(k):W.before(k):V.append(k)}w.clear()}}}e.AnnotationLayer=L},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function r(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}class n{static CMYK_G([s,o,a,l]){return["G",1-Math.min(1,.3*s+.59*a+.11*o+l)]}static G_CMYK([s]){return["CMYK",0,0,0,1-s]}static G_RGB([s]){return["RGB",s,s,s]}static G_HTML([s]){let o=r(s);return`#${o}${o}${o}`}static RGB_G([s,o,a]){return["G",.3*s+.59*o+.11*a]}static RGB_HTML([s,o,a]){let l=r(s),c=r(o),d=r(a);return`#${l}${c}${d}`}static T_HTML(){return"#00000000"}static CMYK_RGB([s,o,a,l]){return["RGB",1-Math.min(1,s+l),1-Math.min(1,a+l),1-Math.min(1,o+l)]}static CMYK_HTML(s){let o=this.CMYK_RGB(s).slice(1);return this.RGB_HTML(o)}static RGB_CMYK([s,o,a]){let l=1-s,c=1-o,d=1-a,u=Math.min(l,c,d);return["CMYK",l,c,d,u]}}e.ColorConverters=n},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var n=r(20);class i{static setupStorage(o,a,l,c,d){let u=c.getValue(a,{value:null});switch(l.name){case"textarea":if(u.value!==null&&(o.textContent=u.value),d==="print")break;o.addEventListener("input",h=>{c.setValue(a,{value:h.target.value})});break;case"input":if(l.attributes.type==="radio"||l.attributes.type==="checkbox"){if(u.value===l.attributes.xfaOn?o.setAttribute("checked",!0):u.value===l.attributes.xfaOff&&o.removeAttribute("checked"),d==="print")break;o.addEventListener("change",h=>{c.setValue(a,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&o.setAttribute("value",u.value),d==="print")break;o.addEventListener("input",h=>{c.setValue(a,{value:h.target.value})})}break;case"select":if(u.value!==null)for(let h of l.children)h.attributes.value===u.value&&(h.attributes.selected=!0);o.addEventListener("input",h=>{let m=h.target.options,f=m.selectedIndex===-1?"":m[m.selectedIndex].value;c.setValue(a,{value:f})});break}}static setAttributes({html:o,element:a,storage:l=null,intent:c,linkService:d}){let{attributes:u}=a,h=o instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${c}`);for(let[m,f]of Object.entries(u))if(f!=null)switch(m){case"class":f.length&&o.setAttribute(m,f.join(" "));break;case"dataId":break;case"id":o.setAttribute("data-element-id",f);break;case"style":Object.assign(o.style,f);break;case"textContent":o.textContent=f;break;default:(!h||m!=="href"&&m!=="newWindow")&&o.setAttribute(m,f)}h&&d.addLinkAttributes(o,u.href,u.newWindow),l&&u.dataId&&this.setupStorage(o,u.dataId,a,l)}static render(o){let a=o.annotationStorage,l=o.linkService,c=o.xfaHtml,d=o.intent||"display",u=document.createElement(c.name);c.attributes&&this.setAttributes({html:u,element:c,intent:d,linkService:l});let h=[[c,-1,u]],m=o.div;if(m.append(u),o.viewport){let p=`matrix(${o.viewport.transform.join(",")})`;m.style.transform=p}d!=="richText"&&m.setAttribute("class","xfaLayer xfaFont");let f=[];for(;h.length>0;){let[p,v,C]=h.at(-1);if(v+1===p.children.length){h.pop();continue}let E=p.children[++h.at(-1)[1]];if(E===null)continue;let{name:M}=E;if(M==="#text"){let y=document.createTextNode(E.value);f.push(y),C.append(y);continue}let D;if(E?.attributes?.xmlns?D=document.createElementNS(E.attributes.xmlns,M):D=document.createElement(M),C.append(D),E.attributes&&this.setAttributes({html:D,element:E,storage:a,intent:d,linkService:l}),E.children&&E.children.length>0)h.push([E,-1,D]);else if(E.value){let y=document.createTextNode(E.value);n.XfaText.shouldBuildText(M)&&f.push(y),D.append(y)}}for(let p of m.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:f}}static update(o){let a=`matrix(${o.viewport.transform.join(",")})`;o.div.style.transform=a,o.div.hidden=!1}}e.XfaLayer=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=E;var n=r(1),i=r(8);let s=1e5,o=30,a=.8,l=new Map,c=/^\s+$/g;function d(M,D){let y=l.get(M);if(y)return y;D.save(),D.font=`${o}px ${M}`;let b=D.measureText(""),I=b.fontBoundingBoxAscent,F=Math.abs(b.fontBoundingBoxDescent);if(I){D.restore();let _=I/(I+F);return l.set(M,_),_}D.strokeStyle="red",D.clearRect(0,0,o,o),D.strokeText("g",0,0);let B=D.getImageData(0,0,o,o).data;F=0;for(let _=B.length-1-3;_>=0;_-=4)if(B[_]>0){F=Math.ceil(_/4/o);break}D.clearRect(0,0,o,o),D.strokeText("A",0,o),B=D.getImageData(0,0,o,o).data,I=0;for(let _=0,O=B.length;_<O;_+=4)if(B[_]>0){I=o-Math.floor(_/4/o);break}if(D.restore(),I){let _=I/(I+F);return l.set(M,_),_}return l.set(M,a),a}function u(M,D,y,b){let I=document.createElement("span"),F=M._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:D.str!=="",hasEOL:D.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:D.str!=="",hasEOL:D.hasEOL,fontSize:0};M._textDivs.push(I);let B=n.Util.transform(M._viewport.transform,D.transform),_=Math.atan2(B[1],B[0]),O=y[D.fontName];O.vertical&&(_+=Math.PI/2);let q=Math.hypot(B[2],B[3]),$=q*d(O.fontFamily,b),P,T;_===0?(P=B[4],T=B[5]-$):(P=B[4]+$*Math.sin(_),T=B[5]-$*Math.cos(_)),I.style.left=`${P}px`,I.style.top=`${T}px`,I.style.fontSize=`${q}px`,I.style.fontFamily=O.fontFamily,F.fontSize=q,I.setAttribute("role","presentation"),I.textContent=D.str,I.dir=D.dir,M._fontInspectorEnabled&&(I.dataset.fontName=D.fontName),_!==0&&(F.angle=_*(180/Math.PI));let R=!1;if(D.str.length>1||M._enhanceTextSelection&&c.test(D.str))R=!0;else if(D.str!==" "&&D.transform[0]!==D.transform[3]){let U=Math.abs(D.transform[0]),H=Math.abs(D.transform[3]);U!==H&&Math.max(U,H)/Math.min(U,H)>1.5&&(R=!0)}if(R&&(O.vertical?F.canvasWidth=D.height*M._viewport.scale:F.canvasWidth=D.width*M._viewport.scale),M._textDivProperties.set(I,F),M._textContentStream&&M._layoutText(I),M._enhanceTextSelection&&F.hasText){let U=1,H=0;_!==0&&(U=Math.cos(_),H=Math.sin(_));let x=(O.vertical?D.height:D.width)*M._viewport.scale,S=q,A,L;_!==0?(A=[U,H,-H,U,P,T],L=n.Util.getAxialAlignedBoundingBox([0,0,x,S],A)):L=[P,T,P+x,T+S],M._bounds.push({left:L[0],top:L[1],right:L[2],bottom:L[3],div:I,size:[x,S],m:A})}}function h(M){if(M._canceled)return;let D=M._textDivs,y=M._capability,b=D.length;if(b>s){M._renderingDone=!0,y.resolve();return}if(!M._textContentStream)for(let I=0;I<b;I++)M._layoutText(D[I]);M._renderingDone=!0,y.resolve()}function m(M,D,y){let b=0;for(let I=0;I<y;I++){let F=M[D++];F>0&&(b=b?Math.min(F,b):F)}return b}function f(M){let D=M._bounds,y=M._viewport,b=p(y.width,y.height,D);for(let I=0;I<b.length;I++){let F=D[I].div,B=M._textDivProperties.get(F);if(B.angle===0){B.paddingLeft=D[I].left-b[I].left,B.paddingTop=D[I].top-b[I].top,B.paddingRight=b[I].right-D[I].right,B.paddingBottom=b[I].bottom-D[I].bottom,M._textDivProperties.set(F,B);continue}let _=b[I],O=D[I],q=O.m,$=q[0],P=q[1],T=[[0,0],[0,O.size[1]],[O.size[0],0],O.size],R=new Float64Array(64);for(let H=0,x=T.length;H<x;H++){let S=n.Util.applyTransform(T[H],q);R[H+0]=$&&(_.left-S[0])/$,R[H+4]=P&&(_.top-S[1])/P,R[H+8]=$&&(_.right-S[0])/$,R[H+12]=P&&(_.bottom-S[1])/P,R[H+16]=P&&(_.left-S[0])/-P,R[H+20]=$&&(_.top-S[1])/$,R[H+24]=P&&(_.right-S[0])/-P,R[H+28]=$&&(_.bottom-S[1])/$,R[H+32]=$&&(_.left-S[0])/-$,R[H+36]=P&&(_.top-S[1])/-P,R[H+40]=$&&(_.right-S[0])/-$,R[H+44]=P&&(_.bottom-S[1])/-P,R[H+48]=P&&(_.left-S[0])/P,R[H+52]=$&&(_.top-S[1])/-$,R[H+56]=P&&(_.right-S[0])/P,R[H+60]=$&&(_.bottom-S[1])/-$}let U=1+Math.min(Math.abs($),Math.abs(P));B.paddingLeft=m(R,32,16)/U,B.paddingTop=m(R,48,16)/U,B.paddingRight=m(R,0,16)/U,B.paddingBottom=m(R,16,16)/U,M._textDivProperties.set(F,B)}}function p(M,D,y){let b=y.map(function(F,B){return{x1:F.left,y1:F.top,x2:F.right,y2:F.bottom,index:B,x1New:void 0,x2New:void 0}});v(M,b);let I=new Array(y.length);for(let F of b){let B=F.index;I[B]={left:F.x1New,top:0,right:F.x2New,bottom:0}}y.map(function(F,B){let _=I[B],O=b[B];O.x1=F.top,O.y1=M-_.right,O.x2=F.bottom,O.y2=M-_.left,O.index=B,O.x1New=void 0,O.x2New=void 0}),v(D,b);for(let F of b){let B=F.index;I[B].top=F.x1New,I[B].bottom=F.x2New}return I}function v(M,D){D.sort(function(I,F){return I.x1-F.x1||I.index-F.index});let b=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(let I of D){let F=0;for(;F<b.length&&b[F].end<=I.y1;)F++;let B=b.length-1;for(;B>=0&&b[B].start>=I.y2;)B--;let _,O,q,$,P=-1/0;for(q=F;q<=B;q++){_=b[q],O=_.boundary;let U;O.x2>I.x1?U=O.index>I.index?O.x1New:I.x1:O.x2New===void 0?U=(O.x2+I.x1)/2:U=O.x2New,U>P&&(P=U)}for(I.x1New=P,q=F;q<=B;q++)_=b[q],O=_.boundary,O.x2New===void 0?O.x2>I.x1?O.index>I.index&&(O.x2New=O.x2):O.x2New=P:O.x2New>P&&(O.x2New=Math.max(P,O.x2));let T=[],R=null;for(q=F;q<=B;q++){_=b[q],O=_.boundary;let U=O.x2>I.x2?O:I;R===U?T.at(-1).end=_.end:(T.push({start:_.start,end:_.end,boundary:U}),R=U)}for(b[F].start<I.y1&&(T[0].start=I.y1,T.unshift({start:b[F].start,end:I.y1,boundary:b[F].boundary})),I.y2<b[B].end&&(T.at(-1).end=I.y2,T.push({start:I.y2,end:b[B].end,boundary:b[B].boundary})),q=F;q<=B;q++){if(_=b[q],O=_.boundary,O.x2New!==void 0)continue;let U=!1;for($=F-1;!U&&$>=0&&b[$].start>=O.y1;$--)U=b[$].boundary===O;for($=B+1;!U&&$<b.length&&b[$].end<=O.y2;$++)U=b[$].boundary===O;for($=0;!U&&$<T.length;$++)U=T[$].boundary===O;U||(O.x2New=P)}Array.prototype.splice.apply(b,[F,B-F+1,...T])}for(let I of b){let F=I.boundary;F.x2New===void 0&&(F.x2New=Math.max(M,F.x2))}}class C{constructor({textContent:D,textContentStream:y,container:b,viewport:I,textDivs:F,textContentItemsStr:B,enhanceTextSelection:_}){_&&(0,i.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=D,this._textContentStream=y,this._container=b,this._document=b.ownerDocument,this._viewport=I,this._textDivs=F||[],this._textContentItemsStr=B||[],this._enhanceTextSelection=!!_,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(D,y){for(let b=0,I=D.length;b<I;b++){if(D[b].str===void 0){if(D[b].type==="beginMarkedContentProps"||D[b].type==="beginMarkedContent"){let F=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),D[b].id!==null&&this._container.setAttribute("id",`${D[b].id}`),F.append(this._container)}else D[b].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(D[b].str),u(this,D[b],y,this._layoutTextCtx)}}_layoutText(D){let y=this._textDivProperties.get(D),b="";if(y.canvasWidth!==0&&y.hasText){let{fontFamily:I}=D.style,{fontSize:F}=y;(F!==this._layoutTextLastFontSize||I!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${F*this._devicePixelRatio}px ${I}`,this._layoutTextLastFontSize=F,this._layoutTextLastFontFamily=I);let{width:B}=this._layoutTextCtx.measureText(D.textContent);if(B>0){let _=this._devicePixelRatio*y.canvasWidth/B;this._enhanceTextSelection&&(y.scale=_),b=`scaleX(${_})`}}if(y.angle!==0&&(b=`rotate(${y.angle}deg) ${b}`),b.length>0&&(this._enhanceTextSelection&&(y.originalTransform=b),D.style.transform=b),y.hasText&&this._container.append(D),y.hasEOL){let I=document.createElement("br");I.setAttribute("role","presentation"),this._container.append(I)}}_render(D=0){let y=(0,n.createPromiseCapability)(),b=Object.create(null),I=this._document.createElement("canvas");if(I.height=I.width=o,this._layoutTextCtx=I.getContext("2d",{alpha:!1}),this._textContent){let F=this._textContent.items,B=this._textContent.styles;this._processItems(F,B),y.resolve()}else if(this._textContentStream){let F=()=>{this._reader.read().then(({value:B,done:_})=>{if(_){y.resolve();return}Object.assign(b,B.styles),this._processItems(B.items,b),F()},y.reject)};this._reader=this._textContentStream.getReader(),F()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');y.promise.then(()=>{b=null,D?this._renderTimer=setTimeout(()=>{h(this),this._renderTimer=null},D):h(this)},this._capability.reject)}expandTextDivs(D=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(f(this),this._bounds=null);let y=[],b=[];for(let I=0,F=this._textDivs.length;I<F;I++){let B=this._textDivs[I],_=this._textDivProperties.get(B);_.hasText&&(D?(y.length=0,b.length=0,_.originalTransform&&y.push(_.originalTransform),_.paddingTop>0?(b.push(`${_.paddingTop}px`),y.push(`translateY(${-_.paddingTop}px)`)):b.push(0),_.paddingRight>0?b.push(`${_.paddingRight/_.scale}px`):b.push(0),_.paddingBottom>0?b.push(`${_.paddingBottom}px`):b.push(0),_.paddingLeft>0?(b.push(`${_.paddingLeft/_.scale}px`),y.push(`translateX(${-_.paddingLeft/_.scale}px)`)):b.push(0),B.style.padding=b.join(" "),y.length&&(B.style.transform=y.join(" "))):(B.style.padding=null,B.style.transform=_.originalTransform))}}}e.TextLayerRenderTask=C;function E(M){let D=new C({textContent:M.textContent,textContentStream:M.textContentStream,container:M.container,viewport:M.viewport,textDivs:M.textDivs,textContentItemsStr:M.textContentItemsStr,enhanceTextSelection:M.enhanceTextSelection});return D._render(M.timeout),D}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var n=r(8),i=r(1),s=r(3);let o=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=o;{let p=function(y){let b=[],I=[];for(let F of y){if(F.fn==="save"){b.push({fnId:92,fn:"group",items:[]}),I.push(b),b=b.at(-1).items;continue}F.fn==="restore"?b=I.pop():b.push(F)}return b},v=function(y){if(Number.isInteger(y))return y.toString();let b=y.toFixed(10),I=b.length-1;if(b[I]!=="0")return b;do I--;while(b[I]==="0");return b.substring(0,b[I]==="."?I:I+1)},C=function(y){if(y[4]===0&&y[5]===0){if(y[1]===0&&y[2]===0)return y[0]===1&&y[3]===1?"":`scale(${v(y[0])} ${v(y[3])})`;if(y[0]===y[3]&&y[1]===-y[2]){let b=Math.acos(y[0])*180/Math.PI;return`rotate(${v(b)})`}}else if(y[0]===1&&y[1]===0&&y[2]===0&&y[3]===1)return`translate(${v(y[4])} ${v(y[5])})`;return`matrix(${v(y[0])} ${v(y[1])} ${v(y[2])} ${v(y[3])} ${v(y[4])} ${v(y[5])})`},a={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},l="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",d=["butt","round","square"],u=["miter","round","bevel"],h=function(y,b="",I=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!I)return URL.createObjectURL(new Blob([y],{type:b}));let F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",B=`data:${b};base64,`;for(let _=0,O=y.length;_<O;_+=3){let q=y[_]&255,$=y[_+1]&255,P=y[_+2]&255,T=q>>2,R=(q&3)<<4|$>>4,U=_+1<O?($&15)<<2|P>>6:64,H=_+2<O?P&63:64;B+=F[T]+F[R]+F[U]+F[H]}return B},m=function(){let y=new Uint8Array([137,80,78,71,13,10,26,10]),b=12,I=new Int32Array(256);for(let P=0;P<256;P++){let T=P;for(let R=0;R<8;R++)T&1?T=3988292384^T>>1&2147483647:T=T>>1&2147483647;I[P]=T}function F(P,T,R){let U=-1;for(let H=T;H<R;H++){let x=(U^P[H])&255,S=I[x];U=U>>>8^S}return U^-1}function B(P,T,R,U){let H=U,x=T.length;R[H]=x>>24&255,R[H+1]=x>>16&255,R[H+2]=x>>8&255,R[H+3]=x&255,H+=4,R[H]=P.charCodeAt(0)&255,R[H+1]=P.charCodeAt(1)&255,R[H+2]=P.charCodeAt(2)&255,R[H+3]=P.charCodeAt(3)&255,H+=4,R.set(T,H),H+=T.length;let S=F(R,U+4,H);R[H]=S>>24&255,R[H+1]=S>>16&255,R[H+2]=S>>8&255,R[H+3]=S&255}function _(P,T,R){let U=1,H=0;for(let x=T;x<R;++x)U=(U+(P[x]&255))%65521,H=(H+U)%65521;return H<<16|U}function O(P){if(!s.isNodeJS)return q(P);try{let T;parseInt(process.versions.node)>=8?T=P:T=Buffer.from(P);let R=Lv().deflateSync(T,{level:9});return R instanceof Uint8Array?R:new Uint8Array(R)}catch(T){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+T)}return q(P)}function q(P){let T=P.length,R=65535,U=Math.ceil(T/R),H=new Uint8Array(2+T+U*5+4),x=0;H[x++]=120,H[x++]=156;let S=0;for(;T>R;)H[x++]=0,H[x++]=255,H[x++]=255,H[x++]=0,H[x++]=0,H.set(P.subarray(S,S+R),x),x+=R,S+=R,T-=R;H[x++]=1,H[x++]=T&255,H[x++]=T>>8&255,H[x++]=~T&65535&255,H[x++]=(~T&65535)>>8&255,H.set(P.subarray(S),x),x+=P.length-S;let A=_(P,0,P.length);return H[x++]=A>>24&255,H[x++]=A>>16&255,H[x++]=A>>8&255,H[x++]=A&255,H}function $(P,T,R,U){let H=P.width,x=P.height,S,A,L,j=P.data;switch(T){case i.ImageKind.GRAYSCALE_1BPP:A=0,S=1,L=H+7>>3;break;case i.ImageKind.RGB_24BPP:A=2,S=8,L=H*3;break;case i.ImageKind.RGBA_32BPP:A=6,S=8,L=H*4;break;default:throw new Error("invalid format")}let g=new Uint8Array((1+L)*x),w=0,N=0;for(let K=0;K<x;++K)g[w++]=0,g.set(j.subarray(N,N+L),w),N+=L,w+=L;if(T===i.ImageKind.GRAYSCALE_1BPP&&U){w=0;for(let K=0;K<x;K++){w++;for(let Y=0;Y<L;Y++)g[w++]^=255}}let k=new Uint8Array([H>>24&255,H>>16&255,H>>8&255,H&255,x>>24&255,x>>16&255,x>>8&255,x&255,S,A,0,0,0]),V=O(g),W=y.length+b*3+k.length+V.length,z=new Uint8Array(W),X=0;return z.set(y,X),X+=y.length,B("IHDR",k,z,X),X+=b+k.length,B("IDATA",V,z,X),X+=b+V.length,B("IEND",new Uint8Array(0),z,X),h(z,"image/png",R)}return function(T,R,U){let H=T.kind===void 0?i.ImageKind.GRAYSCALE_1BPP:T.kind;return $(T,H,R,U)}}();class f{constructor(){this.fontSizeScale=1,this.fontWeight=a.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=a.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(b,I){this.x=b,this.y=I}}let E=0,M=0,D=0;e.SVGGraphics=o=class{constructor(y,b,I=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new f,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=y,this.objs=b,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!I,this._operatorIdMapping=[];for(let F in i.OPS)this._operatorIdMapping[i.OPS[F]]=F}save(){this.transformStack.push(this.transformMatrix);let y=this.current;this.extraStack.push(y),this.current=y.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(y){this.save(),this.executeOpTree(y),this.restore()}loadDependencies(y){let b=y.fnArray,I=y.argsArray;for(let F=0,B=b.length;F<B;F++)if(b[F]===i.OPS.dependency)for(let _ of I[F]){let O=_.startsWith("g_")?this.commonObjs:this.objs,q=new Promise($=>{O.get(_,$)});this.current.dependencies.push(q)}return Promise.all(this.current.dependencies)}transform(y,b,I,F,B,_){let O=[y,b,I,F,B,_];this.transformMatrix=i.Util.transform(this.transformMatrix,O),this.tgrp=null}getSVG(y,b){this.viewport=b;let I=this._initialize(b);return this.loadDependencies(y).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(y)),I))}convertOpList(y){let b=this._operatorIdMapping,I=y.argsArray,F=y.fnArray,B=[];for(let _=0,O=F.length;_<O;_++){let q=F[_];B.push({fnId:q,fn:b[q],args:I[_]})}return p(B)}executeOpTree(y){for(let b of y){let I=b.fn,F=b.fnId,B=b.args;switch(F|0){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(B);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(B[0],B[1]);break;case i.OPS.setFont:this.setFont(B);break;case i.OPS.showText:this.showText(B[0]);break;case i.OPS.showSpacedText:this.showText(B[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(B[0],B[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(B[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(B[0]);break;case i.OPS.setHScale:this.setHScale(B[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(B[0],B[1],B[2],B[3],B[4],B[5]);break;case i.OPS.setTextRise:this.setTextRise(B[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(B[0]);break;case i.OPS.setLineWidth:this.setLineWidth(B[0]);break;case i.OPS.setLineJoin:this.setLineJoin(B[0]);break;case i.OPS.setLineCap:this.setLineCap(B[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(B[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(B[0],B[1],B[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(B[0],B[1],B[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(B);break;case i.OPS.setFillColorN:this.setFillColorN(B);break;case i.OPS.shadingFill:this.shadingFill(B[0]);break;case i.OPS.setDash:this.setDash(B[0],B[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(B[0]);break;case i.OPS.setFlatness:this.setFlatness(B[0]);break;case i.OPS.setGState:this.setGState(B[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(B[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(B[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(B[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(B[0],B[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(B[0],B[1],B[2],B[3],B[4],B[5]);break;case i.OPS.constructPath:this.constructPath(B[0],B[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(b.items);break;default:(0,i.warn)(`Unimplemented operator ${I}`);break}}}setWordSpacing(y){this.current.wordSpacing=y}setCharSpacing(y){this.current.charSpacing=y}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(y,b,I,F,B,_){let O=this.current;O.textMatrix=O.lineMatrix=[y,b,I,F,B,_],O.textMatrixScale=Math.hypot(y,b),O.x=O.lineX=0,O.y=O.lineY=0,O.xcoords=[],O.ycoords=[],O.tspan=this.svgFactory.createElement("svg:tspan"),O.tspan.setAttributeNS(null,"font-family",O.fontFamily),O.tspan.setAttributeNS(null,"font-size",`${v(O.fontSize)}px`),O.tspan.setAttributeNS(null,"y",v(-O.y)),O.txtElement=this.svgFactory.createElement("svg:text"),O.txtElement.append(O.tspan)}beginText(){let y=this.current;y.x=y.lineX=0,y.y=y.lineY=0,y.textMatrix=i.IDENTITY_MATRIX,y.lineMatrix=i.IDENTITY_MATRIX,y.textMatrixScale=1,y.tspan=this.svgFactory.createElement("svg:tspan"),y.txtElement=this.svgFactory.createElement("svg:text"),y.txtgrp=this.svgFactory.createElement("svg:g"),y.xcoords=[],y.ycoords=[]}moveText(y,b){let I=this.current;I.x=I.lineX+=y,I.y=I.lineY+=b,I.xcoords=[],I.ycoords=[],I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${v(I.fontSize)}px`),I.tspan.setAttributeNS(null,"y",v(-I.y))}showText(y){let b=this.current,I=b.font,F=b.fontSize;if(F===0)return;let B=b.fontSizeScale,_=b.charSpacing,O=b.wordSpacing,q=b.fontDirection,$=b.textHScale*q,P=I.vertical,T=P?1:-1,R=I.defaultVMetrics,U=F*b.fontMatrix[0],H=0;for(let A of y){if(A===null){H+=q*O;continue}else if(typeof A=="number"){H+=T*A*F/1e3;continue}let L=(A.isSpace?O:0)+_,j=A.fontChar,g,w,N=A.width;if(P){let V,W=A.vmetric||R;V=A.vmetric?W[1]:N*.5,V=-V*U;let z=W[2]*U;N=W?-W[0]:N,g=V/B,w=(H+z)/B}else g=H/B,w=0;(A.isInFont||I.missingFile)&&(b.xcoords.push(b.x+g),P&&b.ycoords.push(-b.y+w),b.tspan.textContent+=j);let k;P?k=N*U-L*q:k=N*U+L*q,H+=k}b.tspan.setAttributeNS(null,"x",b.xcoords.map(v).join(" ")),P?b.tspan.setAttributeNS(null,"y",b.ycoords.map(v).join(" ")):b.tspan.setAttributeNS(null,"y",v(-b.y)),P?b.y-=H:b.x+=H*$,b.tspan.setAttributeNS(null,"font-family",b.fontFamily),b.tspan.setAttributeNS(null,"font-size",`${v(b.fontSize)}px`),b.fontStyle!==a.fontStyle&&b.tspan.setAttributeNS(null,"font-style",b.fontStyle),b.fontWeight!==a.fontWeight&&b.tspan.setAttributeNS(null,"font-weight",b.fontWeight);let x=b.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(x===i.TextRenderingMode.FILL||x===i.TextRenderingMode.FILL_STROKE?(b.fillColor!==a.fillColor&&b.tspan.setAttributeNS(null,"fill",b.fillColor),b.fillAlpha<1&&b.tspan.setAttributeNS(null,"fill-opacity",b.fillAlpha)):b.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?b.tspan.setAttributeNS(null,"fill","transparent"):b.tspan.setAttributeNS(null,"fill","none"),x===i.TextRenderingMode.STROKE||x===i.TextRenderingMode.FILL_STROKE){let A=1/(b.textMatrixScale||1);this._setStrokeAttributes(b.tspan,A)}let S=b.textMatrix;b.textRise!==0&&(S=S.slice(),S[5]+=b.textRise),b.txtElement.setAttributeNS(null,"transform",`${C(S)} scale(${v($)}, -1)`),b.txtElement.setAttributeNS(l,"xml:space","preserve"),b.txtElement.append(b.tspan),b.txtgrp.append(b.txtElement),this._ensureTransformGroup().append(b.txtElement)}setLeadingMoveText(y,b){this.setLeading(-b),this.moveText(y,b)}addFontStyle(y){if(!y.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let b=h(y.data,y.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${y.loadedName}"; src: url(${b}); }
`}setFont(y){let b=this.current,I=this.commonObjs.get(y[0]),F=y[1];b.font=I,this.embedFonts&&!I.missingFile&&!this.embeddedFonts[I.loadedName]&&(this.addFontStyle(I),this.embeddedFonts[I.loadedName]=I),b.fontMatrix=I.fontMatrix||i.FONT_IDENTITY_MATRIX;let B="normal";I.black?B="900":I.bold&&(B="bold");let _=I.italic?"italic":"normal";F<0?(F=-F,b.fontDirection=-1):b.fontDirection=1,b.fontSize=F,b.fontFamily=I.loadedName,b.fontWeight=B,b.fontStyle=_,b.tspan=this.svgFactory.createElement("svg:tspan"),b.tspan.setAttributeNS(null,"y",v(-b.y)),b.xcoords=[],b.ycoords=[]}endText(){let y=this.current;y.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&y.txtElement?.hasChildNodes()&&(y.element=y.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(y){y>0&&(this.current.lineWidth=y)}setLineCap(y){this.current.lineCap=d[y]}setLineJoin(y){this.current.lineJoin=u[y]}setMiterLimit(y){this.current.miterLimit=y}setStrokeAlpha(y){this.current.strokeAlpha=y}setStrokeRGBColor(y,b,I){this.current.strokeColor=i.Util.makeHexColor(y,b,I)}setFillAlpha(y){this.current.fillAlpha=y}setFillRGBColor(y,b,I){this.current.fillColor=i.Util.makeHexColor(y,b,I),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(y){this.current.strokeColor=this._makeColorN_Pattern(y)}setFillColorN(y){this.current.fillColor=this._makeColorN_Pattern(y)}shadingFill(y){let b=this.viewport.width,I=this.viewport.height,F=i.Util.inverseTransform(this.transformMatrix),B=i.Util.applyTransform([0,0],F),_=i.Util.applyTransform([0,I],F),O=i.Util.applyTransform([b,0],F),q=i.Util.applyTransform([b,I],F),$=Math.min(B[0],_[0],O[0],q[0]),P=Math.min(B[1],_[1],O[1],q[1]),T=Math.max(B[0],_[0],O[0],q[0]),R=Math.max(B[1],_[1],O[1],q[1]),U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x",$),U.setAttributeNS(null,"y",P),U.setAttributeNS(null,"width",T-$),U.setAttributeNS(null,"height",R-P),U.setAttributeNS(null,"fill",this._makeShadingPattern(y)),this.current.fillAlpha<1&&U.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(U)}_makeColorN_Pattern(y){return y[0]==="TilingPattern"?this._makeTilingPattern(y):this._makeShadingPattern(y)}_makeTilingPattern(y){let b=y[1],I=y[2],F=y[3]||i.IDENTITY_MATRIX,[B,_,O,q]=y[4],$=y[5],P=y[6],T=y[7],R=`shading${D++}`,[U,H,x,S]=i.Util.normalizeRect([...i.Util.applyTransform([B,_],F),...i.Util.applyTransform([O,q],F)]),[A,L]=i.Util.singularValueDecompose2dScale(F),j=$*A,g=P*L,w=this.svgFactory.createElement("svg:pattern");w.setAttributeNS(null,"id",R),w.setAttributeNS(null,"patternUnits","userSpaceOnUse"),w.setAttributeNS(null,"width",j),w.setAttributeNS(null,"height",g),w.setAttributeNS(null,"x",`${U}`),w.setAttributeNS(null,"y",`${H}`);let N=this.svg,k=this.transformMatrix,V=this.current.fillColor,W=this.current.strokeColor,z=this.svgFactory.create(x-U,S-H);if(this.svg=z,this.transformMatrix=F,T===2){let X=i.Util.makeHexColor(...b);this.current.fillColor=X,this.current.strokeColor=X}return this.executeOpTree(this.convertOpList(I)),this.svg=N,this.transformMatrix=k,this.current.fillColor=V,this.current.strokeColor=W,w.append(z.childNodes[0]),this.defs.append(w),`url(#${R})`}_makeShadingPattern(y){switch(typeof y=="string"&&(y=this.objs.get(y)),y[0]){case"RadialAxial":let b=`shading${D++}`,I=y[3],F;switch(y[1]){case"axial":let B=y[4],_=y[5];F=this.svgFactory.createElement("svg:linearGradient"),F.setAttributeNS(null,"id",b),F.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),F.setAttributeNS(null,"x1",B[0]),F.setAttributeNS(null,"y1",B[1]),F.setAttributeNS(null,"x2",_[0]),F.setAttributeNS(null,"y2",_[1]);break;case"radial":let O=y[4],q=y[5],$=y[6],P=y[7];F=this.svgFactory.createElement("svg:radialGradient"),F.setAttributeNS(null,"id",b),F.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),F.setAttributeNS(null,"cx",q[0]),F.setAttributeNS(null,"cy",q[1]),F.setAttributeNS(null,"r",P),F.setAttributeNS(null,"fx",O[0]),F.setAttributeNS(null,"fy",O[1]),F.setAttributeNS(null,"fr",$);break;default:throw new Error(`Unknown RadialAxial type: ${y[1]}`)}for(let B of I){let _=this.svgFactory.createElement("svg:stop");_.setAttributeNS(null,"offset",B[0]),_.setAttributeNS(null,"stop-color",B[1]),F.append(_)}return this.defs.append(F),`url(#${b})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${y[0]}`)}}setDash(y,b){this.current.dashArray=y,this.current.dashPhase=b}constructPath(y,b){let I=this.current,F=I.x,B=I.y,_=[],O=0;for(let q of y)switch(q|0){case i.OPS.rectangle:F=b[O++],B=b[O++];let $=b[O++],P=b[O++],T=F+$,R=B+P;_.push("M",v(F),v(B),"L",v(T),v(B),"L",v(T),v(R),"L",v(F),v(R),"Z");break;case i.OPS.moveTo:F=b[O++],B=b[O++],_.push("M",v(F),v(B));break;case i.OPS.lineTo:F=b[O++],B=b[O++],_.push("L",v(F),v(B));break;case i.OPS.curveTo:F=b[O+4],B=b[O+5],_.push("C",v(b[O]),v(b[O+1]),v(b[O+2]),v(b[O+3]),v(F),v(B)),O+=6;break;case i.OPS.curveTo2:_.push("C",v(F),v(B),v(b[O]),v(b[O+1]),v(b[O+2]),v(b[O+3])),F=b[O+2],B=b[O+3],O+=4;break;case i.OPS.curveTo3:F=b[O+2],B=b[O+3],_.push("C",v(b[O]),v(b[O+1]),v(F),v(B),v(F),v(B)),O+=4;break;case i.OPS.closePath:_.push("Z");break}_=_.join(" "),I.path&&y.length>0&&y[0]!==i.OPS.rectangle&&y[0]!==i.OPS.moveTo?_=I.path.getAttributeNS(null,"d")+_:(I.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(I.path)),I.path.setAttributeNS(null,"d",_),I.path.setAttributeNS(null,"fill","none"),I.element=I.path,I.setCurrentPoint(F,B)}endPath(){let y=this.current;if(y.path=null,!this.pendingClip)return;if(!y.element){this.pendingClip=null;return}let b=`clippath${E++}`,I=this.svgFactory.createElement("svg:clipPath");I.setAttributeNS(null,"id",b),I.setAttributeNS(null,"transform",C(this.transformMatrix));let F=y.element.cloneNode(!0);if(this.pendingClip==="evenodd"?F.setAttributeNS(null,"clip-rule","evenodd"):F.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,I.append(F),this.defs.append(I),y.activeClipUrl){y.clipGroup=null;for(let B of this.extraStack)B.clipGroup=null;I.setAttributeNS(null,"clip-path",y.activeClipUrl)}y.activeClipUrl=`url(#${b})`,this.tgrp=null}clip(y){this.pendingClip=y}closePath(){let y=this.current;if(y.path){let b=`${y.path.getAttributeNS(null,"d")}Z`;y.path.setAttributeNS(null,"d",b)}}setLeading(y){this.current.leading=-y}setTextRise(y){this.current.textRise=y}setTextRenderingMode(y){this.current.textRenderingMode=y}setHScale(y){this.current.textHScale=y/100}setRenderingIntent(y){}setFlatness(y){}setGState(y){for(let[b,I]of y)switch(b){case"LW":this.setLineWidth(I);break;case"LC":this.setLineCap(I);break;case"LJ":this.setLineJoin(I);break;case"ML":this.setMiterLimit(I);break;case"D":this.setDash(I[0],I[1]);break;case"RI":this.setRenderingIntent(I);break;case"FL":this.setFlatness(I);break;case"Font":this.setFont(I);break;case"CA":this.setStrokeAlpha(I);break;case"ca":this.setFillAlpha(I);break;default:(0,i.warn)(`Unimplemented graphic state operator ${b}`);break}}fill(){let y=this.current;y.element&&(y.element.setAttributeNS(null,"fill",y.fillColor),y.element.setAttributeNS(null,"fill-opacity",y.fillAlpha),this.endPath())}stroke(){let y=this.current;y.element&&(this._setStrokeAttributes(y.element),y.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(y,b=1){let I=this.current,F=I.dashArray;b!==1&&F.length>0&&(F=F.map(function(B){return b*B})),y.setAttributeNS(null,"stroke",I.strokeColor),y.setAttributeNS(null,"stroke-opacity",I.strokeAlpha),y.setAttributeNS(null,"stroke-miterlimit",v(I.miterLimit)),y.setAttributeNS(null,"stroke-linecap",I.lineCap),y.setAttributeNS(null,"stroke-linejoin",I.lineJoin),y.setAttributeNS(null,"stroke-width",v(b*I.lineWidth)+"px"),y.setAttributeNS(null,"stroke-dasharray",F.map(v).join(" ")),y.setAttributeNS(null,"stroke-dashoffset",v(b*I.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x","0"),y.setAttributeNS(null,"y","0"),y.setAttributeNS(null,"width","1px"),y.setAttributeNS(null,"height","1px"),y.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(y)}paintImageXObject(y){let b=y.startsWith("g_")?this.commonObjs.get(y):this.objs.get(y);if(!b){(0,i.warn)(`Dependent image with object ID ${y} is not ready yet`);return}this.paintInlineImageXObject(b)}paintInlineImageXObject(y,b){let I=y.width,F=y.height,B=m(y,this.forceDataSchema,!!b),_=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width",v(I)),_.setAttributeNS(null,"height",v(F)),this.current.element=_,this.clip("nonzero");let O=this.svgFactory.createElement("svg:image");O.setAttributeNS(c,"xlink:href",B),O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y",v(-F)),O.setAttributeNS(null,"width",v(I)+"px"),O.setAttributeNS(null,"height",v(F)+"px"),O.setAttributeNS(null,"transform",`scale(${v(1/I)} ${v(-1/F)})`),b?b.append(O):this._ensureTransformGroup().append(O)}paintImageMaskXObject(y){let b=this.current,I=y.width,F=y.height,B=b.fillColor;b.maskId=`mask${M++}`;let _=this.svgFactory.createElement("svg:mask");_.setAttributeNS(null,"id",b.maskId);let O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y","0"),O.setAttributeNS(null,"width",v(I)),O.setAttributeNS(null,"height",v(F)),O.setAttributeNS(null,"fill",B),O.setAttributeNS(null,"mask",`url(#${b.maskId})`),this.defs.append(_),this._ensureTransformGroup().append(O),this.paintInlineImageXObject(y,_)}paintFormXObjectBegin(y,b){if(Array.isArray(y)&&y.length===6&&this.transform(y[0],y[1],y[2],y[3],y[4],y[5]),b){let I=b[2]-b[0],F=b[3]-b[1],B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x",b[0]),B.setAttributeNS(null,"y",b[1]),B.setAttributeNS(null,"width",v(I)),B.setAttributeNS(null,"height",v(F)),this.current.element=B,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(y){let b=this.svgFactory.create(y.width,y.height),I=this.svgFactory.createElement("svg:defs");b.append(I),this.defs=I;let F=this.svgFactory.createElement("svg:g");return F.setAttributeNS(null,"transform",C(y.transform)),b.append(F),this.svg=F,b}_ensureClipGroup(){if(!this.current.clipGroup){let y=this.svgFactory.createElement("svg:g");y.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(y),this.current.clipGroup=y}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",C(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var n=r(1),i=r(33);let s=bd(),o=Fv(),a=kv(),l=jv(),c=/^file:\/\/\/[a-zA-Z]:\//;function d(M){let D=l.parse(M);return D.protocol==="file:"||D.host?D:/^[a-z]:[/\\]/i.test(M)?l.parse(`file:///${M}`):(D.host||(D.protocol="file:"),D)}class u{constructor(D){this.source=D,this.url=d(D.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&D.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new C(this):new p(this),this._fullRequestReader}getRangeReader(D,y){if(y<=this._progressiveDataLength)return null;let b=this.isFsUrl?new E(this,D,y):new v(this,D,y);return this._rangeRequestReaders.push(b),b}cancelAllRequests(D){this._fullRequestReader&&this._fullRequestReader.cancel(D);for(let y of this._rangeRequestReaders.slice(0))y.cancel(D)}}e.PDFNodeStream=u;class h{constructor(D){this._url=D.url,this._done=!1,this._storedError=null,this.onProgress=null;let y=D.source;this._contentLength=y.length,this._loaded=0,this._filename=null,this._disableRange=y.disableRange||!1,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._headersCapability=(0,n.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return le(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let D=this._readableStream.read();return D===null?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=D.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(D).buffer,done:!1})})}cancel(D){if(!this._readableStream){this._error(D);return}this._readableStream.destroy(D)}_error(D){this._storedError=D,this._readCapability.resolve()}_setReadableStream(D){this._readableStream=D,D.on("readable",()=>{this._readCapability.resolve()}),D.on("end",()=>{D.destroy(),this._done=!0,this._readCapability.resolve()}),D.on("error",y=>{this._error(y)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class m{constructor(D){this._url=D.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)();let y=D.source;this._isStreamingSupported=!y.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return le(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let D=this._readableStream.read();return D===null?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=D.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(D).buffer,done:!1})})}cancel(D){if(!this._readableStream){this._error(D);return}this._readableStream.destroy(D)}_error(D){this._storedError=D,this._readCapability.resolve()}_setReadableStream(D){this._readableStream=D,D.on("readable",()=>{this._readCapability.resolve()}),D.on("end",()=>{D.destroy(),this._done=!0,this._readCapability.resolve()}),D.on("error",y=>{this._error(y)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function f(M,D){return{protocol:M.protocol,auth:M.auth,host:M.hostname,port:M.port,path:M.path,method:"GET",headers:D}}class p extends h{constructor(D){super(D);let y=b=>{if(b.statusCode===404){let _=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_,this._headersCapability.reject(_);return}this._headersCapability.resolve(),this._setReadableStream(b);let I=_=>this._readableStream.headers[_.toLowerCase()],{allowRangeRequests:F,suggestedLength:B}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:I,isHttp:D.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=F,this._contentLength=B||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(I)};this._request=null,this._url.protocol==="http:"?this._request=o.request(f(this._url,D.httpHeaders),y):this._request=a.request(f(this._url,D.httpHeaders),y),this._request.on("error",b=>{this._storedError=b,this._headersCapability.reject(b)}),this._request.end()}}class v extends m{constructor(D,y,b){super(D),this._httpHeaders={};for(let F in D.httpHeaders){let B=D.httpHeaders[F];typeof B>"u"||(this._httpHeaders[F]=B)}this._httpHeaders.Range=`bytes=${y}-${b-1}`;let I=F=>{if(F.statusCode===404){let B=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=B;return}this._setReadableStream(F)};this._request=null,this._url.protocol==="http:"?this._request=o.request(f(this._url,this._httpHeaders),I):this._request=a.request(f(this._url,this._httpHeaders),I),this._request.on("error",F=>{this._storedError=F}),this._request.end()}}class C extends h{constructor(D){super(D);let y=decodeURIComponent(this._url.path);c.test(this._url.href)&&(y=y.replace(/^\//,"")),s.lstat(y,(b,I)=>{if(b){b.code==="ENOENT"&&(b=new n.MissingPDFException(`Missing PDF "${y}".`)),this._storedError=b,this._headersCapability.reject(b);return}this._contentLength=I.size,this._setReadableStream(s.createReadStream(y)),this._headersCapability.resolve()})}}class E extends m{constructor(D,y,b){super(D);let I=decodeURIComponent(this._url.path);c.test(this._url.href)&&(I=I.replace(/^\//,"")),this._setReadableStream(s.createReadStream(I,{start:y,end:b-1}))}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=l,e.extractFilenameFromHeader=a,e.validateRangeRequestCapabilities=o,e.validateResponseStatus=c;var n=r(1),i=r(34),s=r(8);function o({getResponseHeader:d,isHttp:u,rangeChunkSize:h,disableRange:m}){let f={allowRangeRequests:!1,suggestedLength:void 0},p=parseInt(d("Content-Length"),10);return!Number.isInteger(p)||(f.suggestedLength=p,p<=2*h)||m||!u||d("Accept-Ranges")!=="bytes"||(d("Content-Encoding")||"identity")!=="identity"||(f.allowRangeRequests=!0),f}function a(d){let u=d("Content-Disposition");if(u){let h=(0,i.getFilenameFromContentDispositionHeader)(u);if(h.includes("%"))try{h=decodeURIComponent(h)}catch{}if((0,s.isPdfFile)(h))return h}return null}function l(d,u){return d===404||d===0&&u.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+u+'".'):new n.UnexpectedResponseException(`Unexpected server response (${d}) while retrieving PDF "${u}".`,d)}function c(d){return d===200||d===206}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=i;var n=r(1);function i(s){let o=!0,a=l("filename\\*","i").exec(s);if(a){a=a[1];let p=h(a);return p=unescape(p),p=m(p),p=f(p),d(p)}if(a=u(s),a){let p=f(a);return d(p)}if(a=l("filename","i").exec(s),a){a=a[1];let p=h(a);return p=f(p),d(p)}function l(p,v){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function c(p,v){if(p){if(!/^[\x00-\xFF]+$/.test(v))return v;try{let C=new TextDecoder(p,{fatal:!0}),E=(0,n.stringToBytes)(v);v=C.decode(E),o=!1}catch{}}return v}function d(p){return o&&/[\x80-\xff]/.test(p)&&(p=c("utf-8",p),o&&(p=c("iso-8859-1",p))),p}function u(p){let v=[],C,E=l("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(C=E.exec(p))!==null;){let[,D,y,b]=C;if(D=parseInt(D,10),D in v){if(D===0)break;continue}v[D]=[y,b]}let M=[];for(let D=0;D<v.length&&D in v;++D){let[y,b]=v[D];b=h(b),y&&(b=unescape(b),D===0&&(b=m(b))),M.push(b)}return M.join("")}function h(p){if(p.startsWith('"')){let v=p.slice(1).split('\\"');for(let C=0;C<v.length;++C){let E=v[C].indexOf('"');E!==-1&&(v[C]=v[C].slice(0,E),v.length=C+1),v[C]=v[C].replace(/\\(.)/g,"$1")}p=v.join('"')}return p}function m(p){let v=p.indexOf("'");if(v===-1)return p;let C=p.slice(0,v),M=p.slice(v+1).replace(/^[^']*'/,"");return c(C,M)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,C,E,M){if(E==="q"||E==="Q")return M=M.replace(/_/g," "),M=M.replace(/=([0-9a-fA-F]{2})/g,function(D,y){return String.fromCharCode(parseInt(y,16))}),c(C,M);try{M=atob(M)}catch{}return c(C,M)})}return""}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var n=r(1),i=r(33);let s=200,o=206;function a(h){let m=h.response;return typeof m!="string"?m:(0,n.stringToBytes)(m).buffer}class l{constructor(m,f={}){this.url=m,this.isHttp=/^https?:/i.test(m),this.httpHeaders=this.isHttp&&f.httpHeaders||Object.create(null),this.withCredentials=f.withCredentials||!1,this.getXhr=f.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(m,f,p){let v={begin:m,end:f};for(let C in p)v[C]=p[C];return this.request(v)}requestFull(m){return this.request(m)}request(m){let f=this.getXhr(),p=this.currXhrId++,v=this.pendingRequests[p]={xhr:f};f.open("GET",this.url),f.withCredentials=this.withCredentials;for(let C in this.httpHeaders){let E=this.httpHeaders[C];typeof E>"u"||f.setRequestHeader(C,E)}return this.isHttp&&"begin"in m&&"end"in m?(f.setRequestHeader("Range",`bytes=${m.begin}-${m.end-1}`),v.expectedStatus=o):v.expectedStatus=s,f.responseType="arraybuffer",m.onError&&(f.onerror=function(C){m.onError(f.status)}),f.onreadystatechange=this.onStateChange.bind(this,p),f.onprogress=this.onProgress.bind(this,p),v.onHeadersReceived=m.onHeadersReceived,v.onDone=m.onDone,v.onError=m.onError,v.onProgress=m.onProgress,f.send(null),p}onProgress(m,f){let p=this.pendingRequests[m];p&&p.onProgress?.(f)}onStateChange(m,f){let p=this.pendingRequests[m];if(!p)return;let v=p.xhr;if(v.readyState>=2&&p.onHeadersReceived&&(p.onHeadersReceived(),delete p.onHeadersReceived),v.readyState!==4||!(m in this.pendingRequests))return;if(delete this.pendingRequests[m],v.status===0&&this.isHttp){p.onError?.(v.status);return}let C=v.status||s;if(!(C===s&&p.expectedStatus===o)&&C!==p.expectedStatus){p.onError?.(v.status);return}let M=a(v);if(C===o){let D=v.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(D);p.onDone({begin:parseInt(y[1],10),chunk:M})}else M?p.onDone({begin:0,chunk:M}):p.onError?.(v.status)}getRequestXhr(m){return this.pendingRequests[m].xhr}isPendingRequest(m){return m in this.pendingRequests}abortRequest(m){let f=this.pendingRequests[m].xhr;delete this.pendingRequests[m],f.abort()}}class c{constructor(m){this._source=m,this._manager=new l(m.url,{httpHeaders:m.httpHeaders,withCredentials:m.withCredentials}),this._rangeChunkSize=m.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(m){let f=this._rangeRequestReaders.indexOf(m);f>=0&&this._rangeRequestReaders.splice(f,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}getRangeReader(m,f){let p=new u(this._manager,m,f);return p.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(p),p}cancelAllRequests(m){this._fullRequestReader?.cancel(m);for(let f of this._rangeRequestReaders.slice(0))f.cancel(m)}}e.PDFNetworkStream=c;class d{constructor(m,f){this._manager=m;let p={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._fullRequestId=m.requestFull(p),this._headersReceivedCapability=(0,n.createPromiseCapability)(),this._disableRange=f.disableRange||!1,this._contentLength=f.length,this._rangeChunkSize=f.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let m=this._fullRequestId,f=this._manager.getRequestXhr(m),p=E=>f.getResponseHeader(E),{allowRangeRequests:v,suggestedLength:C}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});v&&(this._isRangeSupported=!0),this._contentLength=C||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(p),this._isRangeSupported&&this._manager.abortRequest(m),this._headersReceivedCapability.resolve()}_onDone(m){if(m&&(this._requests.length>0?this._requests.shift().resolve({value:m.chunk,done:!1}):this._cachedChunks.push(m.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(m){this._storedError=(0,i.createResponseStatusError)(m,this._url),this._headersReceivedCapability.reject(this._storedError);for(let f of this._requests)f.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(m){this.onProgress?.({loaded:m.loaded,total:m.lengthComputable?m.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return le(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let m=(0,n.createPromiseCapability)();return this._requests.push(m),m.promise})}cancel(m){this._done=!0,this._headersReceivedCapability.reject(m);for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class u{constructor(m,f,p){this._manager=m;let v={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._requestId=m.requestRange(f,p,v),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(m){let f=m.chunk;this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunk=f,this._done=!0;for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(m){this._storedError=(0,i.createResponseStatusError)(m,this._url);for(let f of this._requests)f.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(m){this.isStreamingSupported||this.onProgress?.({loaded:m.loaded})}get isStreamingSupported(){return!1}read(){return le(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let f=this._queuedChunk;return this._queuedChunk=null,{value:f,done:!1}}if(this._done)return{value:void 0,done:!0};let m=(0,n.createPromiseCapability)();return this._requests.push(m),m.promise})}cancel(m){this._done=!0;for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var n=r(1),i=r(33);function s(d,u,h){return{method:"GET",headers:d,signal:h.signal,mode:"cors",credentials:u?"include":"same-origin",redirect:"follow"}}function o(d){let u=new Headers;for(let h in d){let m=d[h];typeof m>"u"||u.append(h,m)}return u}class a{constructor(u){this.source=u,this.isHttp=/^https?:/i.test(u.url),this.httpHeaders=this.isHttp&&u.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new l(this),this._fullRequestReader}getRangeReader(u,h){if(h<=this._progressiveDataLength)return null;let m=new c(this,u,h);return this._rangeRequestReaders.push(m),m}cancelAllRequests(u){this._fullRequestReader&&this._fullRequestReader.cancel(u);for(let h of this._rangeRequestReaders.slice(0))h.cancel(u)}}e.PDFFetchStream=a;class l{constructor(u){this._stream=u,this._reader=null,this._loaded=0,this._filename=null;let h=u.source;this._withCredentials=h.withCredentials||!1,this._contentLength=h.length,this._headersCapability=(0,n.createPromiseCapability)(),this._disableRange=h.disableRange||!1,this._rangeChunkSize=h.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._headers=o(this._stream.httpHeaders);let m=h.url;fetch(m,s(this._headers,this._withCredentials,this._abortController)).then(f=>{if(!(0,i.validateResponseStatus)(f.status))throw(0,i.createResponseStatusError)(f.status,m);this._reader=f.body.getReader(),this._headersCapability.resolve();let p=E=>f.headers.get(E),{allowRangeRequests:v,suggestedLength:C}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=v,this._contentLength=C||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(p),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return le(this,null,function*(){yield this._headersCapability.promise;let{value:u,done:h}=yield this._reader.read();return h?{value:u,done:h}:(this._loaded+=u.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(u).buffer,done:!1})})}cancel(u){this._reader&&this._reader.cancel(u),this._abortController.abort()}}class c{constructor(u,h,m){this._stream=u,this._reader=null,this._loaded=0;let f=u.source;this._withCredentials=f.withCredentials||!1,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!f.disableStream,this._abortController=new AbortController,this._headers=o(this._stream.httpHeaders),this._headers.append("Range",`bytes=${h}-${m-1}`);let p=f.url;fetch(p,s(this._headers,this._withCredentials,this._abortController)).then(v=>{if(!(0,i.validateResponseStatus)(v.status))throw(0,i.createResponseStatusError)(v.status,p);this._readCapability.resolve(),this._reader=v.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return le(this,null,function*(){yield this._readCapability.promise;let{value:u,done:h}=yield this._reader.read();return h?{value:u,done:h}:(this._loaded+=u.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(u).buffer,done:!1})})}cancel(u){this._reader&&this._reader.cancel(u),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return i.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return s.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return a.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return d.SVGGraphics}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return r.version}});var e=__w_pdfjs_require__(1),r=__w_pdfjs_require__(4),n=__w_pdfjs_require__(8),i=__w_pdfjs_require__(22),s=__w_pdfjs_require__(7),o=__w_pdfjs_require__(27),a=__w_pdfjs_require__(15),l=__w_pdfjs_require__(3),c=__w_pdfjs_require__(30),d=__w_pdfjs_require__(31),u=__w_pdfjs_require__(29);let h="2.16.105",m="172ccdbe5";if(l.isNodeJS){let{PDFNodeStream:f}=__w_pdfjs_require__(32);(0,r.setPDFNetworkStreamFactory)(p=>new f(p))}else{let{PDFNetworkStream:f}=__w_pdfjs_require__(35),{PDFFetchStream:p}=__w_pdfjs_require__(36);(0,r.setPDFNetworkStreamFactory)(v=>(0,n.isValidFetchUrl)(v.url)?new p(v):new f(v))}})(),__webpack_exports__})())});var Bv=wn((Sa,wd)=>{"use strict";(function(e,r){typeof Sa=="object"&&typeof wd=="object"?wd.exports=r():typeof define=="function"&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],r):typeof Sa=="object"?Sa["pdfjs-dist/web/pdf_viewer"]=r():e["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=r()})(globalThis,()=>(()=>{"use strict";var t=[,(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DefaultXfaLayerFactory=s.DefaultTextLayerFactory=s.DefaultStructTreeLayerFactory=s.DefaultAnnotationLayerFactory=s.DefaultAnnotationEditorLayerFactory=void 0;var a=o(2),l=o(5),c=o(4),d=o(6),u=o(8),h=o(9),m=o(10);class f{createAnnotationLayerBuilder({pageDiv:D,pdfPage:y,annotationStorage:b=null,imageResourcesPath:I="",renderForms:F=!0,l10n:B=c.NullL10n,enableScripting:_=!1,hasJSActionsPromise:O=null,mouseState:q=null,fieldObjectsPromise:$=null,annotationCanvasMap:P=null,accessibilityManager:T=null}){return new l.AnnotationLayerBuilder({pageDiv:D,pdfPage:y,imageResourcesPath:I,renderForms:F,linkService:new d.SimpleLinkService,l10n:B,annotationStorage:b,enableScripting:_,hasJSActionsPromise:O,fieldObjectsPromise:$,mouseState:q,annotationCanvasMap:P,accessibilityManager:T})}}s.DefaultAnnotationLayerFactory=f;class p{createAnnotationEditorLayerBuilder({uiManager:D=null,pageDiv:y,pdfPage:b,accessibilityManager:I=null,l10n:F,annotationStorage:B=null}){return new a.AnnotationEditorLayerBuilder({uiManager:D,pageDiv:y,pdfPage:b,accessibilityManager:I,l10n:F,annotationStorage:B})}}s.DefaultAnnotationEditorLayerFactory=p;class v{createStructTreeLayerBuilder({pdfPage:D}){return new u.StructTreeLayerBuilder({pdfPage:D})}}s.DefaultStructTreeLayerFactory=v;class C{createTextLayerBuilder({textLayerDiv:D,pageIndex:y,viewport:b,enhanceTextSelection:I=!1,eventBus:F,highlighter:B,accessibilityManager:_=null}){return new h.TextLayerBuilder({textLayerDiv:D,pageIndex:y,viewport:b,enhanceTextSelection:I,eventBus:F,highlighter:B,accessibilityManager:_})}}s.DefaultTextLayerFactory=C;class E{createXfaLayerBuilder({pageDiv:D,pdfPage:y,annotationStorage:b=null}){return new m.XfaLayerBuilder({pageDiv:D,pdfPage:y,annotationStorage:b,linkService:new d.SimpleLinkService})}}s.DefaultXfaLayerFactory=E},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayerBuilder=void 0;var a=o(3),l=o(4);class c{#e;constructor(u){this.pageDiv=u.pageDiv,this.pdfPage=u.pdfPage,this.annotationStorage=u.annotationStorage||null,this.accessibilityManager=u.accessibilityManager,this.l10n=u.l10n||l.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#e=u.uiManager}render(u,h="display"){return le(this,null,function*(){if(h!=="display"||this._cancelled)return;let m=u.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:m}),this.show();return}this.div=document.createElement("div"),this.div.className="annotationEditorLayer",this.div.tabIndex=0,this.pageDiv.append(this.div),this.annotationEditorLayer=new a.AnnotationEditorLayer({uiManager:this.#e,div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:m});let f={viewport:m,div:this.div,annotations:null,intent:h};this.annotationEditorLayer.render(f)})}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}s.AnnotationEditorLayerBuilder=c},i=>{let s;typeof window<"u"&&window["pdfjs-dist/build/pdf"]?s=window["pdfjs-dist/build/pdf"]:s=_d(),i.exports=s},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.fixupLangCode=c,s.getL10nFallback=a;let o={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text\u2026",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function a(m,f){switch(m){case"find_match_count":m=`find_match_count[${f.total===1?"one":"other"}]`;break;case"find_match_count_limit":m=`find_match_count_limit[${f.limit===1?"one":"other"}]`;break}return o[m]||""}let l={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function c(m){return l[m?.toLowerCase()]||m}function d(m,f){return f?m.replace(/\{\{\s*(\w+)\s*\}\}/g,(p,v)=>v in f?f[v]:"{{"+v+"}}"):m}let u={getLanguage(){return le(this,null,function*(){return"en-us"})},getDirection(){return le(this,null,function*(){return"ltr"})},get(v){return le(this,arguments,function*(m,f=null,p=a(m,f)){return d(p,f)})},translate(m){return le(this,null,function*(){})}};s.NullL10n=u},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayerBuilder=void 0;var a=o(3),l=o(4);class c{constructor({pageDiv:u,pdfPage:h,linkService:m,downloadManager:f,annotationStorage:p=null,imageResourcesPath:v="",renderForms:C=!0,l10n:E=l.NullL10n,enableScripting:M=!1,hasJSActionsPromise:D=null,fieldObjectsPromise:y=null,mouseState:b=null,annotationCanvasMap:I=null,accessibilityManager:F=null}){this.pageDiv=u,this.pdfPage=h,this.linkService=m,this.downloadManager=f,this.imageResourcesPath=v,this.renderForms=C,this.l10n=E,this.annotationStorage=p,this.enableScripting=M,this._hasJSActionsPromise=D,this._fieldObjectsPromise=y,this._mouseState=b,this._annotationCanvasMap=I,this._accessibilityManager=F,this.div=null,this._cancelled=!1}render(u,h="display"){return le(this,null,function*(){let[m,f=!1,p=null]=yield Promise.all([this.pdfPage.getAnnotations({intent:h}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||m.length===0)return;let v={viewport:u.clone({dontFlip:!0}),div:this.div,annotations:m,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:f,fieldObjects:p,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};this.div?a.AnnotationLayer.update(v):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),v.div=this.div,a.AnnotationLayer.render(v),this.l10n.translate(this.div))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}s.AnnotationLayerBuilder=c},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SimpleLinkService=s.PDFLinkService=s.LinkTarget=void 0;var a=o(7);let l="noopener noreferrer nofollow",c={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};s.LinkTarget=c;function d(m,{url:f,target:p,rel:v,enabled:C=!0}={}){if(!f||typeof f!="string")throw new Error('A valid "url" parameter must provided.');let E=(0,a.removeNullCharacters)(f);C?m.href=m.title=E:(m.href="",m.title=`Disabled: ${E}`,m.onclick=()=>!1);let M="";switch(p){case c.NONE:break;case c.SELF:M="_self";break;case c.BLANK:M="_blank";break;case c.PARENT:M="_parent";break;case c.TOP:M="_top";break}m.target=M,m.rel=typeof v=="string"?v:l}class u{#e=new Map;constructor({eventBus:f,externalLinkTarget:p=null,externalLinkRel:v=null,ignoreDestinationZoom:C=!1}={}){this.eventBus=f,this.externalLinkTarget=p,this.externalLinkRel=v,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=C,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(f,p=null){this.baseUrl=p,this.pdfDocument=f,this.#e.clear()}setViewer(f){this.pdfViewer=f}setHistory(f){this.pdfHistory=f}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(f){this.pdfViewer.currentPageNumber=f}get rotation(){return this.pdfViewer.pagesRotation}set rotation(f){this.pdfViewer.pagesRotation=f}#t(f,p=null,v){let C=v[0],E;if(typeof C=="object"&&C!==null){if(E=this._cachedPageNumber(C),!E){this.pdfDocument.getPageIndex(C).then(M=>{this.cachePageRef(M+1,C),this.#t(f,p,v)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${C}" is not a valid page reference, for dest="${f}".`)});return}}else if(Number.isInteger(C))E=C+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${C}" is not a valid destination reference, for dest="${f}".`);return}if(!E||E<1||E>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${E}" is not a valid page number, for dest="${f}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:p,explicitDest:v,pageNumber:E})),this.pdfViewer.scrollPageIntoView({pageNumber:E,destArray:v,ignoreDestinationZoom:this._ignoreDestinationZoom})}goToDestination(f){return le(this,null,function*(){if(!this.pdfDocument)return;let p,v;if(typeof f=="string"?(p=f,v=yield this.pdfDocument.getDestination(f)):(p=null,v=yield f),!Array.isArray(v)){console.error(`PDFLinkService.goToDestination: "${v}" is not a valid destination array, for dest="${f}".`);return}this.#t(f,p,v)})}goToPage(f){if(!this.pdfDocument)return;let p=typeof f=="string"&&this.pdfViewer.pageLabelToPageNumber(f)||f|0;if(!(Number.isInteger(p)&&p>0&&p<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${f}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(p)),this.pdfViewer.scrollPageIntoView({pageNumber:p})}addLinkAttributes(f,p,v=!1){d(f,{url:p,target:v?c.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(f){if(typeof f=="string"){if(f.length>0)return this.getAnchorUrl("#"+escape(f))}else if(Array.isArray(f)){let p=JSON.stringify(f);if(p.length>0)return this.getAnchorUrl("#"+escape(p))}return this.getAnchorUrl("")}getAnchorUrl(f){return(this.baseUrl||"")+f}setHash(f){if(!this.pdfDocument)return;let p,v;if(f.includes("=")){let C=(0,a.parseQueryString)(f);if(C.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:C.get("search").replace(/"/g,""),phraseSearch:C.get("phrase")==="true"}),C.has("page")&&(p=C.get("page")|0||1),C.has("zoom")){let E=C.get("zoom").split(","),M=E[0],D=parseFloat(M);M.includes("Fit")?M==="Fit"||M==="FitB"?v=[null,{name:M}]:M==="FitH"||M==="FitBH"||M==="FitV"||M==="FitBV"?v=[null,{name:M},E.length>1?E[1]|0:null]:M==="FitR"?E.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):v=[null,{name:M},E[1]|0,E[2]|0,E[3]|0,E[4]|0]:console.error(`PDFLinkService.setHash: "${M}" is not a valid zoom value.`):v=[null,{name:"XYZ"},E.length>1?E[1]|0:null,E.length>2?E[2]|0:null,D?D/100:M]}v?this.pdfViewer.scrollPageIntoView({pageNumber:p||this.page,destArray:v,allowNegativeOffset:!0}):p&&(this.page=p),C.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:C.get("pagemode")}),C.has("nameddest")&&this.goToDestination(C.get("nameddest"))}else{v=unescape(f);try{v=JSON.parse(v),Array.isArray(v)||(v=v.toString())}catch{}if(typeof v=="string"||u.#n(v)){this.goToDestination(v);return}console.error(`PDFLinkService.setHash: "${unescape(f)}" is not a valid destination.`)}}executeNamedAction(f){switch(f){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:f})}cachePageRef(f,p){if(!p)return;let v=p.gen===0?`${p.num}R`:`${p.num}R${p.gen}`;this.#e.set(v,f)}_cachedPageNumber(f){if(!f)return null;let p=f.gen===0?`${f.num}R`:`${f.num}R${f.gen}`;return this.#e.get(p)||null}isPageVisible(f){return this.pdfViewer.isPageVisible(f)}isPageCached(f){return this.pdfViewer.isPageCached(f)}static#n(f){if(!Array.isArray(f))return!1;let p=f.length;if(p<2)return!1;let v=f[0];if(!(typeof v=="object"&&Number.isInteger(v.num)&&Number.isInteger(v.gen))&&!(Number.isInteger(v)&&v>=0))return!1;let C=f[1];if(!(typeof C=="object"&&typeof C.name=="string"))return!1;let E=!0;switch(C.name){case"XYZ":if(p!==5)return!1;break;case"Fit":case"FitB":return p===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(p!==3)return!1;break;case"FitR":if(p!==6)return!1;E=!1;break;default:return!1}for(let M=2;M<p;M++){let D=f[M];if(!(typeof D=="number"||E&&D===null))return!1}return!0}}s.PDFLinkService=u;class h{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(f){}get rotation(){return 0}set rotation(f){}goToDestination(f){return le(this,null,function*(){})}goToPage(f){}addLinkAttributes(f,p,v=!1){d(f,{url:p,enabled:this.externalLinkEnabled})}getDestinationHash(f){return"#"}getAnchorUrl(f){return"#"}setHash(f){}executeNamedAction(f){}cachePageRef(f,p){}isPageVisible(f){return!0}isPageCached(f){return!0}}s.SimpleLinkService=h},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.animationStarted=s.VERTICAL_PADDING=s.UNKNOWN_SCALE=s.TextLayerMode=s.SpreadMode=s.SidebarView=s.ScrollMode=s.SCROLLBAR_PADDING=s.RenderingStates=s.RendererType=s.ProgressBar=s.PresentationModeState=s.OutputScale=s.MIN_SCALE=s.MAX_SCALE=s.MAX_AUTO_SCALE=s.DEFAULT_SCALE_VALUE=s.DEFAULT_SCALE_DELTA=s.DEFAULT_SCALE=s.AutoPrintRegExp=void 0,s.apiPageLayoutToViewerModes=K,s.apiPageModeToSidebarView=Y,s.approximateFraction=T,s.backtrackBeforeAllVisibleElements=H,s.binarySearchFirstItem=P,s.docStyle=void 0,s.getActiveOrFocusedElement=X,s.getPageSizeInches=U,s.getVisibleElements=x,s.isPortraitOrientation=N,s.isValidRotation=j,s.isValidScrollMode=g,s.isValidSpreadMode=w,s.noContextMenuHandler=S,s.normalizeWheelEventDelta=L,s.normalizeWheelEventDirection=A,s.parseQueryString=_,s.removeNullCharacters=$,s.roundToDivide=R,s.scrollIntoView=F,s.watchScroll=B;let o="auto";s.DEFAULT_SCALE_VALUE=o;let a=1;s.DEFAULT_SCALE=a;let l=1.1;s.DEFAULT_SCALE_DELTA=l;let c=.1;s.MIN_SCALE=c;let d=10;s.MAX_SCALE=d;let u=0;s.UNKNOWN_SCALE=u;let h=1.25;s.MAX_AUTO_SCALE=h;let m=40;s.SCROLLBAR_PADDING=m;let f=5;s.VERTICAL_PADDING=f;let p={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};s.RenderingStates=p;let v={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};s.PresentationModeState=v;let C={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};s.SidebarView=C;let E={CANVAS:"canvas",SVG:"svg"};s.RendererType=E;let M={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};s.TextLayerMode=M;let D={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};s.ScrollMode=D;let y={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};s.SpreadMode=y;let b=/\bprint\s*\(/;s.AutoPrintRegExp=b;class I{constructor(){let Z=window.devicePixelRatio||1;this.sx=Z,this.sy=Z}get scaled(){return this.sx!==1||this.sy!==1}}s.OutputScale=I;function F(G,Z,ee=!1){let te=G.offsetParent;if(!te){console.error("offsetParent is not set -- cannot scroll");return}let re=G.offsetTop+G.clientTop,ie=G.offsetLeft+G.clientLeft;for(;te.clientHeight===te.scrollHeight&&te.clientWidth===te.scrollWidth||ee&&(te.classList.contains("markedContent")||getComputedStyle(te).overflow==="hidden");)if(re+=te.offsetTop,ie+=te.offsetLeft,te=te.offsetParent,!te)return;Z&&(Z.top!==void 0&&(re+=Z.top),Z.left!==void 0&&(ie+=Z.left,te.scrollLeft=ie)),te.scrollTop=re}function B(G,Z){let ee=function(ie){re||(re=window.requestAnimationFrame(function(){re=null;let se=G.scrollLeft,Ae=te.lastX;se!==Ae&&(te.right=se>Ae),te.lastX=se;let Me=G.scrollTop,de=te.lastY;Me!==de&&(te.down=Me>de),te.lastY=Me,Z(te)}))},te={right:!0,down:!0,lastX:G.scrollLeft,lastY:G.scrollTop,_eventHandler:ee},re=null;return G.addEventListener("scroll",ee,!0),te}function _(G){let Z=new Map;for(let[ee,te]of new URLSearchParams(G))Z.set(ee.toLowerCase(),te);return Z}let O=/\x00/g,q=/[\x01-\x1F]/g;function $(G,Z=!1){return typeof G!="string"?(console.error("The argument must be a string."),G):(Z&&(G=G.replace(q," ")),G.replace(O,""))}function P(G,Z,ee=0){let te=ee,re=G.length-1;if(re<0||!Z(G[re]))return G.length;if(Z(G[te]))return te;for(;te<re;){let ie=te+re>>1,oe=G[ie];Z(oe)?re=ie:te=ie+1}return te}function T(G){if(Math.floor(G)===G)return[G,1];let Z=1/G,ee=8;if(Z>ee)return[1,ee];if(Math.floor(Z)===Z)return[1,Z];let te=G>1?Z:G,re=0,ie=1,oe=1,se=1;for(;;){let Me=re+oe,de=ie+se;if(de>ee)break;te<=Me/de?(oe=Me,se=de):(re=Me,ie=de)}let Ae;return te-re/ie<oe/se-te?Ae=te===G?[re,ie]:[ie,re]:Ae=te===G?[oe,se]:[se,oe],Ae}function R(G,Z){let ee=G%Z;return ee===0?G:Math.round(G-ee+Z)}function U({view:G,userUnit:Z,rotate:ee}){let[te,re,ie,oe]=G,se=ee%180!==0,Ae=(ie-te)/72*Z,Me=(oe-re)/72*Z;return{width:se?Me:Ae,height:se?Ae:Me}}function H(G,Z,ee){if(G<2)return G;let te=Z[G].div,re=te.offsetTop+te.clientTop;re>=ee&&(te=Z[G-1].div,re=te.offsetTop+te.clientTop);for(let ie=G-2;ie>=0&&(te=Z[ie].div,!(te.offsetTop+te.clientTop+te.clientHeight<=re));--ie)G=ie;return G}function x({scrollEl:G,views:Z,sortByVisibility:ee=!1,horizontal:te=!1,rtl:re=!1}){let ie=G.scrollTop,oe=ie+G.clientHeight,se=G.scrollLeft,Ae=se+G.clientWidth;function Me(it){let Ze=it.div;return Ze.offsetTop+Ze.clientTop+Ze.clientHeight>ie}function de(it){let Ze=it.div,st=Ze.offsetLeft+Ze.clientLeft,tn=st+Ze.clientWidth;return re?st<Ae:tn>se}let Re=[],Be=new Set,rt=Z.length,Ue=P(Z,te?de:Me);Ue>0&&Ue<rt&&!te&&(Ue=H(Ue,Z,ie));let It=te?Ae:-1;for(let it=Ue;it<rt;it++){let Ze=Z[it],st=Ze.div,tn=st.offsetLeft+st.clientLeft,kn=st.offsetTop+st.clientTop,yi=st.clientWidth,ne=st.clientHeight,J=tn+yi,Q=kn+ne;if(It===-1)Q>=oe&&(It=Q);else if((te?tn:kn)>It)break;if(Q<=ie||kn>=oe||J<=se||tn>=Ae)continue;let ae=Math.max(0,ie-kn)+Math.max(0,Q-oe),ge=Math.max(0,se-tn)+Math.max(0,J-Ae),Ne=(ne-ae)/ne,Oe=(yi-ge)/yi,$t=Ne*Oe*100|0;Re.push({id:Ze.id,x:tn,y:kn,view:Ze,percent:$t,widthPercent:Oe*100|0}),Be.add(Ze.id)}let We=Re[0],Ve=Re.at(-1);return ee&&Re.sort(function(it,Ze){let st=it.percent-Ze.percent;return Math.abs(st)>.001?-st:it.id-Ze.id}),{first:We,last:Ve,views:Re,ids:Be}}function S(G){G.preventDefault()}function A(G){let Z=Math.hypot(G.deltaX,G.deltaY),ee=Math.atan2(G.deltaY,G.deltaX);return-.25*Math.PI<ee&&ee<.75*Math.PI&&(Z=-Z),Z}function L(G){let Z=A(G),ee=0,te=1,re=30,ie=30;return G.deltaMode===ee?Z/=re*ie:G.deltaMode===te&&(Z/=ie),Z}function j(G){return Number.isInteger(G)&&G%90===0}function g(G){return Number.isInteger(G)&&Object.values(D).includes(G)&&G!==D.UNKNOWN}function w(G){return Number.isInteger(G)&&Object.values(y).includes(G)&&G!==y.UNKNOWN}function N(G){return G.width<=G.height}let k=new Promise(function(G){window.requestAnimationFrame(G)});s.animationStarted=k;let V=document.documentElement.style;s.docStyle=V;function W(G,Z,ee){return Math.min(Math.max(G,Z),ee)}class z{#e=null;#t=0;#n=!0;constructor(Z){if(arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");let ee=document.getElementById(Z);this.#e=ee.classList}get percent(){return this.#t}set percent(Z){if(this.#t=W(Z,0,100),isNaN(Z)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),V.setProperty("--progressBar-percent",`${this.#t}%`)}setWidth(Z){if(!Z)return;let te=Z.parentNode.offsetWidth-Z.offsetWidth;te>0&&V.setProperty("--progressBar-end-offset",`${te}px`)}hide(){this.#n&&(this.#n=!1,this.#e.add("hidden"))}show(){this.#n||(this.#n=!0,this.#e.remove("hidden"))}}s.ProgressBar=z;function X(){let G=document,Z=G.activeElement||G.querySelector(":focus");for(;Z?.shadowRoot;)G=Z.shadowRoot,Z=G.activeElement||G.querySelector(":focus");return Z}function K(G){let Z=D.VERTICAL,ee=y.NONE;switch(G){case"SinglePage":Z=D.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Z=D.PAGE;case"TwoColumnLeft":ee=y.ODD;break;case"TwoPageRight":Z=D.PAGE;case"TwoColumnRight":ee=y.EVEN;break}return{scrollMode:Z,spreadMode:ee}}function Y(G){switch(G){case"UseNone":return C.NONE;case"UseThumbs":return C.THUMBS;case"UseOutlines":return C.OUTLINE;case"UseAttachments":return C.ATTACHMENTS;case"UseOC":return C.LAYERS}return C.NONE}},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StructTreeLayerBuilder=void 0;let o={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},a=/^H(\d+)$/;class l{constructor({pdfPage:d}){this.pdfPage=d}render(d){return this._walk(d)}_setAttributes(d,u){d.alt!==void 0&&u.setAttribute("aria-label",d.alt),d.id!==void 0&&u.setAttribute("aria-owns",d.id),d.lang!==void 0&&u.setAttribute("lang",d.lang)}_walk(d){if(!d)return null;let u=document.createElement("span");if("role"in d){let{role:h}=d,m=h.match(a);m?(u.setAttribute("role","heading"),u.setAttribute("aria-level",m[1])):o[h]&&u.setAttribute("role",o[h])}if(this._setAttributes(d,u),d.children)if(d.children.length===1&&"id"in d.children[0])this._setAttributes(d.children[0],u);else for(let h of d.children)u.append(this._walk(h));return u}}s.StructTreeLayerBuilder=l},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerBuilder=void 0;var a=o(3);let l=300;class c{constructor({textLayerDiv:u,eventBus:h,pageIndex:m,viewport:f,highlighter:p=null,enhanceTextSelection:v=!1,accessibilityManager:C=null}){this.textLayerDiv=u,this.eventBus=h,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=m+1,this.viewport=f,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=p,this.enhanceTextSelection=v,this.accessibilityManager=C,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){let u=document.createElement("div");u.className="endOfContent",this.textLayerDiv.append(u)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(u=0){if(!(this.textContent||this.textContentStream)||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs);let h=document.createDocumentFragment();this.textLayerRenderTask=(0,a.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:h,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:u,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.append(h),this._finishRendering(),this.highlighter?.enable(),this.accessibilityManager?.enable()},function(m){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable()}setTextContentStream(u){this.cancel(),this.textContentStream=u}setTextContent(u){this.cancel(),this.textContent=u}_bindMouse(){let u=this.textLayerDiv,h=null;u.addEventListener("mousedown",m=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){this.textLayerRenderTask.expandTextDivs(!0),h&&(clearTimeout(h),h=null);return}let f=u.querySelector(".endOfContent");if(!f)return;let p=m.target!==u;if(p=p&&window.getComputedStyle(f).getPropertyValue("-moz-user-select")!=="none",p){let v=u.getBoundingClientRect(),C=Math.max(0,(m.pageY-v.top)/v.height);f.style.top=(C*100).toFixed(2)+"%"}f.classList.add("active")}),u.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){h=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),h=null},l);return}let m=u.querySelector(".endOfContent");m&&(m.style.top="",m.classList.remove("active"))})}}s.TextLayerBuilder=c},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayerBuilder=void 0;var a=o(3);class l{constructor({pageDiv:d,pdfPage:u,annotationStorage:h=null,linkService:m,xfaHtml:f=null}){this.pageDiv=d,this.pdfPage=u,this.annotationStorage=h,this.linkService=m,this.xfaHtml=f,this.div=null,this._cancelled=!1}render(d,u="display"){if(u==="print"){let h={viewport:d.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:u},m=document.createElement("div");this.pageDiv.append(m),h.div=m;let f=a.XfaLayer.render(h);return Promise.resolve(f)}return this.pdfPage.getXfa().then(h=>{if(this._cancelled||!h)return{textDivs:[]};let m={viewport:d.clone({dontFlip:!0}),div:this.div,xfaHtml:h,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:u};return this.div?a.XfaLayer.update(m):(this.div=document.createElement("div"),this.pageDiv.append(this.div),m.div=this.div,a.XfaLayer.render(m))}).catch(h=>{console.error(h)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}s.XfaLayerBuilder=l},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFViewer=s.PDFSinglePageViewer=void 0;var a=o(7),l=o(12);class c extends l.BaseViewer{}s.PDFViewer=c;class d extends l.BaseViewer{_resetView(){super._resetView(),this._scrollMode=a.ScrollMode.PAGE,this._spreadMode=a.SpreadMode.NONE}set scrollMode(h){}_updateScrollMode(){}set spreadMode(h){}_updateSpreadMode(){}}s.PDFSinglePageViewer=d},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PagesCountLimit=s.PDFPageViewBuffer=s.BaseViewer=void 0;var a=o(3),l=o(7),c=o(2),d=o(5),u=o(4),h=o(13),m=o(16),f=o(6),p=o(8),v=o(17),C=o(9),E=o(10);let M=10,D="enablePermissions",y={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};s.PagesCountLimit=y;function b(B){return Object.values(a.AnnotationEditorType).includes(B)&&B!==a.AnnotationEditorType.DISABLE}class I{#e=new Set;#t=0;constructor(_){this.#t=_}push(_){let O=this.#e;O.has(_)&&O.delete(_),O.add(_),O.size>this.#t&&this.#n()}resize(_,O=null){this.#t=_;let q=this.#e;if(O){let $=q.size,P=1;for(let T of q)if(O.has(T.id)&&(q.delete(T),q.add(T)),++P>$)break}for(;q.size>this.#t;)this.#n()}has(_){return this.#e.has(_)}[Symbol.iterator](){return this.#e.keys()}#n(){let _=this.#e.keys().next().value;_?.destroy(),this.#e.delete(_)}}s.PDFPageViewBuffer=I;class F{#e=null;#t=a.AnnotationEditorType.DISABLE;#n=null;#r=a.AnnotationMode.ENABLE_FORMS;#s=!1;#c=0;#a=null;#i=null;constructor(_){if(this.constructor===F)throw new Error("Cannot initialize BaseViewer.");let O="2.16.105";if(a.version!==O)throw new Error(`The API version "${a.version}" does not match the Viewer version "${O}".`);if(this.container=_.container,this.viewer=_.viewer||_.container.firstElementChild,!(this.container?.tagName.toUpperCase()==="DIV"&&this.viewer?.tagName.toUpperCase()==="DIV"))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=_.eventBus,this.linkService=_.linkService||new f.SimpleLinkService,this.downloadManager=_.downloadManager||null,this.findController=_.findController||null,this._scriptingManager=_.scriptingManager||null,this.removePageBorders=_.removePageBorders||!1,this.textLayerMode=_.textLayerMode??l.TextLayerMode.ENABLE,this.#r=_.annotationMode??a.AnnotationMode.ENABLE_FORMS,this.#t=_.annotationEditorMode??a.AnnotationEditorType.DISABLE,this.imageResourcesPath=_.imageResourcesPath||"",this.enablePrintAutoRotate=_.enablePrintAutoRotate||!1,this.renderer=_.renderer||l.RendererType.CANVAS,this.useOnlyCssZoom=_.useOnlyCssZoom||!1,this.maxCanvasPixels=_.maxCanvasPixels,this.l10n=_.l10n||u.NullL10n,this.#s=_.enablePermissions||!1,this.pageColors=_.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!_.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new m.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=_.renderingQueue,this.scroll=(0,l.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=l.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(_){return this._pages[_]}get pageViewsReady(){return this._pagesCapability.settled?this._pages.every(function(_){return _?.pdfPage}):!1}get renderForms(){return this.#r===a.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(_){if(!Number.isInteger(_))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(_,!0)||console.error(`currentPageNumber: "${_}" is not a valid page.`))}_setCurrentPageNumber(_,O=!1){if(this._currentPageNumber===_)return O&&this.#f(),!0;if(!(0<_&&_<=this.pagesCount))return!1;let q=this._currentPageNumber;return this._currentPageNumber=_,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:_,pageLabel:this._pageLabels?.[_-1]??null,previous:q}),O&&this.#f(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(_){if(!this.pdfDocument)return;let O=_|0;if(this._pageLabels){let q=this._pageLabels.indexOf(_);q>=0&&(O=q+1)}this._setCurrentPageNumber(O,!0)||console.error(`currentPageLabel: "${_}" is not a valid page.`)}get currentScale(){return this._currentScale!==l.UNKNOWN_SCALE?this._currentScale:l.DEFAULT_SCALE}set currentScale(_){if(isNaN(_))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(_,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(_){this.pdfDocument&&this._setScale(_,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(_){if(!(0,l.isValidRotation)(_))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(_%=360,_<0&&(_+=360),this._pagesRotation===_))return;this._pagesRotation=_;let O=this._currentPageNumber,q={rotation:_};for(let $ of this._pages)$.update(q);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:_,pageNumber:O}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#h(_){let O={annotationEditorMode:this.#t,annotationMode:this.#r,textLayerMode:this.textLayerMode};return _&&(_.includes(a.PermissionFlag.COPY)||this.viewer.classList.add(D),_.includes(a.PermissionFlag.MODIFY_CONTENTS)||(O.annotationEditorMode=a.AnnotationEditorType.DISABLE),!_.includes(a.PermissionFlag.MODIFY_ANNOTATIONS)&&!_.includes(a.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#r===a.AnnotationMode.ENABLE_FORMS&&(O.annotationMode=a.AnnotationMode.ENABLE)),O}#u(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();let _=new Promise(O=>{this.#i=()=>{document.visibilityState==="hidden"&&(O(),document.removeEventListener("visibilitychange",this.#i),this.#i=null)},document.addEventListener("visibilitychange",this.#i)});return Promise.race([this._onePageRenderedCapability.promise,_])}setDocument(_){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),this.#n&&(this.#n.destroy(),this.#n=null)),this.pdfDocument=_,!_)return;let O=_.isPureXfa,q=_.numPages,$=_.getPage(1),P=_.getOptionalContentConfig(),T=this.#s?_.getPermissions():Promise.resolve();if(q>y.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let R=this._scrollMode=l.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:R})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:q})},()=>{}),this._onBeforeDraw=R=>{let U=this._pages[R.pageNumber-1];U&&this.#e.push(U)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=R=>{R.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:R.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#i&&(document.removeEventListener("visibilitychange",this.#i),this.#i=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([$,T]).then(([R,U])=>{if(_!==this.pdfDocument)return;this._firstPageCapability.resolve(R),this._optionalContentConfigPromise=P;let{annotationEditorMode:H,annotationMode:x,textLayerMode:S}=this.#h(U);if(H!==a.AnnotationEditorType.DISABLE){let W=H;O?console.warn("Warning: XFA-editing is not implemented."):b(W)?(this.#n=new a.AnnotationEditorUIManager(this.container,this.eventBus),W!==a.AnnotationEditorType.NONE&&this.#n.updateMode(W)):console.error(`Invalid AnnotationEditor mode: ${W}`)}let A=this._scrollMode===l.ScrollMode.PAGE?null:this.viewer,L=this.currentScale,j=R.getViewport({scale:L*a.PixelsPerInch.PDF_TO_CSS_UNITS}),g=S!==l.TextLayerMode.DISABLE&&!O?this:null,w=x!==a.AnnotationMode.DISABLE?this:null,N=O?this:null,k=this.#n?this:null;for(let W=1;W<=q;++W){let z=new h.PDFPageView({container:A,eventBus:this.eventBus,id:W,scale:L,defaultViewport:j.clone(),optionalContentConfigPromise:P,renderingQueue:this.renderingQueue,textLayerFactory:g,textLayerMode:S,annotationLayerFactory:w,annotationMode:x,xfaLayerFactory:N,annotationEditorLayerFactory:k,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(z)}let V=this._pages[0];V&&(V.setPdfPage(R),this.linkService.cachePageRef(1,R.ref)),this._scrollMode===l.ScrollMode.PAGE?this.#l():this._spreadMode!==l.SpreadMode.NONE&&this._updateSpreadMode(),this.#u().then(()=>le(this,null,function*(){if(this.findController&&this.findController.setDocument(_),this._scriptingManager&&this._scriptingManager.setDocument(_),this.#n&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:this.#t}),_.loadingParams.disableAutoFetch||q>y.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let W=q-1;if(W<=0){this._pagesCapability.resolve();return}for(let z=2;z<=q;++z){let X=_.getPage(z).then(K=>{let Y=this._pages[z-1];Y.pdfPage||Y.setPdfPage(K),this.linkService.cachePageRef(z,K.ref),--W===0&&this._pagesCapability.resolve()},K=>{console.error(`Unable to get page ${z} to initialize viewer`,K),--W===0&&this._pagesCapability.resolve()});z%y.PAUSE_EAGER_PAGE_INIT===0&&(yield X)}})),this.eventBus.dispatch("pagesinit",{source:this}),_.getMetadata().then(({info:W})=>{_===this.pdfDocument&&W.Language&&(this.viewer.lang=W.Language)}),this.defaultRenderingQueue&&this.update()}).catch(R=>{console.error("Unable to initialize viewer",R),this._pagesCapability.reject(R)})}setPageLabels(_){if(this.pdfDocument){_?Array.isArray(_)&&this.pdfDocument.numPages===_.length?this._pageLabels=_:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let O=0,q=this._pages.length;O<q;O++)this._pages[O].setPageLabel(this._pageLabels?.[O]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=l.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new I(M),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,a.createPromiseCapability)(),this._onePageRenderedCapability=(0,a.createPromiseCapability)(),this._pagesCapability=(0,a.createPromiseCapability)(),this._scrollMode=l.ScrollMode.VERTICAL,this._previousScrollMode=l.ScrollMode.UNKNOWN,this._spreadMode=l.SpreadMode.NONE,this.#a={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#i&&(document.removeEventListener("visibilitychange",this.#i),this.#i=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(D)}#l(){if(this._scrollMode!==l.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let _=this._currentPageNumber,O=this.#a,q=this.viewer;if(q.textContent="",O.pages.length=0,this._spreadMode===l.SpreadMode.NONE&&!this.isInPresentationMode){let $=this._pages[_-1];q.append($.div),O.pages.push($)}else{let $=new Set,P=this._spreadMode-1;P===-1?$.add(_-1):_%2!==P?($.add(_-1),$.add(_)):($.add(_-2),$.add(_-1));let T=document.createElement("div");if(T.className="spread",this.isInPresentationMode){let R=document.createElement("div");R.className="dummyPage",T.append(R)}for(let R of $){let U=this._pages[R];U&&(T.append(U.div),O.pages.push(U))}q.append(T)}O.scrollDown=_>=O.previousPageNumber,O.previousPageNumber=_}_scrollUpdate(){this.pagesCount!==0&&this.update()}#o(_,O=null){let{div:q,id:$}=_;if(this._scrollMode===l.ScrollMode.PAGE&&(this._setCurrentPageNumber($),this.#l(),this.update()),!O&&!this.isInPresentationMode){let P=q.offsetLeft+q.clientLeft,T=P+q.clientWidth,{scrollLeft:R,clientWidth:U}=this.container;(this._scrollMode===l.ScrollMode.HORIZONTAL||P<R||T>R+U)&&(O={left:0,top:0})}(0,l.scrollIntoView)(q,O)}#p(_){return _===this._currentScale||Math.abs(_-this._currentScale)<1e-15}_setScaleUpdatePages(_,O,q=!1,$=!1){if(this._currentScaleValue=O.toString(),this.#p(_)){$&&this.eventBus.dispatch("scalechanging",{source:this,scale:_,presetValue:O});return}l.docStyle.setProperty("--scale-factor",_*a.PixelsPerInch.PDF_TO_CSS_UNITS);let P={scale:_};for(let T of this._pages)T.update(P);if(this._currentScale=_,!q){let T=this._currentPageNumber,R;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(T=this._location.pageNumber,R=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:T,destArray:R,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:_,presetValue:$?O:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL?2:1}_setScale(_,O=!1){let q=parseFloat(_);if(q>0)this._setScaleUpdatePages(q,_,O,!1);else{let $=this._pages[this._currentPageNumber-1];if(!$)return;let P=l.SCROLLBAR_PADDING,T=l.VERTICAL_PADDING;this.isInPresentationMode?P=T=4:this.removePageBorders?P=T=0:this._scrollMode===l.ScrollMode.HORIZONTAL&&([P,T]=[T,P]);let R=(this.container.clientWidth-P)/$.width*$.scale/this._pageWidthScaleFactor,U=(this.container.clientHeight-T)/$.height*$.scale;switch(_){case"page-actual":q=1;break;case"page-width":q=R;break;case"page-height":q=U;break;case"page-fit":q=Math.min(R,U);break;case"auto":let H=(0,l.isPortraitOrientation)($)?R:Math.min(U,R);q=Math.min(l.MAX_AUTO_SCALE,H);break;default:console.error(`_setScale: "${_}" is an unknown zoom value.`);return}this._setScaleUpdatePages(q,_,O,!0)}}#f(){let _=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this.#o(_)}pageLabelToPageNumber(_){if(!this._pageLabels)return null;let O=this._pageLabels.indexOf(_);return O<0?null:O+1}scrollPageIntoView({pageNumber:_,destArray:O=null,allowNegativeOffset:q=!1,ignoreDestinationZoom:$=!1}){if(!this.pdfDocument)return;let P=Number.isInteger(_)&&this._pages[_-1];if(!P){console.error(`scrollPageIntoView: "${_}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!O){this._setCurrentPageNumber(_,!0);return}let T=0,R=0,U=0,H=0,x,S,A=P.rotation%180!==0,L=(A?P.height:P.width)/P.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS,j=(A?P.width:P.height)/P.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS,g=0;switch(O[1].name){case"XYZ":T=O[2],R=O[3],g=O[4],T=T!==null?T:0,R=R!==null?R:j;break;case"Fit":case"FitB":g="page-fit";break;case"FitH":case"FitBH":R=O[2],g="page-width",R===null&&this._location?(T=this._location.left,R=this._location.top):(typeof R!="number"||R<0)&&(R=j);break;case"FitV":case"FitBV":T=O[2],U=L,H=j,g="page-height";break;case"FitR":T=O[2],R=O[3],U=O[4]-T,H=O[5]-R;let V=this.removePageBorders?0:l.SCROLLBAR_PADDING,W=this.removePageBorders?0:l.VERTICAL_PADDING;x=(this.container.clientWidth-V)/U/a.PixelsPerInch.PDF_TO_CSS_UNITS,S=(this.container.clientHeight-W)/H/a.PixelsPerInch.PDF_TO_CSS_UNITS,g=Math.min(Math.abs(x),Math.abs(S));break;default:console.error(`scrollPageIntoView: "${O[1].name}" is not a valid destination type.`);return}if($||(g&&g!==this._currentScale?this.currentScaleValue=g:this._currentScale===l.UNKNOWN_SCALE&&(this.currentScaleValue=l.DEFAULT_SCALE_VALUE)),g==="page-fit"&&!O[4]){this.#o(P);return}let w=[P.viewport.convertToViewportPoint(T,R),P.viewport.convertToViewportPoint(T+U,R+H)],N=Math.min(w[0][0],w[1][0]),k=Math.min(w[0][1],w[1][1]);q||(N=Math.max(N,0),k=Math.max(k,0)),this.#o(P,{left:N,top:k})}_updateLocation(_){let O=this._currentScale,q=this._currentScaleValue,$=parseFloat(q)===O?Math.round(O*1e4)/100:q,P=_.id,T=this._pages[P-1],R=this.container,U=T.getPagePoint(R.scrollLeft-_.x,R.scrollTop-_.y),H=Math.round(U[0]),x=Math.round(U[1]),S=`#page=${P}`;this.isInPresentationMode||(S+=`&zoom=${$},${H},${x}`),this._location={pageNumber:P,scale:$,top:x,left:H,rotation:this._pagesRotation,pdfOpenParams:S}}update(){let _=this._getVisiblePages(),O=_.views,q=O.length;if(q===0)return;let $=Math.max(M,2*q+1);this.#e.resize($,_.ids),this.renderingQueue.renderHighestPriority(_);let P=this._spreadMode===l.SpreadMode.NONE&&(this._scrollMode===l.ScrollMode.PAGE||this._scrollMode===l.ScrollMode.VERTICAL),T=this._currentPageNumber,R=!1;for(let U of O){if(U.percent<100)break;if(U.id===T&&P){R=!0;break}}this._setCurrentPageNumber(R?T:O[0].id),this._updateLocation(_.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(_){return this.container.contains(_)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===l.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===l.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let _=this._scrollMode===l.ScrollMode.PAGE?this.#a.pages:this._pages,O=this._scrollMode===l.ScrollMode.HORIZONTAL,q=O&&this._isContainerRtl;return(0,l.getVisibleElements)({scrollEl:this.container,views:_,sortByVisibility:!0,horizontal:O,rtl:q})}isPageVisible(_){return this.pdfDocument?Number.isInteger(_)&&_>0&&_<=this.pagesCount?this._getVisiblePages().ids.has(_):(console.error(`isPageVisible: "${_}" is not a valid page.`),!1):!1}isPageCached(_){if(!this.pdfDocument)return!1;if(!(Number.isInteger(_)&&_>0&&_<=this.pagesCount))return console.error(`isPageCached: "${_}" is not a valid page.`),!1;let O=this._pages[_-1];return this.#e.has(O)}cleanup(){for(let _ of this._pages)_.renderingState!==l.RenderingStates.FINISHED&&_.reset()}_cancelRendering(){for(let _ of this._pages)_.cancelRendering()}#y(_){return le(this,null,function*(){if(_.pdfPage)return _.pdfPage;try{let O=yield this.pdfDocument.getPage(_.id);return _.pdfPage||_.setPdfPage(O),this.linkService._cachedPageNumber?.(O.ref)||this.linkService.cachePageRef(_.id,O.ref),O}catch(O){return console.error("Unable to get page for page view",O),null}})}#m(_){if(_.first?.id===1)return!0;if(_.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case l.ScrollMode.PAGE:return this.#a.scrollDown;case l.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}#v(_){for(let O of _)this._pages[O-1]?.toggleLoadingIconSpinner(!0);for(let O of this.#e)_.has(O.id)||O.toggleLoadingIconSpinner(!1)}forceRendering(_){let O=_||this._getVisiblePages(),q=this.#m(O),$=this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL,P=this.renderingQueue.getHighestPriority(O,this._pages,q,$);return this.#v(O.ids),P?(this.#y(P).then(()=>{this.renderingQueue.renderView(P)}),!0):!1}createTextLayerBuilder({textLayerDiv:_,pageIndex:O,viewport:q,enhanceTextSelection:$=!1,eventBus:P,highlighter:T,accessibilityManager:R=null}){return new C.TextLayerBuilder({textLayerDiv:_,eventBus:P,pageIndex:O,viewport:q,enhanceTextSelection:this.isInPresentationMode?!1:$,highlighter:T,accessibilityManager:R})}createTextHighlighter({pageIndex:_,eventBus:O}){return new v.TextHighlighter({eventBus:O,pageIndex:_,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder({pageDiv:_,pdfPage:O,annotationStorage:q=this.pdfDocument?.annotationStorage,imageResourcesPath:$="",renderForms:P=!0,l10n:T=u.NullL10n,enableScripting:R=this.enableScripting,hasJSActionsPromise:U=this.pdfDocument?.hasJSActions(),mouseState:H=this._scriptingManager?.mouseState,fieldObjectsPromise:x=this.pdfDocument?.getFieldObjects(),annotationCanvasMap:S=null,accessibilityManager:A=null}){return new d.AnnotationLayerBuilder({pageDiv:_,pdfPage:O,annotationStorage:q,imageResourcesPath:$,renderForms:P,linkService:this.linkService,downloadManager:this.downloadManager,l10n:T,enableScripting:R,hasJSActionsPromise:U,mouseState:H,fieldObjectsPromise:x,annotationCanvasMap:S,accessibilityManager:A})}createAnnotationEditorLayerBuilder({uiManager:_=this.#n,pageDiv:O,pdfPage:q,accessibilityManager:$=null,l10n:P,annotationStorage:T=this.pdfDocument?.annotationStorage}){return new c.AnnotationEditorLayerBuilder({uiManager:_,pageDiv:O,pdfPage:q,annotationStorage:T,accessibilityManager:$,l10n:P})}createXfaLayerBuilder({pageDiv:_,pdfPage:O,annotationStorage:q=this.pdfDocument?.annotationStorage}){return new E.XfaLayerBuilder({pageDiv:_,pdfPage:O,annotationStorage:q,linkService:this.linkService})}createStructTreeLayerBuilder({pdfPage:_}){return new p.StructTreeLayerBuilder({pdfPage:_})}get hasEqualPageSizes(){let _=this._pages[0];for(let O=1,q=this._pages.length;O<q;++O){let $=this._pages[O];if($.width!==_.width||$.height!==_.height)return!1}return!0}getPagesOverview(){return this._pages.map(_=>{let O=_.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,l.isPortraitOrientation)(O)?{width:O.width,height:O.height,rotation:O.rotation}:{width:O.height,height:O.width,rotation:(O.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(_){if(!(_ instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${_}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=_;let O={optionalContentConfigPromise:_};for(let q of this._pages)q.update(O);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:_})}get scrollMode(){return this._scrollMode}set scrollMode(_){if(this._scrollMode!==_){if(!(0,l.isValidScrollMode)(_))throw new Error(`Invalid scroll mode: ${_}`);this.pagesCount>y.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=_,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:_}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(_=null){let O=this._scrollMode,q=this.viewer;q.classList.toggle("scrollHorizontal",O===l.ScrollMode.HORIZONTAL),q.classList.toggle("scrollWrapped",O===l.ScrollMode.WRAPPED),!(!this.pdfDocument||!_)&&(O===l.ScrollMode.PAGE?this.#l():this._previousScrollMode===l.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(_,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(_){if(this._spreadMode!==_){if(!(0,l.isValidSpreadMode)(_))throw new Error(`Invalid spread mode: ${_}`);this._spreadMode=_,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:_}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(_=null){if(!this.pdfDocument)return;let O=this.viewer,q=this._pages;if(this._scrollMode===l.ScrollMode.PAGE)this.#l();else if(O.textContent="",this._spreadMode===l.SpreadMode.NONE)for(let $ of this._pages)O.append($.div);else{let $=this._spreadMode-1,P=null;for(let T=0,R=q.length;T<R;++T)P===null?(P=document.createElement("div"),P.className="spread",O.append(P)):T%2===$&&(P=P.cloneNode(!1),O.append(P)),P.append(q[T].div)}_&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(_,!0),this.update())}_getPageAdvance(_,O=!1){switch(this._scrollMode){case l.ScrollMode.WRAPPED:{let{views:q}=this._getVisiblePages(),$=new Map;for(let{id:P,y:T,percent:R,widthPercent:U}of q){if(R===0||U<100)continue;let H=$.get(T);H||$.set(T,H||=[]),H.push(P)}for(let P of $.values()){let T=P.indexOf(_);if(T===-1)continue;let R=P.length;if(R===1)break;if(O)for(let U=T-1,H=0;U>=H;U--){let x=P[U],S=P[U+1]-1;if(x<S)return _-S}else for(let U=T+1,H=R;U<H;U++){let x=P[U],S=P[U-1]+1;if(x>S)return S-_}if(O){let U=P[0];if(U<_)return _-U+1}else{let U=P[R-1];if(U>_)return U-_+1}break}break}case l.ScrollMode.HORIZONTAL:break;case l.ScrollMode.PAGE:case l.ScrollMode.VERTICAL:{if(this._spreadMode===l.SpreadMode.NONE)break;let q=this._spreadMode-1;if(O&&_%2!==q)break;if(!O&&_%2===q)break;let{views:$}=this._getVisiblePages(),P=O?_-1:_+1;for(let{id:T,percent:R,widthPercent:U}of $)if(T===P){if(R>0&&U===100)return 2;break}break}}return 1}nextPage(){let _=this._currentPageNumber,O=this.pagesCount;if(_>=O)return!1;let q=this._getPageAdvance(_,!1)||1;return this.currentPageNumber=Math.min(_+q,O),!0}previousPage(){let _=this._currentPageNumber;if(_<=1)return!1;let O=this._getPageAdvance(_,!0)||1;return this.currentPageNumber=Math.max(_-O,1),!0}increaseScale(_=1){let O=this._currentScale;do O=(O*l.DEFAULT_SCALE_DELTA).toFixed(2),O=Math.ceil(O*10)/10,O=Math.min(l.MAX_SCALE,O);while(--_>0&&O<l.MAX_SCALE);this.currentScaleValue=O}decreaseScale(_=1){let O=this._currentScale;do O=(O/l.DEFAULT_SCALE_DELTA).toFixed(2),O=Math.floor(O*10)/10,O=Math.max(l.MIN_SCALE,O);while(--_>0&&O>l.MIN_SCALE);this.currentScaleValue=O}updateContainerHeightCss(){let _=this.container.clientHeight;_!==this.#c&&(this.#c=_,l.docStyle.setProperty("--viewer-container-height",`${_}px`))}get annotationEditorMode(){return this.#n?this.#t:a.AnnotationEditorType.DISABLE}set annotationEditorMode(_){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");if(this.#t!==_){if(!b(_))throw new Error(`Invalid AnnotationEditor mode: ${_}`);this.pdfDocument&&(this.#t=_,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:_}),this.#n.updateMode(_))}}set annotationEditorParams({type:_,value:O}){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");this.#n.updateParams(_,O)}refresh(){if(!this.pdfDocument)return;let _={};for(let O of this._pages)O.update(_);this.update()}}s.BaseViewer=F},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFPageView=void 0;var a=o(3),l=o(7),c=o(14),d=o(4),u=o(15);let h=c.compatibilityParams.maxCanvasPixels||16777216;class m{#e=a.AnnotationMode.ENABLE_FORMS;#t={initialOptionalContent:!0,regularAnnotations:!0};constructor(p){let v=p.container,C=p.defaultViewport;this.id=p.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=p.scale||l.DEFAULT_SCALE,this.viewport=C,this.pdfPageRotate=C.rotation,this._optionalContentConfigPromise=p.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=p.textLayerMode??l.TextLayerMode.ENABLE,this.#e=p.annotationMode??a.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=p.imageResourcesPath||"",this.useOnlyCssZoom=p.useOnlyCssZoom||!1,this.maxCanvasPixels=p.maxCanvasPixels||h,this.pageColors=p.pageColors||null,this.eventBus=p.eventBus,this.renderingQueue=p.renderingQueue,this.textLayerFactory=p.textLayerFactory,this.annotationLayerFactory=p.annotationLayerFactory,this.annotationEditorLayerFactory=p.annotationEditorLayerFactory,this.xfaLayerFactory=p.xfaLayerFactory,this.textHighlighter=p.textHighlighterFactory?.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=p.structTreeLayerFactory,this.renderer=p.renderer||l.RendererType.CANVAS,this.l10n=p.l10n||d.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=l.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;let E=document.createElement("div");if(E.className="page",E.style.width=Math.floor(this.viewport.width)+"px",E.style.height=Math.floor(this.viewport.height)+"px",E.setAttribute("data-page-number",this.id),E.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(M=>{E.setAttribute("aria-label",M)}),this.div=E,v?.append(E),this._isStandalone){let{optionalContentConfigPromise:M}=p;M&&M.then(D=>{M===this._optionalContentConfigPromise&&(this.#t.initialOptionalContent=D.hasInitialVisibility)})}}setPdfPage(p){this.pdfPage=p,this.pdfPageRotate=p.rotate;let v=(this.rotation+this.pdfPageRotate)%360;this.viewport=p.getViewport({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:v}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){return le(this,null,function*(){let p=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(v){console.error(`_renderAnnotationLayer: "${v}".`),p=v}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:p})}})}_renderAnnotationEditorLayer(){return le(this,null,function*(){let p=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(v){console.error(`_renderAnnotationEditorLayer: "${v}".`),p=v}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:p})}})}_renderXfaLayer(){return le(this,null,function*(){let p=null;try{let v=yield this.xfaLayer.render(this.viewport,"display");this.textHighlighter&&this._buildXfaTextContentItems(v.textDivs)}catch(v){console.error(`_renderXfaLayer: "${v}".`),p=v}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:p})}})}_buildXfaTextContentItems(p){return le(this,null,function*(){let v=yield this.pdfPage.getTextContent(),C=[];for(let E of v.items)C.push(E.str);this.textHighlighter.setTextMapping(p,C),this.textHighlighter.enable()})}_resetZoomLayer(p=!1){if(!this.zoomLayer)return;let v=this.zoomLayer.firstChild;this.paintedViewportMap.delete(v),v.width=0,v.height=0,p&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:p=!1,keepAnnotationLayer:v=!1,keepAnnotationEditorLayer:C=!1,keepXfaLayer:E=!1}={}){this.cancelRendering({keepAnnotationLayer:v,keepAnnotationEditorLayer:C,keepXfaLayer:E}),this.renderingState=l.RenderingStates.INITIAL;let M=this.div;M.style.width=Math.floor(this.viewport.width)+"px",M.style.height=Math.floor(this.viewport.height)+"px";let D=M.childNodes,y=p&&this.zoomLayer||null,b=v&&this.annotationLayer?.div||null,I=C&&this.annotationEditorLayer?.div||null,F=E&&this.xfaLayer?.div||null;for(let B=D.length-1;B>=0;B--){let _=D[B];switch(_){case y:case b:case I:case F:continue}_.remove()}M.removeAttribute("data-loaded"),b&&this.annotationLayer.hide(),I?this.annotationEditorLayer.hide():this.annotationEditorLayer?.destroy(),F&&this.xfaLayer.hide(),y||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(B=>{this.loadingIconDiv?.setAttribute("aria-label",B)}),M.append(this.loadingIconDiv)}update({scale:p=0,rotation:v=null,optionalContentConfigPromise:C=null}){this.scale=p||this.scale,typeof v=="number"&&(this.rotation=v),C instanceof Promise&&(this._optionalContentConfigPromise=C,C.then(D=>{C===this._optionalContentConfigPromise&&(this.#t.initialOptionalContent=D.hasInitialVisibility)}));let E=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:E}),this._isStandalone&&l.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg){this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}let M=!1;if(this.canvas&&this.maxCanvasPixels>0){let D=this.outputScale;(Math.floor(this.viewport.width)*D.sx|0)*(Math.floor(this.viewport.height)*D.sy|0)>this.maxCanvasPixels&&(M=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&M){this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:p=!1,keepAnnotationEditorLayer:v=!1,keepXfaLayer:C=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!p||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!v||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!C||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:p,redrawAnnotationLayer:v=!1,redrawAnnotationEditorLayer:C=!1,redrawXfaLayer:E=!1}){let M=this.viewport.width,D=this.viewport.height,y=this.div;p.style.width=p.parentNode.style.width=y.style.width=Math.floor(M)+"px",p.style.height=p.parentNode.style.height=y.style.height=Math.floor(D)+"px";let b=this.viewport.rotation-this.paintedViewportMap.get(p).rotation,I=Math.abs(b),F=1,B=1;if((I===90||I===270)&&(F=D/M,B=M/D),p.style.transform=`rotate(${b}deg) scale(${F}, ${B})`,this.textLayer){let _=this.textLayer.viewport,O=this.viewport.rotation-_.rotation,q=Math.abs(O),$=M/_.width;(q===90||q===270)&&($=M/_.height);let P=this.textLayer.textLayerDiv,T,R;switch(q){case 0:T=R=0;break;case 90:T=0,R="-"+P.style.height;break;case 180:T="-"+P.style.width,R="-"+P.style.height;break;case 270:T="-"+P.style.width,R=0;break;default:console.error("Bad rotation value.");break}P.style.transform=`rotate(${q}deg) scale(${$}) translate(${T}, ${R})`,P.style.transformOrigin="0% 0%"}v&&this.annotationLayer&&this._renderAnnotationLayer(),C&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),E&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(p,v){return this.viewport.convertToPdfPoint(p,v)}toggleLoadingIconSpinner(p=!1){this.loadingIconDiv?.classList.toggle("notVisible",!p)}draw(){this.renderingState!==l.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:p,pdfPage:v}=this;if(!v)return this.renderingState=l.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=l.RenderingStates.RUNNING;let C=document.createElement("div");C.style.width=p.style.width,C.style.height=p.style.height,C.classList.add("canvasWrapper");let E=this.annotationLayer?.div||this.annotationEditorLayer?.div;E?E.before(C):p.append(C);let M=null;if(this.textLayerMode!==l.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||=new u.TextAccessibilityManager;let F=document.createElement("div");F.className="textLayer",F.style.width=C.style.width,F.style.height=C.style.height,E?E.before(F):p.append(F),M=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:F,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===l.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=M,this.#e!==a.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:p,pdfPage:v,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===a.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})),this.xfaLayer?.div&&p.append(this.xfaLayer.div);let D=null;this.renderingQueue&&(D=F=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=l.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=l.RenderingStates.RUNNING,F()};return}F()});let y=(F=null)=>le(this,null,function*(){if(b===this.paintTask&&(this.paintTask=null),F instanceof a.RenderingCancelledException){this._renderError=null;return}if(this._renderError=F,this.renderingState=l.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),this._resetZoomLayer(!0),this.#t.regularAnnotations=!b.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this._renderError}),F)throw F}),b=this.renderer===l.RendererType.SVG?this.paintOnSvg(C):this.paintOnCanvas(C);b.onRenderContinue=D,this.paintTask=b;let I=b.promise.then(()=>y(null).then(()=>{if(M){let F=v.streamTextContent({includeMarkedContent:!0});M.setTextContentStream(F),M.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:p,pdfPage:v,l10n:this.l10n,accessibilityManager:this._accessibilityManager}),this._renderAnnotationEditorLayer())})}),function(F){return y(F)});return this.xfaLayerFactory&&(this.xfaLayer||=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:p,pdfPage:v}),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=F=>{F.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(B=>{if(!B||!this.canvas)return;let _=this.structTreeLayer.render(B);_.classList.add("structTree"),this.canvas.append(_)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:v})),p.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),I}paintOnCanvas(p){let v=(0,a.createPromiseCapability)(),C={promise:v.promise,onRenderContinue($){$()},cancel(){q.cancel()},get separateAnnots(){return q.separateAnnots}},E=this.viewport,M=document.createElement("canvas");M.setAttribute("role","presentation"),M.hidden=!0;let D=!0,y=function(){D&&(M.hidden=!1,D=!1)};p.append(M),this.canvas=M;let b=M.getContext("2d",{alpha:!1}),I=this.outputScale=new l.OutputScale;if(this.useOnlyCssZoom){let $=E.clone({scale:a.PixelsPerInch.PDF_TO_CSS_UNITS});I.sx*=$.width/E.width,I.sy*=$.height/E.height}if(this.maxCanvasPixels>0){let $=E.width*E.height,P=Math.sqrt(this.maxCanvasPixels/$);I.sx>P||I.sy>P?(I.sx=P,I.sy=P,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}let F=(0,l.approximateFraction)(I.sx),B=(0,l.approximateFraction)(I.sy);M.width=(0,l.roundToDivide)(E.width*I.sx,F[0]),M.height=(0,l.roundToDivide)(E.height*I.sy,B[0]),M.style.width=(0,l.roundToDivide)(E.width,F[1])+"px",M.style.height=(0,l.roundToDivide)(E.height,B[1])+"px",this.paintedViewportMap.set(M,E);let _=I.scaled?[I.sx,0,0,I.sy,0,0]:null,O={canvasContext:b,transform:_,viewport:this.viewport,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},q=this.pdfPage.render(O);return q.onContinue=function($){y(),C.onRenderContinue?C.onRenderContinue($):$()},q.promise.then(function(){y(),v.resolve()},function($){y(),v.reject($)}),C}paintOnSvg(p){let v=!1,C=()=>{if(v)throw new a.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},E=this.pdfPage,M=this.viewport.clone({scale:a.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:E.getOperatorList({annotationMode:this.#e}).then(y=>(C(),new a.SVGGraphics(E.commonObjs,E.objs).getSVG(y,M).then(I=>{C(),this.svg=I,this.paintedViewportMap.set(I,M),I.style.width=p.style.width,I.style.height=p.style.height,this.renderingState=l.RenderingStates.FINISHED,p.append(I)}))),onRenderContinue(y){y()},cancel(){v=!0},get separateAnnots(){return!1}}}setPageLabel(p){this.pageLabel=typeof p=="string"?p:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{initialOptionalContent:p,regularAnnotations:v}=this.#t;return p&&v?this.canvas:null}}s.PDFPageView=m},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compatibilityParams=s.OptionKind=s.AppOptions=void 0;let o=Object.create(null);s.compatibilityParams=o;{let u=navigator.userAgent||"",h=navigator.platform||"",m=navigator.maxTouchPoints||1,f=/Android/.test(u),p=/\b(iPad|iPhone|iPod)(?=;)/.test(u)||h==="MacIntel"&&m>1;(function(){(p||f)&&(o.maxCanvasPixels=5242880)})()}let a={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};s.OptionKind=a;let l={annotationEditorMode:{value:-1,kind:a.VIEWER+a.PREFERENCE},annotationMode:{value:2,kind:a.VIEWER+a.PREFERENCE},cursorToolOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},defaultZoomValue:{value:"",kind:a.VIEWER+a.PREFERENCE},disableHistory:{value:!1,kind:a.VIEWER},disablePageLabels:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePermissions:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:a.VIEWER+a.PREFERENCE},enableScripting:{value:!0,kind:a.VIEWER+a.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:a.VIEWER},externalLinkTarget:{value:0,kind:a.VIEWER+a.PREFERENCE},historyUpdateUrl:{value:!1,kind:a.VIEWER+a.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:a.VIEWER+a.PREFERENCE},imageResourcesPath:{value:"./images/",kind:a.VIEWER},maxCanvasPixels:{value:16777216,kind:a.VIEWER},forcePageColors:{value:!1,kind:a.VIEWER+a.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:a.VIEWER+a.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:a.VIEWER+a.PREFERENCE},pdfBugEnabled:{value:!1,kind:a.VIEWER+a.PREFERENCE},printResolution:{value:150,kind:a.VIEWER},sidebarViewOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},scrollModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},spreadModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},textLayerMode:{value:1,kind:a.VIEWER+a.PREFERENCE},useOnlyCssZoom:{value:!1,kind:a.VIEWER+a.PREFERENCE},viewerCssTheme:{value:0,kind:a.VIEWER+a.PREFERENCE},viewOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},cMapPacked:{value:!0,kind:a.API},cMapUrl:{value:"../web/cmaps/",kind:a.API},disableAutoFetch:{value:!1,kind:a.API+a.PREFERENCE},disableFontFace:{value:!1,kind:a.API+a.PREFERENCE},disableRange:{value:!1,kind:a.API+a.PREFERENCE},disableStream:{value:!1,kind:a.API+a.PREFERENCE},docBaseUrl:{value:"",kind:a.API},enableXfa:{value:!0,kind:a.API+a.PREFERENCE},fontExtraProperties:{value:!1,kind:a.API},isEvalSupported:{value:!0,kind:a.API},maxImageSize:{value:-1,kind:a.API},pdfBug:{value:!1,kind:a.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:a.API},verbosity:{value:1,kind:a.API},workerPort:{value:null,kind:a.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:a.WORKER}};l.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:a.VIEWER},l.disablePreferences={value:!1,kind:a.VIEWER},l.locale={value:navigator.language||"en-US",kind:a.VIEWER},l.renderer={value:"canvas",kind:a.VIEWER+a.PREFERENCE},l.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:a.VIEWER};let c=Object.create(null);class d{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(h){let m=c[h];if(m!==void 0)return m;let f=l[h];if(f!==void 0)return o[h]??f.value}static getAll(h=null){let m=Object.create(null);for(let f in l){let p=l[f];if(h){if(!(h&p.kind))continue;if(h===a.PREFERENCE){let C=p.value,E=typeof C;if(E==="boolean"||E==="string"||E==="number"&&Number.isInteger(C)){m[f]=C;continue}throw new Error(`Invalid type for preference: ${f}`)}}let v=c[f];m[f]=v!==void 0?v:o[f]??p.value}return m}static set(h,m){c[h]=m}static setAll(h){for(let m in h)c[m]=h[m]}static remove(h){delete c[h]}static _hasUserOptions(){return Object.keys(c).length>0}}s.AppOptions=d},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextAccessibilityManager=void 0;var a=o(7);class l{#e=!1;#t=null;#n=new Map;#r=new Map;setTextMapping(d){this.#t=d}static#s(d,u){let h=d.getBoundingClientRect(),m=u.getBoundingClientRect();if(h.width===0&&h.height===0)return 1;if(m.width===0&&m.height===0)return-1;let f=h.y,p=h.y+h.height,v=h.y+h.height/2,C=m.y,E=m.y+m.height,M=m.y+m.height/2;if(v<=C&&M>=p)return-1;if(M<=f&&v>=E)return 1;let D=h.x+h.width/2,y=m.x+m.width/2;return D-y}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(l.#s),this.#n.size>0){let d=this.#t;for(let[u,h]of this.#n){if(!document.getElementById(u)){this.#n.delete(u);continue}this.#c(u,d[h])}}for(let[d,u]of this.#r)this.addPointerInTextLayer(d,u);this.#r.clear()}disable(){this.#e&&(this.#r.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(d){if(!this.#e){this.#r.delete(d);return}let u=this.#t;if(!u||u.length===0)return;let{id:h}=d,m=this.#n.get(h);if(m===void 0)return;let f=u[m];this.#n.delete(h);let p=f.getAttribute("aria-owns");p?.includes(h)&&(p=p.split(" ").filter(v=>v!==h).join(" "),p?f.setAttribute("aria-owns",p):(f.removeAttribute("aria-owns"),f.setAttribute("role","presentation")))}#c(d,u){let h=u.getAttribute("aria-owns");h?.includes(d)||u.setAttribute("aria-owns",h?`${h} ${d}`:d),u.removeAttribute("role")}addPointerInTextLayer(d,u){let{id:h}=d;if(!h)return;if(!this.#e){this.#r.set(d,u);return}u&&this.removePointerInTextLayer(d);let m=this.#t;if(!m||m.length===0)return;let f=(0,a.binarySearchFirstItem)(m,v=>l.#s(d,v)<0),p=Math.max(0,f-1);this.#c(h,m[p]),this.#n.set(h,p)}moveElementInDOM(d,u,h,m){if(this.addPointerInTextLayer(h,m),!d.hasChildNodes()){d.append(u);return}let f=Array.from(d.childNodes).filter(C=>C!==u);if(f.length===0)return;let p=h||u,v=(0,a.binarySearchFirstItem)(f,C=>l.#s(p,C)<0);v===0?f[0].before(u):f[v-1].after(u)}}s.TextAccessibilityManager=l},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFRenderingQueue=void 0;var a=o(3),l=o(7);let c=3e4;class d{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(h){this.pdfViewer=h}setThumbnailViewer(h){this.pdfThumbnailViewer=h}isHighestPriority(h){return this.highestPriorityPage===h.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(h){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(h)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),c)))}getHighestPriority(h,m,f,p=!1){let v=h.views,C=v.length;if(C===0)return null;for(let b=0;b<C;b++){let I=v[b].view;if(!this.isViewFinished(I))return I}let E=h.first.id,M=h.last.id;if(M-E+1>C){let b=h.ids;for(let I=1,F=M-E;I<F;I++){let B=f?E+I:M-I;if(b.has(B))continue;let _=m[B-1];if(!this.isViewFinished(_))return _}}let D=f?M:E-2,y=m[D];return y&&!this.isViewFinished(y)||p&&(D+=f?1:-1,y=m[D],y&&!this.isViewFinished(y))?y:null}isViewFinished(h){return h.renderingState===l.RenderingStates.FINISHED}renderView(h){switch(h.renderingState){case l.RenderingStates.FINISHED:return!1;case l.RenderingStates.PAUSED:this.highestPriorityPage=h.renderingId,h.resume();break;case l.RenderingStates.RUNNING:this.highestPriorityPage=h.renderingId;break;case l.RenderingStates.INITIAL:this.highestPriorityPage=h.renderingId,h.draw().finally(()=>{this.renderHighestPriority()}).catch(m=>{m instanceof a.RenderingCancelledException||console.error(`renderView: "${m}"`)});break}return!0}}s.PDFRenderingQueue=d},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextHighlighter=void 0;class o{constructor({findController:l,eventBus:c,pageIndex:d}){this.findController=l,this.matches=[],this.eventBus=c,this.pageIdx=d,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(l,c){this.textDivs=l,this.textContentItemsStr=c}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=l=>{(l.pageIndex===this.pageIdx||l.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(l,c){if(!l)return[];let{textContentItemsStr:d}=this,u=0,h=0,m=d.length-1,f=[];for(let p=0,v=l.length;p<v;p++){let C=l[p];for(;u!==m&&C>=h+d[u].length;)h+=d[u].length,u++;u===d.length&&console.error("Could not find a matching mapping");let E={begin:{divIdx:u,offset:C-h}};for(C+=c[p];u!==m&&C>h+d[u].length;)h+=d[u].length,u++;E.end={divIdx:u,offset:C-h},f.push(E)}return f}_renderMatches(l){if(l.length===0)return;let{findController:c,pageIdx:d}=this,{textContentItemsStr:u,textDivs:h}=this,m=d===c.selected.pageIdx,f=c.selected.matchIdx,p=c.state.highlightAll,v=null,C={divIdx:-1,offset:void 0};function E(b,I){let F=b.divIdx;return h[F].textContent="",M(F,0,b.offset,I)}function M(b,I,F,B){let _=h[b];if(_.nodeType===Node.TEXT_NODE){let $=document.createElement("span");_.before($),$.append(_),h[b]=$,_=$}let O=u[b].substring(I,F),q=document.createTextNode(O);if(B){let $=document.createElement("span");return $.className=`${B} appended`,$.append(q),_.append($),B.includes("selected")?$.offsetLeft:0}return _.append(q),0}let D=f,y=D+1;if(p)D=0,y=l.length;else if(!m)return;for(let b=D;b<y;b++){let I=l[b],F=I.begin,B=I.end,_=m&&b===f,O=_?" selected":"",q=0;if(!v||F.divIdx!==v.divIdx?(v!==null&&M(v.divIdx,v.offset,C.offset),E(F)):M(v.divIdx,v.offset,F.offset),F.divIdx===B.divIdx)q=M(F.divIdx,F.offset,B.offset,"highlight"+O);else{q=M(F.divIdx,F.offset,C.offset,"highlight begin"+O);for(let $=F.divIdx+1,P=B.divIdx;$<P;$++)h[$].className="highlight middle"+O;E(B,"highlight end"+O)}v=B,_&&c.scrollMatchIntoView({element:h[F.divIdx],selectedLeft:q,pageIndex:d,matchIndex:f})}v&&M(v.divIdx,v.offset,C.offset)}_updateMatches(){if(!this.enabled)return;let{findController:l,matches:c,pageIdx:d}=this,{textContentItemsStr:u,textDivs:h}=this,m=-1;for(let v=0,C=c.length;v<C;v++){let E=c[v],M=Math.max(m,E.begin.divIdx);for(let D=M,y=E.end.divIdx;D<=y;D++){let b=h[D];b.textContent=u[D],b.className=""}m=E.end.divIdx+1}if(!l?.highlightMatches)return;let f=l.pageMatches[d]||null,p=l.pageMatchesLength[d]||null;this.matches=this._convertMatches(f,p),this._renderMatches(this.matches)}}s.TextHighlighter=o},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DownloadManager=void 0;var a=o(3);function l(d,u){let h=document.createElement("a");if(!h.click)throw new Error('DownloadManager: "a.click()" is not supported.');h.href=d,h.target="_parent","download"in h&&(h.download=u),(document.body||document.documentElement).append(h),h.click(),h.remove()}class c{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(u,h){if(!(0,a.createValidAbsoluteUrl)(u,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${u}`);return}l(u+"#pdfjs.action=download",h)}downloadData(u,h,m){let f=URL.createObjectURL(new Blob([u],{type:m}));l(f,h)}openOrDownloadData(u,h,m){let f=(0,a.isPdfFile)(m),p=f?"application/pdf":"";if(f){let v=this._openBlobUrls.get(u);v||(v=URL.createObjectURL(new Blob([h],{type:p})),this._openBlobUrls.set(u,v));let C;C="?file="+encodeURIComponent(v+"#"+m);try{return window.open(C),!0}catch(E){console.error(`openOrDownloadData: ${E}`),URL.revokeObjectURL(v),this._openBlobUrls.delete(u)}}return this.downloadData(h,m,p),!1}download(u,h,m){let f=URL.createObjectURL(u);l(f,m)}}s.DownloadManager=c},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WaitOnType=s.EventBus=s.AutomationEventBus=void 0,s.waitOnEventOrTimeout=a;let o={EVENT:"event",TIMEOUT:"timeout"};s.WaitOnType=o;function a({target:d,name:u,delay:h=0}){return new Promise(function(m,f){if(typeof d!="object"||!(u&&typeof u=="string")||!(Number.isInteger(h)&&h>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function p(M){d instanceof l?d._off(u,v):d.removeEventListener(u,v),E&&clearTimeout(E),m(M)}let v=p.bind(null,o.EVENT);d instanceof l?d._on(u,v):d.addEventListener(u,v);let C=p.bind(null,o.TIMEOUT),E=setTimeout(C,h)})}class l{constructor(){this._listeners=Object.create(null)}on(u,h,m=null){this._on(u,h,{external:!0,once:m?.once})}off(u,h,m=null){this._off(u,h,{external:!0,once:m?.once})}dispatch(u,h){let m=this._listeners[u];if(!m||m.length===0)return;let f;for(let{listener:p,external:v,once:C}of m.slice(0)){if(C&&this._off(u,p),v){(f||=[]).push(p);continue}p(h)}if(f){for(let p of f)p(h);f=null}}_on(u,h,m=null){(this._listeners[u]||=[]).push({listener:h,external:m?.external===!0,once:m?.once===!0})}_off(u,h,m=null){let f=this._listeners[u];if(f){for(let p=0,v=f.length;p<v;p++)if(f[p].listener===h){f.splice(p,1);return}}}}s.EventBus=l;class c extends l{dispatch(u,h){throw new Error("Not implemented: AutomationEventBus.dispatch")}}s.AutomationEventBus=c},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericL10n=void 0,o(21);var a=o(4);let l=document.webL10n;class c{constructor(u){this._lang=u,this._ready=new Promise((h,m)=>{l.setLanguage((0,a.fixupLangCode)(u),()=>{h(l)})})}getLanguage(){return le(this,null,function*(){return(yield this._ready).getLanguage()})}getDirection(){return le(this,null,function*(){return(yield this._ready).getDirection()})}get(f){return le(this,arguments,function*(u,h=null,m=(0,a.getL10nFallback)(u,h)){return(yield this._ready).get(u,h,m)})}translate(u){return le(this,null,function*(){return(yield this._ready).translate(u)})}}s.GenericL10n=c},()=>{document.webL10n=function(i,s,o){var a={},l="",c="textContent",d="",u={},h="loading",m=!0;function f(){return s.querySelectorAll('link[type="application/l10n"]')}function p(){var $=s.querySelector('script[type="application/l10n"]');return $?JSON.parse($.innerHTML):null}function v($){return $?$.querySelectorAll("*[data-l10n-id]"):[]}function C($){if(!$)return{};var P=$.getAttribute("data-l10n-id"),T=$.getAttribute("data-l10n-args"),R={};if(T)try{R=JSON.parse(T)}catch{console.warn("could not parse arguments for #"+P)}return{id:P,args:R}}function E($,P,T){P=P||function(H){},T=T||function(){};var R=new XMLHttpRequest;R.open("GET",$,m),R.overrideMimeType&&R.overrideMimeType("text/plain; charset=utf-8"),R.onreadystatechange=function(){R.readyState==4&&(R.status==200||R.status===0?P(R.responseText):T())},R.onerror=T,R.ontimeout=T;try{R.send(null)}catch{T()}}function M($,P,T,R){var U=$.replace(/[^\/]*$/,"")||"./";function H(S){return S.lastIndexOf("\\")<0?S:S.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function x(S,A){var L={},j=/^\s*|\s*$/,g=/^\s*#|^\s*$/,w=/^\s*\[(.*)\]\s*$/,N=/^\s*@import\s+url\((.*)\)\s*$/i,k=/^([^=\s]*)\s*=\s*(.+)$/;function V(z,X,K){var Y=z.replace(j,"").split(/[\r\n]+/),G="*",Z=P.split("-",1)[0],ee=!1,te="";function re(){for(;;){if(!Y.length){K();return}var ie=Y.shift();if(!g.test(ie)){if(X){if(te=w.exec(ie),te){G=te[1].toLowerCase(),ee=G!=="*"&&G!==P&&G!==Z;continue}else if(ee)continue;if(te=N.exec(ie),te){W(U+te[1],re);return}}var oe=ie.match(k);oe&&oe.length==3&&(L[oe[1]]=H(oe[2]))}}}re()}function W(z,X){E(z,function(K){V(K,!1,X)},function(){console.warn(z+" not found."),X()})}V(S,!0,function(){A(L)})}E($,function(S){l+=S,x(S,function(A){for(var L in A){var j,g,w=L.lastIndexOf(".");w>0?(j=L.substring(0,w),g=L.substring(w+1)):(j=L,g=c),a[j]||(a[j]={}),a[j][g]=A[L]}T&&T()})},R)}function D($,P){$&&($=$.toLowerCase()),P=P||function(){},y(),d=$;var T=f(),R=T.length;if(R===0){var U=p();if(U&&U.locales&&U.default_locale){if(console.log("using the embedded JSON directory, early way out"),a=U.locales[$],!a){var H=U.default_locale.toLowerCase();for(var x in U.locales)if(x=x.toLowerCase(),x===$){a=U.locales[$];break}else x===H&&(a=U.locales[H])}P()}else console.log("no resource to load, early way out");h="complete";return}var S=null,A=0;S=function(){A++,A>=R&&(P(),h="complete")};function L(w){var N=w.href;this.load=function(k,V){M(N,k,V,function(){console.warn(N+" not found."),console.warn('"'+k+'" resource not found'),d="",V()})}}for(var j=0;j<R;j++){var g=new L(T[j]);g.load($,S)}}function y(){a={},l="",d=""}function b($){var P={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function T(x,S){return S.indexOf(x)!==-1}function R(x,S,A){return S<=x&&x<=A}var U={0:function(x){return"other"},1:function(x){return R(x%100,3,10)?"few":x===0?"zero":R(x%100,11,99)?"many":x==2?"two":x==1?"one":"other"},2:function(x){return x!==0&&x%10===0?"many":x==2?"two":x==1?"one":"other"},3:function(x){return x==1?"one":"other"},4:function(x){return R(x,0,1)?"one":"other"},5:function(x){return R(x,0,2)&&x!=2?"one":"other"},6:function(x){return x===0?"zero":x%10==1&&x%100!=11?"one":"other"},7:function(x){return x==2?"two":x==1?"one":"other"},8:function(x){return R(x,3,6)?"few":R(x,7,10)?"many":x==2?"two":x==1?"one":"other"},9:function(x){return x===0||x!=1&&R(x%100,1,19)?"few":x==1?"one":"other"},10:function(x){return R(x%10,2,9)&&!R(x%100,11,19)?"few":x%10==1&&!R(x%100,11,19)?"one":"other"},11:function(x){return R(x%10,2,4)&&!R(x%100,12,14)?"few":x%10===0||R(x%10,5,9)||R(x%100,11,14)?"many":x%10==1&&x%100!=11?"one":"other"},12:function(x){return R(x,2,4)?"few":x==1?"one":"other"},13:function(x){return R(x%10,2,4)&&!R(x%100,12,14)?"few":x!=1&&R(x%10,0,1)||R(x%10,5,9)||R(x%100,12,14)?"many":x==1?"one":"other"},14:function(x){return R(x%100,3,4)?"few":x%100==2?"two":x%100==1?"one":"other"},15:function(x){return x===0||R(x%100,2,10)?"few":R(x%100,11,19)?"many":x==1?"one":"other"},16:function(x){return x%10==1&&x!=11?"one":"other"},17:function(x){return x==3?"few":x===0?"zero":x==6?"many":x==2?"two":x==1?"one":"other"},18:function(x){return x===0?"zero":R(x,0,2)&&x!==0&&x!=2?"one":"other"},19:function(x){return R(x,2,10)?"few":R(x,0,1)?"one":"other"},20:function(x){return(R(x%10,3,4)||x%10==9)&&!(R(x%100,10,19)||R(x%100,70,79)||R(x%100,90,99))?"few":x%1e6===0&&x!==0?"many":x%10==2&&!T(x%100,[12,72,92])?"two":x%10==1&&!T(x%100,[11,71,91])?"one":"other"},21:function(x){return x===0?"zero":x==1?"one":"other"},22:function(x){return R(x,0,1)||R(x,11,99)?"one":"other"},23:function(x){return R(x%10,1,2)||x%20===0?"one":"other"},24:function(x){return R(x,3,10)||R(x,13,19)?"few":T(x,[2,12])?"two":T(x,[1,11])?"one":"other"}},H=P[$.replace(/-.*$/,"")];return H in U?U[H]:(console.warn("plural form unknown for ["+$+"]"),function(){return"other"})}u.plural=function($,P,T,R){var U=parseFloat(P);if(isNaN(U)||R!=c)return $;u._pluralRules||(u._pluralRules=b(d));var H="["+u._pluralRules(U)+"]";return U===0&&T+"[zero]"in a?$=a[T+"[zero]"][R]:U==1&&T+"[one]"in a?$=a[T+"[one]"][R]:U==2&&T+"[two]"in a?$=a[T+"[two]"][R]:T+H in a?$=a[T+H][R]:T+"[other]"in a&&($=a[T+"[other]"][R]),$};function I($,P,T){var R=a[$];if(!R){if(console.warn("#"+$+" is undefined."),!T)return null;R=T}var U={};for(var H in R){var x=R[H];x=F(x,P,$,H),x=B(x,P,$),U[H]=x}return U}function F($,P,T,R){var U=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,H=U.exec($);if(!H||!H.length)return $;var x=H[1],S=H[2],A;if(P&&S in P?A=P[S]:S in a&&(A=a[S]),x in u){var L=u[x];$=L($,A,T,R)}return $}function B($,P,T){var R=/\{\{\s*(.+?)\s*\}\}/g;return $.replace(R,function(U,H){return P&&H in P?P[H]:H in a?a[H]:(console.log("argument {{"+H+"}} for #"+T+" is undefined."),U)})}function _($){var P=C($);if(P.id){var T=I(P.id,P.args);if(!T){console.warn("#"+P.id+" is undefined.");return}if(T[c]){if(O($)===0)$[c]=T[c];else{for(var R=$.childNodes,U=!1,H=0,x=R.length;H<x;H++)R[H].nodeType===3&&/\S/.test(R[H].nodeValue)&&(U?R[H].nodeValue="":(R[H].nodeValue=T[c],U=!0));if(!U){var S=s.createTextNode(T[c]);$.prepend(S)}}delete T[c]}for(var A in T)$[A]=T[A]}}function O($){if($.children)return $.children.length;if(typeof $.childElementCount<"u")return $.childElementCount;for(var P=0,T=0;T<$.childNodes.length;T++)P+=$.nodeType===1?1:0;return P}function q($){$=$||s.documentElement;for(var P=v($),T=P.length,R=0;R<T;R++)_(P[R]);_($)}return{get:function($,P,T){var R=$.lastIndexOf("."),U=c;R>0&&(U=$.substring(R+1),$=$.substring(0,R));var H;T&&(H={},H[U]=T);var x=I($,P,H);return x&&U in x?x[U]:"{{"+$+"}}"},getData:function(){return a},getText:function(){return l},getLanguage:function(){return d},setLanguage:function($,P){D($,function(){P&&P()})},getDirection:function(){var $=["ar","he","fa","ps","ur"],P=d.split("-",1)[0];return $.indexOf(P)>=0?"rtl":"ltr"},translate:q,getReadyState:function(){return h},ready:function($){if($)h=="complete"||h=="interactive"?i.setTimeout(function(){$()}):s.addEventListener&&s.addEventListener("localized",function P(){s.removeEventListener("localized",P),$()});else return}}}(window,document)},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFindController=s.FindState=void 0;var a=o(7),l=o(3),c=o(23);let d={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};s.FindState=d;let u=250,h=-50,m=-400,f={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},p=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),v=[...p.values()].map($=>String.fromCharCode($)).join(""),C=new RegExp("\\p{M}+","gu"),E=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),M=new RegExp("([^\\p{M}])\\p{M}*$","u"),D=new RegExp("^\\p{M}*([^\\p{M}])","u"),y=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,b=new Map,I="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",F=null,B=null;function _($){let P=[],T;for(;(T=y.exec($))!==null;){let{index:N}=T;for(let k of T[0]){let V=b.get(k);V||(V=k.normalize("NFD").length,b.set(k,V)),P.push([V,N++])}}let R;if(P.length===0&&F)R=F;else if(P.length>0&&B)R=B;else{let k=`([${Object.keys(f).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;P.length===0?R=F=new RegExp(k+"|(\\u0000)","gum"):R=B=new RegExp(k+`|(${I})`,"gum")}let U=[];for(;(T=C.exec($))!==null;)U.push([T[0].length,T.index]);let H=$.normalize("NFD"),x=[[0,0]],S=0,A=0,L=0,j=0,g=0,w=!1;return H=H.replace(R,(N,k,V,W,z,X,K)=>{if(K-=j,k){let Y=f[N],G=Y.length;for(let Z=1;Z<G;Z++)x.push([K-L+Z,L-Z]);return L-=G-1,Y}if(V){let Y=V.endsWith(`
`),G=Y?V.length-2:V.length;w=!0;let Z=G;K+g===U[S]?.[1]&&(Z-=U[S][0],++S);for(let ee=1;ee<=Z;ee++)x.push([K-1-L+ee,L-ee]);return L-=Z,j+=Z,Y?(K+=G-1,x.push([K-L+1,1+L]),L+=1,j+=1,g+=1,V.slice(0,G)):V}if(W)return x.push([K-L+1,1+L]),L+=1,j+=1,g+=1,W.charAt(0);if(z)return x.push([K-L+1,L-1]),L-=1,j+=1,g+=1," ";if(K+g===P[A]?.[1]){let Y=P[A][0]-1;++A;for(let G=1;G<=Y;G++)x.push([K-(L-G),L-G]);L-=Y,j+=Y}return X}),x.push([H.length,L]),[H,x,w]}function O($,P,T){if(!$)return[P,T];let R=P,U=P+T,H=(0,a.binarySearchFirstItem)($,S=>S[0]>=R);$[H][0]>R&&--H;let x=(0,a.binarySearchFirstItem)($,S=>S[0]>=U,H);return $[x][0]>U&&--x,[R+$[H][1],T+$[x][1]-$[H][1]]}class q{constructor({linkService:P,eventBus:T}){this._linkService=P,this._eventBus=T,this.#t(),T._on("find",this.#e.bind(this)),T._on("findbarclose",this.#v.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(P){this._pdfDocument&&this.#t(),P&&(this._pdfDocument=P,this._firstPageCapability.resolve())}#e(P){if(!P)return;let T=this._pdfDocument,{type:R}=P;(this._state===null||this.#r(P))&&(this._dirtyMatch=!0),this._state=P,R!=="highlightallchange"&&this.#d(d.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||T&&this._pdfDocument!==T)return;this.#h();let U=!this._highlightMatches,H=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),R?this._dirtyMatch?this.#o():R==="again"?(this.#o(),U&&this._state.highlightAll&&this.#l()):R==="highlightallchange"?(H?this.#o():this._highlightMatches=!0,this.#l()):this.#o():this._findTimeout=setTimeout(()=>{this.#o(),this._findTimeout=null},u)})}scrollMatchIntoView({element:P=null,selectedLeft:T=0,pageIndex:R=-1,matchIndex:U=-1}){if(!this._scrollMatches||!P)return;if(U===-1||U!==this._selected.matchIdx)return;if(R===-1||R!==this._selected.pageIdx)return;this._scrollMatches=!1;let H={top:h,left:T+m};(0,a.scrollIntoView)(P,H,!0)}#t(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,l.createPromiseCapability)()}get#n(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=_(this._state.query)),this._normalizedQuery}#r(P){if(P.query!==this._state.query)return!0;switch(P.type){case"again":let T=this._selected.pageIdx+1,R=this._linkService;return T>=1&&T<=R.pagesCount&&T!==R.page&&!R.isPageVisible(T);case"highlightallchange":return!1}return!0}#s(P,T,R){let U=P.slice(0,T).match(M);if(U){let H=P.charCodeAt(T),x=U[1].charCodeAt(0);if((0,c.getCharacterType)(H)===(0,c.getCharacterType)(x))return!1}if(U=P.slice(T+R).match(D),U){let H=P.charCodeAt(T+R-1),x=U[1].charCodeAt(0);if((0,c.getCharacterType)(H)===(0,c.getCharacterType)(x))return!1}return!0}#c(P,T,R,U){let H=[],x=[],S=this._pageDiffs[R],A;for(;(A=P.exec(U))!==null;){if(T&&!this.#s(U,A.index,A[0].length))continue;let[L,j]=O(S,A.index,A[0].length);j&&(H.push(L),x.push(j))}this._pageMatches[R]=H,this._pageMatchesLength[R]=x}#a(P,T){let{matchDiacritics:R}=this._state,U=!1;P=P.replace(E,(x,S,A,L,j,g)=>S?`[ ]*\\${S}[ ]*`:A?`[ ]*${A}[ ]*`:L?"[ ]+":R?j||g:j?p.has(j.charCodeAt(0))?j:"":T?(U=!0,`${g}\\p{M}*`):g);let H="[ ]*";return P.endsWith(H)&&(P=P.slice(0,P.length-H.length)),R&&T&&(U=!0,P=`${P}(?=[${v}]|[^\\p{M}]|$)`),[U,P]}#i(P){let T=this.#n;if(T.length===0)return;let{caseSensitive:R,entireWord:U,phraseSearch:H}=this._state,x=this._pageContents[P],S=this._hasDiacritics[P],A=!1;if(H)[A,T]=this.#a(T,S);else{let g=T.match(/\S+/g);g&&(T=g.sort().reverse().map(w=>{let[N,k]=this.#a(w,S);return A||=N,`(${k})`}).join("|"))}let L=`g${A?"u":""}${R?"":"i"}`;T=new RegExp(T,L),this.#c(T,U,P,x),this._state.highlightAll&&this.#u(P),this._resumePageIdx===P&&(this._resumePageIdx=null,this.#f());let j=this._pageMatches[P].length;j>0&&(this._matchesCountTotal+=j,this.#_())}#h(){if(this._extractTextPromises.length>0)return;let P=Promise.resolve();for(let T=0,R=this._linkService.pagesCount;T<R;T++){let U=(0,l.createPromiseCapability)();this._extractTextPromises[T]=U.promise,P=P.then(()=>this._pdfDocument.getPage(T+1).then(H=>H.getTextContent()).then(H=>{let x=[];for(let S of H.items)x.push(S.str),S.hasEOL&&x.push(`
`);[this._pageContents[T],this._pageDiffs[T],this._hasDiacritics[T]]=_(x.join("")),U.resolve()},H=>{console.error(`Unable to get text content for page ${T+1}`,H),this._pageContents[T]="",this._pageDiffs[T]=null,this._hasDiacritics[T]=!1,U.resolve()}))}}#u(P){this._scrollMatches&&this._selected.pageIdx===P&&(this._linkService.page=P+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:P})}#l(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#o(){let P=this._state.findPrevious,T=this._linkService.page-1,R=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=T,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this.#l();for(let H=0;H<R;H++)this._pendingFindMatches.has(H)||(this._pendingFindMatches.add(H),this._extractTextPromises[H].then(()=>{this._pendingFindMatches.delete(H),this.#i(H)}))}if(this.#n===""){this.#d(d.FOUND);return}if(this._resumePageIdx)return;let U=this._offset;if(this._pagesToSearch=R,U.matchIdx!==null){let H=this._pageMatches[U.pageIdx].length;if(!P&&U.matchIdx+1<H||P&&U.matchIdx>0){U.matchIdx=P?U.matchIdx-1:U.matchIdx+1,this.#m(!0);return}this.#y(P)}this.#f()}#p(P){let T=this._offset,R=P.length,U=this._state.findPrevious;return R?(T.matchIdx=U?R-1:0,this.#m(!0),!0):(this.#y(U),T.wrapped&&(T.matchIdx=null,this._pagesToSearch<0)?(this.#m(!1),!0):!1)}#f(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let P=null;do{let T=this._offset.pageIdx;if(P=this._pageMatches[T],!P){this._resumePageIdx=T;break}}while(!this.#p(P))}#y(P){let T=this._offset,R=this._linkService.pagesCount;T.pageIdx=P?T.pageIdx-1:T.pageIdx+1,T.matchIdx=null,this._pagesToSearch--,(T.pageIdx>=R||T.pageIdx<0)&&(T.pageIdx=P?R-1:0,T.wrapped=!0)}#m(P=!1){let T=d.NOT_FOUND,R=this._offset.wrapped;if(this._offset.wrapped=!1,P){let U=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,T=R?d.WRAPPED:d.FOUND,U!==-1&&U!==this._selected.pageIdx&&this.#u(U)}this.#d(T,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#u(this._selected.pageIdx))}#v(P){let T=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||T&&this._pdfDocument!==T||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#d(d.FOUND),this._highlightMatches=!1,this.#l())})}#C(){let{pageIdx:P,matchIdx:T}=this._selected,R=0,U=this._matchesCountTotal;if(T!==-1){for(let H=0;H<P;H++)R+=this._pageMatches[H]?.length||0;R+=T+1}return(R<1||R>U)&&(R=U=0),{current:R,total:U}}#_(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#C()})}#d(P,T=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:P,previous:T,matchesCount:this.#C(),rawQuery:this._state?.query??null})}}s.PDFFindController=q},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterType=void 0,s.getCharacterType=C;let o={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};s.CharacterType=o;function a(E){return E<11904}function l(E){return(E&65408)===0}function c(E){return E>=97&&E<=122||E>=65&&E<=90}function d(E){return E>=48&&E<=57}function u(E){return E===32||E===9||E===13||E===10}function h(E){return E>=13312&&E<=40959||E>=63744&&E<=64255}function m(E){return E>=12448&&E<=12543}function f(E){return E>=12352&&E<=12447}function p(E){return E>=65376&&E<=65439}function v(E){return(E&65408)===3584}function C(E){return a(E)?l(E)?u(E)?o.SPACE:c(E)||d(E)||E===95?o.ALPHA_LETTER:o.PUNCT:v(E)?o.THAI_LETTER:E===160?o.SPACE:o.ALPHA_LETTER:h(E)?o.HAN_LETTER:m(E)?o.KATAKANA_LETTER:f(E)?o.HIRAGANA_LETTER:p(E)?o.HALFWIDTH_KATAKANA_LETTER:o.ALPHA_LETTER}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFHistory=void 0,s.isDestArraysEqual=p,s.isDestHashesEqual=f;var a=o(7),l=o(19);let c=1e3,d=50,u=1e3;function h(){return document.location.hash}class m{constructor({linkService:C,eventBus:E}){this.linkService=C,this.eventBus=E,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",M=>{this._isPagesLoaded=!!M.pagesCount},{once:!0})})}initialize({fingerprint:C,resetHistory:E=!1,updateUrl:M=!1}){if(!C||typeof C!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let D=this._fingerprint!==""&&this._fingerprint!==C;this._fingerprint=C,this._updateUrl=M===!0,this._initialized=!0,this._bindEvents();let y=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=h(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(y,!0)||E){let{hash:I,page:F,rotation:B}=this._parseCurrentHash(!0);if(!I||D||E){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:I,page:F,rotation:B},!0);return}let b=y.destination;this._updateInternalState(b,y.uid,!0),b.rotation!==void 0&&(this._initialRotation=b.rotation),b.dest?(this._initialBookmark=JSON.stringify(b.dest),this._destination.page=null):b.hash?this._initialBookmark=b.hash:b.page&&(this._initialBookmark=`page=${b.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:C=null,explicitDest:E,pageNumber:M}){if(!this._initialized)return;if(C&&typeof C!="string"){console.error(`PDFHistory.push: "${C}" is not a valid namedDest parameter.`);return}else if(Array.isArray(E)){if(!this._isValidPage(M)&&(M!==null||this._destination)){console.error(`PDFHistory.push: "${M}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${E}" is not a valid explicitDest parameter.`);return}let D=C||JSON.stringify(E);if(!D)return;let y=!1;if(this._destination&&(f(this._destination.hash,D)||p(this._destination.dest,E))){if(this._destination.page)return;y=!0}this._popStateInProgress&&!y||(this._pushOrReplaceState({dest:E,hash:D,page:M,rotation:this.linkService.rotation},y),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(C){if(this._initialized){if(!this._isValidPage(C)){console.error(`PDFHistory.pushPage: "${C}" is not a valid page number.`);return}this._destination?.page!==C&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${C}`,page:C,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;let C=window.history.state;this._isValidState(C)&&C.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let C=window.history.state;this._isValidState(C)&&C.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(C,E=!1){let M=E||!this._destination,D={fingerprint:this._fingerprint,uid:M?this._uid:this._uid+1,destination:C};this._updateInternalState(C,D.uid);let y;if(this._updateUrl&&C?.hash){let b=document.location.href.split("#")[0];b.startsWith("file://")||(y=`${b}#${C.hash}`)}M?window.history.replaceState(D,"",y):window.history.pushState(D,"",y)}_tryPushCurrentPosition(C=!1){if(!this._position)return;let E=this._position;if(C&&(E=Object.assign(Object.create(null),this._position),E.temporary=!0),!this._destination){this._pushOrReplaceState(E);return}if(this._destination.temporary){this._pushOrReplaceState(E,!0);return}if(this._destination.hash===E.hash||!this._destination.page&&(d<=0||this._numPositionUpdates<=d))return;let M=!1;if(this._destination.page>=E.first&&this._destination.page<=E.page){if(this._destination.dest!==void 0||!this._destination.first)return;M=!0}this._pushOrReplaceState(E,M)}_isValidPage(C){return Number.isInteger(C)&&C>0&&C<=this.linkService.pagesCount}_isValidState(C,E=!1){if(!C)return!1;if(C.fingerprint!==this._fingerprint)if(E){if(typeof C.fingerprint!="string"||C.fingerprint.length!==this._fingerprint.length)return!1;let[M]=performance.getEntriesByType("navigation");if(M?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(C.uid)||C.uid<0||C.destination===null||typeof C.destination!="object")}_updateInternalState(C,E,M=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),M&&C?.temporary&&delete C.temporary,this._destination=C,this._uid=E,this._maxUid=Math.max(this._maxUid,E),this._numPositionUpdates=0}_parseCurrentHash(C=!1){let E=unescape(h()).substring(1),M=(0,a.parseQueryString)(E),D=M.get("nameddest")||"",y=M.get("page")|0;return(!this._isValidPage(y)||C&&D.length>0)&&(y=null),{hash:E,page:y,rotation:this.linkService.rotation}}_updateViewarea({location:C}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:C.pdfOpenParams.substring(1),page:this.linkService.page,first:C.pageNumber,rotation:C.rotation},!this._popStateInProgress&&(d>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,u>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},u)))}_popState({state:C}){let E=h(),M=this._currentHash!==E;if(this._currentHash=E,!C){this._uid++;let{hash:y,page:b,rotation:I}=this._parseCurrentHash();this._pushOrReplaceState({hash:y,page:b,rotation:I},!0);return}if(!this._isValidState(C))return;this._popStateInProgress=!0,M&&(this._blockHashChange++,(0,l.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:c}).then(()=>{this._blockHashChange--}));let D=C.destination;this._updateInternalState(D,C.uid,!0),(0,a.isValidRotation)(D.rotation)&&(this.linkService.rotation=D.rotation),D.dest?this.linkService.goToDestination(D.dest):D.hash?this.linkService.setHash(D.hash):D.page&&(this.linkService.page=D.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}s.PDFHistory=m;function f(v,C){return typeof v!="string"||typeof C!="string"?!1:v===C||(0,a.parseQueryString)(v).get("nameddest")===C}function p(v,C){function E(M,D){if(typeof M!=typeof D||Array.isArray(M)||Array.isArray(D))return!1;if(M!==null&&typeof M=="object"&&D!==null){if(Object.keys(M).length!==Object.keys(D).length)return!1;for(let y in M)if(!E(M[y],D[y]))return!1;return!0}return M===D||Number.isNaN(M)&&Number.isNaN(D)}if(!(Array.isArray(v)&&Array.isArray(C))||v.length!==C.length)return!1;for(let M=0,D=v.length;M<D;M++)if(!E(v[M],C[M]))return!1;return!0}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFScriptingManager=void 0;var a=o(7),l=o(3);class c{constructor({eventBus:u,sandboxBundleSrc:h=null,scriptingFactory:m=null,docPropertiesLookup:f=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=u,this._sandboxBundleSrc=h,this._scriptingFactory=m,this._docPropertiesLookup=f,this._scriptingFactory||window.addEventListener("updatefromsandbox",p=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:p.detail})})}setViewer(u){this._pdfViewer=u}setDocument(u){return le(this,null,function*(){if(this._pdfDocument&&(yield this._destroyScripting()),this._pdfDocument=u,!u)return;let[h,m,f]=yield Promise.all([u.getFieldObjects(),u.getCalculationOrderIds(),u.getJSActions()]);if(!h&&!f){yield this._destroyScripting();return}if(u===this._pdfDocument){try{this._scripting=this._createScripting()}catch(p){console.error(`PDFScriptingManager.setDocument: "${p?.message}".`),yield this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",p=>{p?.source===window&&this._updateFromSandbox(p.detail)}),this._internalEvents.set("dispatcheventinsandbox",p=>{this._scripting?.dispatchEventInSandbox(p.detail)}),this._internalEvents.set("pagechanging",({pageNumber:p,previous:v})=>{p!==v&&(this._dispatchPageClose(v),this._dispatchPageOpen(p))}),this._internalEvents.set("pagerendered",({pageNumber:p})=>{this._pageOpenPending.has(p)&&p===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(p)}),this._internalEvents.set("pagesdestroy",p=>le(this,null,function*(){yield this._dispatchPageClose(this._pdfViewer.currentPageNumber),yield this._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this._closeCapability?.resolve()})),this._domEvents.set("mousedown",p=>{this._mouseState.isDown=!0}),this._domEvents.set("mouseup",p=>{this._mouseState.isDown=!1});for(let[p,v]of this._internalEvents)this._eventBus._on(p,v);for(let[p,v]of this._domEvents)window.addEventListener(p,v,!0);try{let p=yield this._getDocProperties();if(u!==this._pdfDocument)return;yield this._scripting.createSandbox({objects:h,calculationOrder:m,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Fe(ce({},p),{actions:f})}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(p){console.error(`PDFScriptingManager.setDocument: "${p?.message}".`),yield this._destroyScripting();return}yield this._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{u===this._pdfDocument&&(this._ready=!0)})}})}dispatchWillSave(u){return le(this,null,function*(){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(u){return le(this,null,function*(){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(u){return le(this,null,function*(){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})}dispatchDidPrint(u){return le(this,null,function*(){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,l.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,l.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,l.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,l.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(u){return le(this,null,function*(){let h=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:m,siblings:f,command:p,value:v}=u;if(!m){switch(p){case"clear":console.clear();break;case"error":console.error(v);break;case"layout":if(h)return;let E=(0,a.apiPageLayoutToViewerModes)(v);this._pdfViewer.spreadMode=E.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=v+1;break;case"print":yield this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(v);break;case"zoom":if(h)return;this._pdfViewer.currentScaleValue=v;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(h)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(h)return;this._pdfViewer.decreaseScale();break}return}if(h&&u.focus)return;delete u.id,delete u.siblings;let C=f?[m,...f]:[m];for(let E of C){let M=document.querySelector(`[data-element-id="${E}"]`);M?M.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:u})):this._pdfDocument?.annotationStorage.setValue(E,u)}})}_dispatchPageOpen(u,h=!1){return le(this,null,function*(){let m=this._pdfDocument,f=this._visitedPages;if(h&&(this._closeCapability=(0,l.createPromiseCapability)()),!this._closeCapability)return;let p=this._pdfViewer.getPageView(u-1);if(p?.renderingState!==a.RenderingStates.FINISHED){this._pageOpenPending.add(u);return}this._pageOpenPending.delete(u);let v=(()=>le(this,null,function*(){let C=yield f.has(u)?null:p.pdfPage?.getJSActions();m===this._pdfDocument&&(yield this._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:u,actions:C}))}))();f.set(u,v)})}_dispatchPageClose(u){return le(this,null,function*(){let h=this._pdfDocument,m=this._visitedPages;if(!this._closeCapability||this._pageOpenPending.has(u))return;let f=m.get(u);f&&(m.set(u,null),yield f,h===this._pdfDocument&&(yield this._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:u})))})}_getDocProperties(){return le(this,null,function*(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);let{docPropertiesLookup:u}=o(26);return u(this._pdfDocument)})}_createScripting(){if(this._destroyCapability=(0,l.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});let{GenericScripting:u}=o(26);return new u(this._sandboxBundleSrc)}_destroyScripting(){return le(this,null,function*(){if(!this._scripting){this._pdfDocument=null,this._destroyCapability?.resolve();return}this._closeCapability&&(yield Promise.race([this._closeCapability.promise,new Promise(u=>{setTimeout(u,1e3)})]).catch(u=>{}),this._closeCapability=null),this._pdfDocument=null;try{yield this._scripting.destroySandbox()}catch{}for(let[u,h]of this._internalEvents)this._eventBus._off(u,h);this._internalEvents.clear();for(let[u,h]of this._domEvents)window.removeEventListener(u,h,!0);this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,this._destroyCapability?.resolve()})}}s.PDFScriptingManager=c},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericScripting=void 0,s.docPropertiesLookup=l;var a=o(3);function l(d){return le(this,null,function*(){let u="",h=u.split("#")[0],{info:m,metadata:f,contentDispositionFilename:p,contentLength:v}=yield d.getMetadata();if(!v){let{length:C}=yield d.getDownloadInfo();v=C}return Fe(ce({},m),{baseURL:h,filesize:v,filename:p||(0,a.getPdfFilenameFromUrl)(u),metadata:f?.getRaw(),authors:f?.get("dc:creator"),numPages:d.numPages,URL:u})})}class c{constructor(u){this._ready=(0,a.loadScript)(u,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(u){return le(this,null,function*(){(yield this._ready).create(u)})}dispatchEventInSandbox(u){return le(this,null,function*(){let h=yield this._ready;setTimeout(()=>h.dispatchEvent(u),0)})}destroySandbox(){return le(this,null,function*(){(yield this._ready).nukeSandbox()})}}s.GenericScripting=c}],e={};function r(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,r),o.exports}var n={};return(()=>{var i=n;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return c.AnnotationLayerBuilder}}),Object.defineProperty(i,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return s.DefaultAnnotationLayerFactory}}),Object.defineProperty(i,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return s.DefaultStructTreeLayerFactory}}),Object.defineProperty(i,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return s.DefaultTextLayerFactory}}),Object.defineProperty(i,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return s.DefaultXfaLayerFactory}}),Object.defineProperty(i,"DownloadManager",{enumerable:!0,get:function(){return d.DownloadManager}}),Object.defineProperty(i,"EventBus",{enumerable:!0,get:function(){return u.EventBus}}),Object.defineProperty(i,"GenericL10n",{enumerable:!0,get:function(){return h.GenericL10n}}),Object.defineProperty(i,"LinkTarget",{enumerable:!0,get:function(){return o.LinkTarget}}),Object.defineProperty(i,"NullL10n",{enumerable:!0,get:function(){return m.NullL10n}}),Object.defineProperty(i,"PDFFindController",{enumerable:!0,get:function(){return f.PDFFindController}}),Object.defineProperty(i,"PDFHistory",{enumerable:!0,get:function(){return p.PDFHistory}}),Object.defineProperty(i,"PDFLinkService",{enumerable:!0,get:function(){return o.PDFLinkService}}),Object.defineProperty(i,"PDFPageView",{enumerable:!0,get:function(){return v.PDFPageView}}),Object.defineProperty(i,"PDFScriptingManager",{enumerable:!0,get:function(){return C.PDFScriptingManager}}),Object.defineProperty(i,"PDFSinglePageViewer",{enumerable:!0,get:function(){return l.PDFSinglePageViewer}}),Object.defineProperty(i,"PDFViewer",{enumerable:!0,get:function(){return l.PDFViewer}}),Object.defineProperty(i,"ProgressBar",{enumerable:!0,get:function(){return a.ProgressBar}}),Object.defineProperty(i,"RenderingStates",{enumerable:!0,get:function(){return a.RenderingStates}}),Object.defineProperty(i,"ScrollMode",{enumerable:!0,get:function(){return a.ScrollMode}}),Object.defineProperty(i,"SimpleLinkService",{enumerable:!0,get:function(){return o.SimpleLinkService}}),Object.defineProperty(i,"SpreadMode",{enumerable:!0,get:function(){return a.SpreadMode}}),Object.defineProperty(i,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return E.StructTreeLayerBuilder}}),Object.defineProperty(i,"TextLayerBuilder",{enumerable:!0,get:function(){return M.TextLayerBuilder}}),Object.defineProperty(i,"XfaLayerBuilder",{enumerable:!0,get:function(){return D.XfaLayerBuilder}}),Object.defineProperty(i,"parseQueryString",{enumerable:!0,get:function(){return a.parseQueryString}});var s=r(1),o=r(6),a=r(7),l=r(11),c=r(5),d=r(18),u=r(19),h=r(20),m=r(4),f=r(22),p=r(24),v=r(13),C=r(25),E=r(8),M=r(9),D=r(10);let y="2.16.105",b="172ccdbe5"})(),n})())});var ef=null;var ol=1;function yt(t){let e=ef;return ef=t,e}var tf={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function K_(t){if(!(cl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ol)){if(!t.producerMustRecompute(t)&&!al(t)){t.dirty=!1,t.lastCleanEpoch=ol;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ol}}function nf(t){return t&&(t.nextProducerIndex=0),yt(t)}function rf(t,e){if(yt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(cl(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)ll(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function al(t){Ps(t);for(let e=0;e<t.producerNode.length;e++){let r=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==r.version||(K_(r),n!==r.version))return!0}return!1}function sf(t){if(Ps(t),cl(t))for(let e=0;e<t.producerNode.length;e++)ll(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ll(t,e){if(Q_(t),Ps(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)ll(t.producerNode[n],t.producerIndexOfThis[n]);let r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ps(i),i.producerIndexOfThis[n]=e}}function cl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ps(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Q_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Z_(){throw new Error}var J_=Z_;function of(t){J_=t}function me(t){return typeof t=="function"}function yr(t){let r=t(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Rs=yr(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function wi(t,e){if(t){let r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let s of r)s.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(me(n))try{n()}catch(s){e=s instanceof Rs?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{af(s)}catch(o){e=e??[],o instanceof Rs?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Rs(e)}}add(e){var r;if(e&&e!==this)if(this.closed)af(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}}_hasParent(e){let{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){let{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&wi(r,e)}remove(e){let{_finalizers:r}=this;r&&wi(r,e),e instanceof t&&e._removeParent(this)}};Xe.EMPTY=(()=>{let t=new Xe;return t.closed=!0,t})();var ul=Xe.EMPTY;function Os(t){return t instanceof Xe||t&&"closed"in t&&me(t.remove)&&me(t.add)&&me(t.unsubscribe)}function af(t){me(t)?t():t.unsubscribe()}var Tt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var br={setTimeout(t,e,...r){let{delegate:n}=br;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){let{delegate:e}=br;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ns(t){br.setTimeout(()=>{let{onUnhandledError:e}=Tt;if(e)e(t);else throw t})}function Ci(){}var lf=(()=>dl("C",void 0,void 0))();function cf(t){return dl("E",void 0,t)}function uf(t){return dl("N",t,void 0)}function dl(t,e,r){return{kind:t,value:e,error:r}}var Bn=null;function _r(t){if(Tt.useDeprecatedSynchronousErrorHandling){let e=!Bn;if(e&&(Bn={errorThrown:!1,error:null}),t(),e){let{errorThrown:r,error:n}=Bn;if(Bn=null,r)throw n}}else t()}function df(t){Tt.useDeprecatedSynchronousErrorHandling&&Bn&&(Bn.errorThrown=!0,Bn.error=t)}var Vn=class extends Xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Os(e)&&e.add(this)):this.destination=n0}static create(e,r,n){return new nn(e,r,n)}next(e){this.isStopped?fl(uf(e),this):this._next(e)}error(e){this.isStopped?fl(cf(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fl(lf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},e0=Function.prototype.bind;function hl(t,e){return e0.call(t,e)}var pl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){Ls(n)}}error(e){let{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){Ls(n)}else Ls(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){Ls(r)}}},nn=class extends Vn{constructor(e,r,n){super();let i;if(me(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let s;this&&Tt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hl(e.next,s),error:e.error&&hl(e.error,s),complete:e.complete&&hl(e.complete,s)}):i=e}this.destination=new pl(i)}};function Ls(t){Tt.useDeprecatedSynchronousErrorHandling?df(t):Ns(t)}function t0(t){throw t}function fl(t,e){let{onStoppedNotification:r}=Tt;r&&br.setTimeout(()=>r(t,e))}var n0={closed:!0,next:Ci,error:t0,complete:Ci};var wr=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function ot(t){return t}function gl(...t){return ml(t)}function ml(t){return t.length===0?ot:t.length===1?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}var Ie=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){let s=i0(r)?r:new nn(r,n,i);return _r(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=hf(n),new n((i,s)=>{let o=new nn({next:a=>{try{r(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[wr](){return this}pipe(...r){return ml(r)(this)}toPromise(r){return r=hf(r),new r((n,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>n(s))})}}return t.create=e=>new t(e),t})();function hf(t){var e;return(e=t??Tt.Promise)!==null&&e!==void 0?e:Promise}function r0(t){return t&&me(t.next)&&me(t.error)&&me(t.complete)}function i0(t){return t&&t instanceof Vn||r0(t)&&Os(t)}function vl(t){return me(t?.lift)}function we(t){return e=>{if(vl(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function De(t,e,r,n,i){return new yl(t,e,r,n,i)}var yl=class extends Vn{constructor(e,r,n,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=r?function(a){try{r(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Cr(){return we((t,e)=>{let r=null;t._refCount++;let n=De(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){r=null;return}let i=t._connection,s=r;r=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var Er=class extends Ie{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,vl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xe;let r=this.getSubject();e.add(this.source.subscribe(De(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xe.EMPTY)}return e}refCount(){return Cr()(this)}};var ff=yr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class t extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new Fs(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new ff}next(r){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:s}=this;return n||i?ul:(this.currentObservers=null,s.push(r),new Xe(()=>{this.currentObservers=null,wi(s,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:s}=this;n?r.error(i):s&&r.complete()}asObservable(){let r=new Ie;return r.source=this,r}}return t.create=(e,r)=>new Fs(e,r),t})(),Fs=class extends at{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,e)}error(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,e)}complete(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0||r.call(e)}_subscribe(e){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&n!==void 0?n:ul}};var Je=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){let{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var dt=new Ie(t=>t.complete());function pf(t){return t&&me(t.schedule)}function bl(t){return t[t.length-1]}function gf(t){return me(bl(t))?t.pop():void 0}function Ut(t){return pf(bl(t))?t.pop():void 0}function mf(t,e){return typeof bl(t)=="number"?t.pop():e}function yf(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(u){o(u)}}function l(d){try{c(n.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function vf(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $n(t){return this instanceof $n?(this.v=t,this):new $n(t)}function bf(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(m){return new Promise(function(f,p){s.push([h,m,f,p])>1||a(h,m)})})}function a(h,m){try{l(n[h](m))}catch(f){u(s[0][3],f)}}function l(h){h.value instanceof $n?Promise.resolve(h.value.v).then(c,d):u(s[0][2],h)}function c(h){a("next",h)}function d(h){a("throw",h)}function u(h,m){h(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _f(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof vf=="function"?vf(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var ks=t=>t&&typeof t.length=="number"&&typeof t!="function";function js(t){return me(t?.then)}function Bs(t){return me(t[wr])}function Vs(t){return Symbol.asyncIterator&&me(t?.[Symbol.asyncIterator])}function $s(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function s0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Us=s0();function Hs(t){return me(t?.[Us])}function Ws(t){return bf(this,arguments,function*(){let r=t.getReader();try{for(;;){let{value:n,done:i}=yield $n(r.read());if(i)return yield $n(void 0);yield yield $n(n)}}finally{r.releaseLock()}})}function zs(t){return me(t?.getReader)}function ke(t){if(t instanceof Ie)return t;if(t!=null){if(Bs(t))return o0(t);if(ks(t))return a0(t);if(js(t))return l0(t);if(Vs(t))return wf(t);if(Hs(t))return c0(t);if(zs(t))return u0(t)}throw $s(t)}function o0(t){return new Ie(e=>{let r=t[wr]();if(me(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function a0(t){return new Ie(e=>{for(let r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function l0(t){return new Ie(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,Ns)})}function c0(t){return new Ie(e=>{for(let r of t)if(e.next(r),e.closed)return;e.complete()})}function wf(t){return new Ie(e=>{d0(t,e).catch(r=>e.error(r))})}function u0(t){return wf(Ws(t))}function d0(t,e){var r,n,i,s;return yf(this,void 0,void 0,function*(){try{for(r=_f(t);n=yield r.next(),!n.done;){let o=n.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{n&&!n.done&&(s=r.return)&&(yield s.call(r))}finally{if(i)throw i.error}}e.complete()})}function ht(t,e,r,n=0,i=!1){let s=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!i)return s}function Gs(t,e=0){return we((r,n)=>{r.subscribe(De(n,i=>ht(n,t,()=>n.next(i),e),()=>ht(n,t,()=>n.complete(),e),i=>ht(n,t,()=>n.error(i),e)))})}function qs(t,e=0){return we((r,n)=>{n.add(t.schedule(()=>r.subscribe(n),e))})}function Cf(t,e){return ke(t).pipe(qs(e),Gs(e))}function Ef(t,e){return ke(t).pipe(qs(e),Gs(e))}function Sf(t,e){return new Ie(r=>{let n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function Af(t,e){return new Ie(r=>{let n;return ht(r,e,()=>{n=t[Us](),ht(r,e,()=>{let i,s;try{({value:i,done:s}=n.next())}catch(o){r.error(o);return}s?r.complete():r.next(i)},0,!0)}),()=>me(n?.return)&&n.return()})}function Ys(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ie(r=>{ht(r,e,()=>{let n=t[Symbol.asyncIterator]();ht(r,e,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function Df(t,e){return Ys(Ws(t),e)}function xf(t,e){if(t!=null){if(Bs(t))return Cf(t,e);if(ks(t))return Sf(t,e);if(js(t))return Ef(t,e);if(Vs(t))return Ys(t,e);if(Hs(t))return Af(t,e);if(zs(t))return Df(t,e)}throw $s(t)}function He(t,e){return e?xf(t,e):ke(t)}function pe(...t){let e=Ut(t);return He(t,e)}function Sr(t,e){let r=me(t)?t:()=>t,n=i=>i.error(r());return new Ie(e?i=>e.schedule(n,0,i):n)}function _l(t){return!!t&&(t instanceof Ie||me(t.lift)&&me(t.subscribe))}var rn=yr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Te(t,e){return we((r,n)=>{let i=0;r.subscribe(De(n,s=>{n.next(t.call(e,s,i++))}))})}var{isArray:h0}=Array;function f0(t,e){return h0(e)?t(...e):t(e)}function If(t){return Te(e=>f0(t,e))}var{isArray:p0}=Array,{getPrototypeOf:g0,prototype:m0,keys:v0}=Object;function Tf(t){if(t.length===1){let e=t[0];if(p0(e))return{args:e,keys:null};if(y0(e)){let r=v0(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}function y0(t){return t&&typeof t=="object"&&g0(t)===m0}function Mf(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}function Xs(...t){let e=Ut(t),r=gf(t),{args:n,keys:i}=Tf(t);if(n.length===0)return He([],e);let s=new Ie(b0(n,e,i?o=>Mf(i,o):ot));return r?s.pipe(If(r)):s}function b0(t,e,r=ot){return n=>{Pf(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)Pf(e,()=>{let c=He(t[l],e),d=!1;c.subscribe(De(n,u=>{s[l]=u,d||(d=!0,a--),a||n.next(r(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}function Pf(t,e,r){t?ht(r,t,e):e()}function Rf(t,e,r,n,i,s,o,a){let l=[],c=0,d=0,u=!1,h=()=>{u&&!l.length&&!c&&e.complete()},m=p=>c<n?f(p):l.push(p),f=p=>{s&&e.next(p),c++;let v=!1;ke(r(p,d++)).subscribe(De(e,C=>{i?.(C),s?m(C):e.next(C)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<n;){let C=l.shift();o?ht(e,o,()=>f(C)):f(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(De(e,m,()=>{u=!0,h()})),()=>{a?.()}}function qe(t,e,r=1/0){return me(e)?qe((n,i)=>Te((s,o)=>e(n,s,i,o))(ke(t(n,i))),r):(typeof e=="number"&&(r=e),we((n,i)=>Rf(n,i,t,r)))}function Ei(t=1/0){return qe(ot,t)}function Of(){return Ei(1)}function Ar(...t){return Of()(He(t,Ut(t)))}function Ks(t){return new Ie(e=>{ke(t()).subscribe(e)})}function wl(...t){let e=Ut(t),r=mf(t,1/0),n=t;return n.length?n.length===1?ke(n[0]):Ei(r)(He(n,e)):dt}function Mt(t,e){return we((r,n)=>{let i=0;r.subscribe(De(n,s=>t.call(e,s,i++)&&n.next(s)))})}function Cn(t){return we((e,r)=>{let n=null,i=!1,s;n=e.subscribe(De(r,void 0,void 0,o=>{s=ke(t(o,Cn(t)(e))),n?(n.unsubscribe(),n=null,s.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,s.subscribe(r))})}function Nf(t,e,r,n,i){return(s,o)=>{let a=r,l=e,c=0;s.subscribe(De(o,d=>{let u=c++;l=a?t(l,d,u):(a=!0,d),n&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Dr(t,e){return me(e)?qe(t,e,1):qe(t,1)}function En(t){return we((e,r)=>{let n=!1;e.subscribe(De(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function sn(t){return t<=0?()=>dt:we((e,r)=>{let n=0;e.subscribe(De(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function Cl(t){return Te(()=>t)}function El(t,e=ot){return t=t??_0,we((r,n)=>{let i,s=!0;r.subscribe(De(n,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,n.next(o))}))})}function _0(t,e){return t===e}function Qs(t=w0){return we((e,r)=>{let n=!1;e.subscribe(De(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function w0(){return new rn}function Si(t){return we((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}function Ht(t,e){let r=arguments.length>=2;return n=>n.pipe(t?Mt((i,s)=>t(i,s,n)):ot,sn(1),r?En(e):Qs(()=>new rn))}function xr(t){return t<=0?()=>dt:we((e,r)=>{let n=[];e.subscribe(De(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function Sl(t,e){let r=arguments.length>=2;return n=>n.pipe(t?Mt((i,s)=>t(i,s,n)):ot,xr(1),r?En(e):Qs(()=>new rn))}function Al(t,e){return we(Nf(t,e,arguments.length>=2,!0))}function Zs(t={}){let{connector:e=()=>new at,resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,c=0,d=!1,u=!1,h=()=>{a?.unsubscribe(),a=void 0},m=()=>{h(),o=l=void 0,d=u=!1},f=()=>{let p=o;m(),p?.unsubscribe()};return we((p,v)=>{c++,!u&&!d&&h();let C=l=l??e();v.add(()=>{c--,c===0&&!u&&!d&&(a=Dl(f,i))}),C.subscribe(v),!o&&c>0&&(o=new nn({next:E=>C.next(E),error:E=>{u=!0,h(),a=Dl(m,r,E),C.error(E)},complete:()=>{d=!0,h(),a=Dl(m,n),C.complete()}}),ke(p).subscribe(o))})(s)}}function Dl(t,e,...r){if(e===!0){t();return}if(e===!1)return;let n=new nn({next:()=>{n.unsubscribe(),t()}});return ke(e(...r)).subscribe(n)}function xl(...t){let e=Ut(t);return we((r,n)=>{(e?Ar(t,r,e):Ar(t,r)).subscribe(n)})}function bt(t,e){return we((r,n)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&n.complete();r.subscribe(De(n,l=>{i?.unsubscribe();let c=0,d=s++;ke(t(l,d)).subscribe(i=De(n,u=>n.next(e?e(l,u,d,c++):u),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Il(t){return we((e,r)=>{ke(t).subscribe(De(r,()=>r.complete(),Ci)),!r.closed&&e.subscribe(r)})}function Ke(t,e,r){let n=me(t)||e||r?{next:t,error:e,complete:r}:t;return n?we((i,s)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;i.subscribe(De(s,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),s.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),s.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),s.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):ot}function Le(t){for(let e in t)if(t[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function et(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r===-1?e:e.substring(0,r)}function Lf(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var C0=Le({__forward_ref__:Le});function wp(t){return t.__forward_ref__=wp,t.toString=function(){return et(this())},t}function Et(t){return Cp(t)?t():t}function Cp(t){return typeof t=="function"&&t.hasOwnProperty(C0)&&t.__forward_ref__===wp}function Ep(t){return t&&!!t.\u0275providers}var Sp="https://g.co/ng/security#xss",he=class extends Error{constructor(e,r){super(Pc(e,r)),this.code=e}};function Pc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var E0=Le({\u0275cmp:Le}),S0=Le({\u0275dir:Le}),A0=Le({\u0275pipe:Le}),D0=Le({\u0275mod:Le}),co=Le({\u0275fac:Le}),Ai=Le({__NG_ELEMENT_ID__:Le}),Ff=Le({__NG_ENV_ID__:Le});function Rc(t){return typeof t=="string"?t:t==null?"":String(t)}function x0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Rc(t)}function I0(t,e){let r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new he(-200,`Circular dependency in DI detected for ${t}${r}`)}function Oc(t,e){let r=e?` in ${e}`:"";throw new he(-201,!1)}function T0(t,e){t==null&&M0(e,t,null,"!=")}function M0(t,e,r,n){throw new Error(`ASSERTION ERROR: ${t}`+(n==null?"":` [Expected=> ${r} ${n} ${e} <=Actual]`))}function ve(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Dn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Do(t){return kf(t,Dp)||kf(t,xp)}function Ap(t){return Do(t)!==null}function kf(t,e){return t.hasOwnProperty(e)?t[e]:null}function P0(t){let e=t&&(t[Dp]||t[xp]);return e||null}function jf(t){return t&&(t.hasOwnProperty(Bf)||t.hasOwnProperty(R0))?t[Bf]:null}var Dp=Le({\u0275prov:Le}),Bf=Le({\u0275inj:Le}),xp=Le({ngInjectableDef:Le}),R0=Le({ngInjectorDef:Le}),Ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ce||{}),Ul;function O0(){return Ul}function Wt(t){let e=Ul;return Ul=t,e}function Ip(t,e,r){let n=Do(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&Ce.Optional)return null;if(e!==void 0)return e;Oc(et(t),"Injector")}var on=globalThis;var xe=class{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=ve({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var N0={},Ii=N0,L0="__NG_DI_FLAG__",uo="ngTempTokenPath",F0="ngTokenPath",k0=/\n/gm,j0="\u0275",Vf="__source",Di;function Ir(t){let e=Di;return Di=t,e}function B0(t,e=Ce.Default){if(Di===void 0)throw new he(-203,!1);return Di===null?Ip(t,void 0,e):Di.get(t,e&Ce.Optional?null:void 0,e)}function _e(t,e=Ce.Default){return(O0()||B0)(Et(t),e)}function ue(t,e=Ce.Default){return _e(t,xo(e))}function xo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Hl(t){let e=[];for(let r=0;r<t.length;r++){let n=Et(t[r]);if(Array.isArray(n)){if(n.length===0)throw new he(900,!1);let i,s=Ce.Default;for(let o=0;o<n.length;o++){let a=n[o],l=V0(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(_e(i,s))}else e.push(_e(n))}return e}function V0(t){return t[L0]}function $0(t,e,r,n){let i=t[uo];throw e[Vf]&&i.unshift(e[Vf]),t.message=U0(`
`+t.message,i,r,n),t[F0]=i,t[uo]=null,t}function U0(t,e,r,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==j0?t.slice(2):t;let i=et(e);if(Array.isArray(e))i=e.map(et).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):et(a)))}i=`{${s.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(k0,`
  `)}`}function Io(t){return{toString:t}.toString()}var Tp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Tp||{}),Yt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yt||{}),Ti={},Rt=[];function Mp(t,e,r){let n=t.length;for(;;){let i=t.indexOf(e,r);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===n||t.charCodeAt(i+s)<=32)return i}r=i+1}}function Wl(t,e,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let s=r[n++],o=r[n++],a=r[n++];t.setAttribute(e,o,a,s)}else{let s=i,o=r[++n];W0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),n++}}return n}function H0(t){return t===3||t===4||t===6}function W0(t){return t.charCodeAt(0)===64}function Nc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){let i=e[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?$f(t,r,i,null,e[++n]):$f(t,r,i,null,null))}}return t}function $f(t,e,r,n,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===r){if(n===null){i!==null&&(t[s+1]=i);return}else if(n===t[s+1]){t[s+2]=i;return}}s++,n!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,r),n!==null&&t.splice(s++,0,n),i!==null&&t.splice(s++,0,i)}var Pp="ng-template";function z0(t,e,r){let n=0,i=!0;for(;n<t.length;){let s=t[n++];if(typeof s=="string"&&i){let o=t[n++];if(r&&s==="class"&&Mp(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;n<t.length&&typeof(s=t[n++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function Rp(t){return t.type===4&&t.value!==Pp}function G0(t,e,r){let n=t.type===4&&!r?Pp:t.value;return e===n}function q0(t,e,r){let n=4,i=t.attrs||[],s=K0(i),o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Pt(n)&&!Pt(l))return!1;if(o&&Pt(l))continue;o=!1,n=l|n&1;continue}if(!o)if(n&4){if(n=2|n&1,l!==""&&!G0(t,l,r)||l===""&&e.length===1){if(Pt(n))return!1;o=!0}}else{let c=n&8?l:e[++a];if(n&8&&t.attrs!==null){if(!z0(t.attrs,c,r)){if(Pt(n))return!1;o=!0}continue}let d=n&8?"class":l,u=Y0(d,i,Rp(t),r);if(u===-1){if(Pt(n))return!1;o=!0;continue}if(c!==""){let h;u>s?h="":h=i[u+1].toLowerCase();let m=n&8?h:null;if(m&&Mp(m,c,0)!==-1||n&2&&c!==h){if(Pt(n))return!1;o=!0}}}}return Pt(n)||o}function Pt(t){return(t&1)===0}function Y0(t,e,r,n){if(e===null)return-1;let i=0;if(n||!r){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Q0(e,t)}function X0(t,e,r=!1){for(let n=0;n<e.length;n++)if(q0(t,e[n],r))return!0;return!1}function K0(t){for(let e=0;e<t.length;e++){let r=t[e];if(H0(r))return e}return t.length}function Q0(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){let n=t[r];if(typeof n=="number")return-1;if(n===e)return r;r++}return-1}function Uf(t,e){return t?":not("+e.trim()+")":e}function Z0(t){let e=t[0],r=1,n=2,i="",s=!1;for(;r<t.length;){let o=t[r];if(typeof o=="string")if(n&2){let a=t[++r];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+o:n&4&&(i+=" "+o);else i!==""&&!Pt(o)&&(e+=Uf(s,i),i=""),n=o,s=s||!Pt(n);r++}return i!==""&&(e+=Uf(s,i)),e}function J0(t){return t.map(Z0).join(",")}function ew(t){let e=[],r=[],n=1,i=2;for(;n<t.length;){let s=t[n];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++n]):i===8&&r.push(s);else{if(!Pt(i))break;i=s}n++}return{attrs:e,classes:r}}function Kn(t){return Io(()=>{let e=kp(t),r=Fe(ce({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Tp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yt.Emulated,styles:t.styles||Rt,_:null,schemas:t.schemas||null,tView:null,id:""});jp(r);let n=t.dependencies;return r.directiveDefs=Wf(n,!1),r.pipeDefs=Wf(n,!0),r.id=rw(r),r})}function tw(t){return Wn(t)||Op(t)}function nw(t){return t!==null}function xn(t){return Io(()=>({type:t.type,bootstrap:t.bootstrap||Rt,declarations:t.declarations||Rt,imports:t.imports||Rt,exports:t.exports||Rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Hf(t,e){if(t==null)return Ti;let r={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),r[i]=n,e&&(e[i]=s)}return r}function To(t){return Io(()=>{let e=kp(t);return jp(e),e})}function Wn(t){return t[E0]||null}function Op(t){return t[S0]||null}function Np(t){return t[A0]||null}function Lp(t){let e=Wn(t)||Op(t)||Np(t);return e!==null?e.standalone:!1}function Fp(t,e){let r=t[D0]||null;if(!r&&e===!0)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return r}function kp(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ti,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Rt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hf(t.inputs,e),outputs:Hf(t.outputs),debugInfo:null}}function jp(t){t.features?.forEach(e=>e(t))}function Wf(t,e){if(!t)return null;let r=e?Np:tw;return()=>(typeof t=="function"?t():t).map(n=>r(n)).filter(nw)}function rw(t){let e=0,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var dn=0,Ee=1,fe=2,ze=3,Ot=4,Lt=5,zl=6,Mi=7,St=8,Or=9,Nr=10,tt=11,Pi=12,zf=13,Hr=14,Xt=15,ki=16,Tr=17,qt=18,Mo=19,Bp=20,xi=21,Tl=22,zn=23,an=25,Vp=1;var Gn=7,ho=8,Lr=9,_t=10,Fr=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Fr||{});function Un(t){return Array.isArray(t)&&typeof t[Vp]=="object"}function Nt(t){return Array.isArray(t)&&t[Vp]===!0}function Lc(t){return(t.flags&4)!==0}function Po(t){return t.componentOffset>-1}function Ro(t){return(t.flags&1)===1}function ji(t){return!!t.template}function iw(t){return(t[fe]&512)!==0}function kr(t,e){let r=t.hasOwnProperty(co);return r?t[co]:null}var Gl=class{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function Qn(){return $p}function $p(t){return t.type.prototype.ngOnChanges&&(t.setInput=ow),sw}Qn.ngInherit=!0;function sw(){let t=Hp(this),e=t?.current;if(e){let r=t.previous;if(r===Ti)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function ow(t,e,r,n){let i=this.declaredInputs[r],s=Hp(t)||aw(t,{previous:Ti,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new Gl(l&&l.currentValue,e,a===Ti),t[n]=e}var Up="__ngSimpleChanges__";function Hp(t){return t[Up]||null}function aw(t,e){return t[Up]=e}var Gf=null;var zt=function(t,e,r){Gf?.(t,e,r)},lw="svg",cw="math";function Kt(t){for(;Array.isArray(t);)t=t[dn];return t}function uw(t,e){return Kt(e[t])}function Ft(t,e){return Kt(e[t.index])}function Wp(t,e){return t.data[e]}function Zn(t,e){let r=e[t];return Un(r)?r:r[dn]}function dw(t){return(t[fe]&4)===4}function Fc(t){return(t[fe]&128)===128}function hw(t){return Nt(t[ze])}function jr(t,e){return e==null?null:t[e]}function zp(t){t[Tr]=0}function fw(t){t[fe]&1024||(t[fe]|=1024,Fc(t)&&Oo(t))}function pw(t,e){for(;t>0;)e=e[Hr],t--;return e}function Gp(t){t[fe]&9216&&Oo(t)}function Oo(t){let e=t[ze];for(;e!==null&&!(Nt(e)&&e[fe]&Fr.HasChildViewsToRefresh||Un(e)&&e[fe]&8192);){if(Nt(e))e[fe]|=Fr.HasChildViewsToRefresh;else if(e[fe]|=8192,!Fc(e))break;e=e[ze]}}function gw(t,e){if((t[fe]&256)===256)throw new he(911,!1);t[xi]===null&&(t[xi]=[]),t[xi].push(e)}var Se={lFrame:Jp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function mw(){return Se.lFrame.elementDepthCount}function vw(){Se.lFrame.elementDepthCount++}function yw(){Se.lFrame.elementDepthCount--}function qp(){return Se.bindingsEnabled}function bw(){return Se.skipHydrationRootTNode!==null}function _w(t){return Se.skipHydrationRootTNode===t}function ww(){Se.skipHydrationRootTNode=null}function $e(){return Se.lFrame.lView}function Dt(){return Se.lFrame.tView}function kc(t){return Se.lFrame.contextLView=t,t[St]}function jc(t){return Se.lFrame.contextLView=null,t}function kt(){let t=Yp();for(;t!==null&&t.type===64;)t=t.parent;return t}function Yp(){return Se.lFrame.currentTNode}function Cw(){let t=Se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Jn(t,e){let r=Se.lFrame;r.currentTNode=t,r.isParent=e}function Bc(){return Se.lFrame.isParent}function Xp(){Se.lFrame.isParent=!1}function Ew(t){return Se.lFrame.bindingIndex=t}function Sw(){return Se.lFrame.bindingIndex++}function Aw(t){let e=Se.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}function Dw(){return Se.lFrame.inI18n}function xw(t,e){let r=Se.lFrame;r.bindingIndex=r.bindingRootIndex=t,ql(e)}function Iw(){return Se.lFrame.currentDirectiveIndex}function ql(t){Se.lFrame.currentDirectiveIndex=t}function Tw(t){let e=Se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Kp(){return Se.lFrame.currentQueryIndex}function Vc(t){Se.lFrame.currentQueryIndex=t}function Mw(t){let e=t[Ee];return e.type===2?e.declTNode:e.type===1?t[Lt]:null}function Qp(t,e,r){if(r&Ce.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(r&Ce.Host);)if(i=Mw(s),i===null||(s=s[Hr],i.type&10))break;if(i===null)return!1;e=i,t=s}let n=Se.lFrame=Zp();return n.currentTNode=e,n.lView=t,!0}function $c(t){let e=Zp(),r=t[Ee];Se.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function Zp(){let t=Se.lFrame,e=t===null?null:t.child;return e===null?Jp(t):e}function Jp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function eg(){let t=Se.lFrame;return Se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tg=eg;function Uc(){let t=eg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pw(t){return(Se.lFrame.contextLView=pw(t,Se.lFrame.contextLView))[St]}function Bi(){return Se.lFrame.selectedIndex}function qn(t){Se.lFrame.selectedIndex=t}function Rw(){let t=Se.lFrame;return Wp(t.tView,t.selectedIndex)}function Ow(){return Se.lFrame.currentNamespace}var ng=!0;function No(){return ng}function Lo(t){ng=t}function Nw(t,e,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(n){let o=$p(e);(r.preOrderHooks??=[]).push(t,o),(r.preOrderCheckHooks??=[]).push(t,o)}i&&(r.preOrderHooks??=[]).push(0-t,i),s&&((r.preOrderHooks??=[]).push(t,s),(r.preOrderCheckHooks??=[]).push(t,s))}function Fo(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){let s=t.data[r].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-r,o),a&&((t.contentHooks??=[]).push(r,a),(t.contentCheckHooks??=[]).push(r,a)),l&&(t.viewHooks??=[]).push(-r,l),c&&((t.viewHooks??=[]).push(r,c),(t.viewCheckHooks??=[]).push(r,c)),d!=null&&(t.destroyHooks??=[]).push(r,d)}}function ro(t,e,r){rg(t,e,3,r)}function io(t,e,r,n){(t[fe]&3)===r&&rg(t,e,r,n)}function Ml(t,e){let r=t[fe];(r&3)===e&&(r&=16383,r+=1,t[fe]=r)}function rg(t,e,r,n){let i=n!==void 0?t[Tr]&65535:0,s=n??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],n!=null&&a>=n)break}else e[l]<0&&(t[Tr]+=65536),(a<s||s==-1)&&(Lw(t,r,e,l),t[Tr]=(t[Tr]&4294901760)+l+2),l++}function qf(t,e){zt(4,t,e);let r=yt(null);try{e.call(t)}finally{yt(r),zt(5,t,e)}}function Lw(t,e,r,n){let i=r[n]<0,s=r[n+1],o=i?-r[n]:r[n],a=t[o];i?t[fe]>>14<t[Tr]>>16&&(t[fe]&3)===e&&(t[fe]+=16384,qf(a,s)):qf(a,s)}var Rr=-1,Ri=class{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function Fw(t){return t instanceof Ri}function kw(t){return(t.flags&8)!==0}function jw(t){return(t.flags&16)!==0}function ig(t){return t!==Rr}function fo(t){let e=t&32767;return t&32767}function Bw(t){return t>>16}function po(t,e){let r=Bw(t),n=e;for(;r>0;)n=n[Hr],r--;return n}var Yl=!0;function Yf(t){let e=Yl;return Yl=t,e}var Vw=256,sg=Vw-1,og=5,$w=0,Gt={};function Uw(t,e,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(Ai)&&(n=r[Ai]),n==null&&(n=r[Ai]=$w++);let i=n&sg,s=1<<i;e.data[t+(i>>og)]|=s}function ag(t,e){let r=lg(t,e);if(r!==-1)return r;let n=e[Ee];n.firstCreatePass&&(t.injectorIndex=e.length,Pl(n.data,t),Pl(e,null),Pl(n.blueprint,null));let i=Hc(t,e),s=t.injectorIndex;if(ig(i)){let o=fo(i),a=po(i,e),l=a[Ee].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Pl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function lg(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Hc(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;i!==null;){if(n=fg(i),n===null)return Rr;if(r++,i=i[Hr],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return Rr}function Hw(t,e,r){Uw(t,e,r)}function cg(t,e,r){if(r&Ce.Optional||t!==void 0)return t;Oc(e,"NodeInjector")}function ug(t,e,r,n){if(r&Ce.Optional&&n===void 0&&(n=null),!(r&(Ce.Self|Ce.Host))){let i=t[Or],s=Wt(void 0);try{return i?i.get(e,n,r&Ce.Optional):Ip(e,n,r&Ce.Optional)}finally{Wt(s)}}return cg(n,e,r)}function dg(t,e,r,n=Ce.Default,i){if(t!==null){if(e[fe]&2048&&!(n&Ce.Self)){let o=qw(t,e,r,n,Gt);if(o!==Gt)return o}let s=hg(t,e,r,n,Gt);if(s!==Gt)return s}return ug(e,r,n,i)}function hg(t,e,r,n,i){let s=zw(r);if(typeof s=="function"){if(!Qp(e,t,n))return n&Ce.Host?cg(i,r,n):ug(e,r,n,i);try{let o;if(o=s(n),o==null&&!(n&Ce.Optional))Oc(r);else return o}finally{tg()}}else if(typeof s=="number"){let o=null,a=lg(t,e),l=Rr,c=n&Ce.Host?e[Xt][Lt]:null;for((a===-1||n&Ce.SkipSelf)&&(l=a===-1?Hc(t,e):e[a+8],l===Rr||!Kf(n,!1)?a=-1:(o=e[Ee],a=fo(l),e=po(l,e)));a!==-1;){let d=e[Ee];if(Xf(s,a,d.data)){let u=Ww(a,e,r,o,n,c);if(u!==Gt)return u}l=e[a+8],l!==Rr&&Kf(n,e[Ee].data[a+8]===c)&&Xf(s,a,e)?(o=d,a=fo(l),e=po(l,e)):a=-1}}return i}function Ww(t,e,r,n,i,s){let o=e[Ee],a=o.data[t+8],l=n==null?Po(a)&&Yl:n!=o&&(a.type&3)!==0,c=i&Ce.Host&&s===a,d=so(a,o,r,l,c);return d!==null?Br(e,o,d,a):Gt}function so(t,e,r,n,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,d=s>>20,u=n?a:a+d,h=i?a+d:c;for(let m=u;m<h;m++){let f=o[m];if(m<l&&r===f||m>=l&&f.type===r)return m}if(i){let m=o[l];if(m&&ji(m)&&m.type===r)return l}return null}function Br(t,e,r,n){let i=t[r],s=e.data;if(Fw(i)){let o=i;o.resolving&&I0(x0(s[r]));let a=Yf(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Wt(o.injectImpl):null,d=Qp(t,n,Ce.Default);try{i=t[r]=o.factory(void 0,s,t,n),e.firstCreatePass&&r>=n.directiveStart&&Nw(r,s[r],e)}finally{c!==null&&Wt(c),Yf(a),o.resolving=!1,tg()}}return i}function zw(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ai)?t[Ai]:void 0;return typeof e=="number"?e>=0?e&sg:Gw:e}function Xf(t,e,r){let n=1<<t;return!!(r[e+(t>>og)]&n)}function Kf(t,e){return!(t&Ce.Self)&&!(t&Ce.Host&&e)}var Hn=class{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return dg(this._tNode,this._lView,e,xo(n),r)}};function Gw(){return new Hn(kt(),$e())}function Wc(t){return Io(()=>{let e=t.prototype.constructor,r=e[co]||Xl(e),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){let s=i[co]||Xl(i);if(s&&s!==r)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Xl(t){return Cp(t)?()=>{let e=Xl(Et(t));return e&&e()}:kr(t)}function qw(t,e,r,n,i){let s=t,o=e;for(;s!==null&&o!==null&&o[fe]&2048&&!(o[fe]&512);){let a=hg(s,o,r,n|Ce.Self,Gt);if(a!==Gt)return a;let l=s.parent;if(!l){let c=o[Bp];if(c){let d=c.get(r,Gt,n);if(d!==Gt)return d}l=fg(o),o=o[Hr]}s=l}return i}function fg(t){let e=t[Ee],r=e.type;return r===2?e.declTNode:r===1?t[Lt]:null}function Yw(t){return typeof t=="function"}function Xw(t,e,r){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],s=e[n];if(r&&(i=r(i),s=r(s)),s!==i)return!1}return!0}function Kw(t){return t.flat(Number.POSITIVE_INFINITY)}function zc(t,e){t.forEach(r=>Array.isArray(r)?zc(r,e):e(r))}function pg(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function go(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Qw(t,e){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function Zw(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(i===1)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=r,t[e+1]=n}}function Jw(t,e,r){let n=Vi(t,e);return n>=0?t[n|1]=r:(n=~n,Zw(t,n,e,r)),n}function Rl(t,e){let r=Vi(t,e);if(r>=0)return t[r|1]}function Vi(t,e){return eC(t,e,1)}function eC(t,e,r){let n=0,i=t.length>>r;for(;i!==n;){let s=n+(i-n>>1),o=t[s<<r];if(e===o)return s<<r;o>e?i=s:n=s+1}return~(i<<r)}var $i=new xe("ENVIRONMENT_INITIALIZER"),gg=new xe("INJECTOR",-1),mg=new xe("INJECTOR_DEF_TYPES"),mo=class{get(e,r=Ii){if(r===Ii){let n=new Error(`NullInjectorError: No provider for ${et(e)}!`);throw n.name="NullInjectorError",n}return r}};function ko(t){return{\u0275providers:t}}function tC(...t){return{\u0275providers:vg(!0,t),\u0275fromNgModule:!0}}function vg(t,...e){let r=[],n=new Set,i,s=o=>{r.push(o)};return zc(e,o=>{let a=o;Kl(a,s,[],n)&&(i||=[],i.push(a))}),i!==void 0&&yg(i,s),r}function yg(t,e){for(let r=0;r<t.length;r++){let{ngModule:n,providers:i}=t[r];Gc(i,s=>{e(s,n)})}}function Kl(t,e,r,n){if(t=Et(t),!t)return!1;let i=null,s=jf(t),o=!s&&Wn(t);if(!s&&!o){let l=t.ngModule;if(s=jf(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=n.has(i);if(o){if(a)return!1;if(n.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Kl(c,e,r,n)}}else if(s){if(s.imports!=null&&!a){n.add(i);let c;try{zc(s.imports,d=>{Kl(d,e,r,n)&&(c||=[],c.push(d))})}finally{}c!==void 0&&yg(c,e)}if(!a){let c=kr(i)||(()=>new i);e({provide:i,useFactory:c,deps:Rt},i),e({provide:mg,useValue:i,multi:!0},i),e({provide:$i,useValue:()=>_e(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;Gc(l,d=>{e(d,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Gc(t,e){for(let r of t)Ep(r)&&(r=r.\u0275providers),Array.isArray(r)?Gc(r,e):e(r)}var nC=Le({provide:String,useValue:Le});function bg(t){return t!==null&&typeof t=="object"&&nC in t}function rC(t){return!!(t&&t.useExisting)}function iC(t){return!!(t&&t.useFactory)}function Ql(t){return typeof t=="function"}var jo=new xe("Set Injector scope."),oo={},sC={},Ol;function qc(){return Ol===void 0&&(Ol=new mo),Ol}var At=class{},vo=class extends At{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jl(e,o=>this.processProvider(o)),this.records.set(gg,Mr(void 0,this)),i.has("environment")&&this.records.set(At,Mr(void 0,this));let s=this.records.get(jo);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(mg,Rt,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let r=Ir(this),n=Wt(void 0),i;try{return e()}finally{Ir(r),Wt(n)}}get(e,r=Ii,n=Ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ff))return e[Ff](this);n=xo(n);let i,s=Ir(this),o=Wt(void 0);try{if(!(n&Ce.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=dC(e)&&Do(e);c&&this.injectableDefInScope(c)?l=Mr(Zl(e),oo):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=n&Ce.Self?qc():this.parent;return r=n&Ce.Optional&&r===Ii?null:r,a.get(e,r)}catch(a){if(a.name==="NullInjectorError"){if((a[uo]=a[uo]||[]).unshift(et(e)),s)throw a;return $0(a,e,"R3InjectorError",this.source)}else throw a}finally{Wt(o),Ir(s)}}resolveInjectorInitializers(){let e=Ir(this),r=Wt(void 0),n;try{let i=this.get($i,Rt,Ce.Self);for(let s of i)s()}finally{Ir(e),Wt(r)}}toString(){let e=[],r=this.records;for(let n of r.keys())e.push(et(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(e){e=Et(e);let r=Ql(e)?e:Et(e&&e.provide),n=aC(e);if(!Ql(e)&&e.multi===!0){let i=this.records.get(r);i||(i=Mr(void 0,oo,!0),i.factory=()=>Hl(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}else{let i=this.records.get(r)}this.records.set(r,n)}hydrate(e,r){return r.value===oo&&(r.value=sC,r.value=r.factory()),typeof r.value=="object"&&r.value&&uC(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(e){if(!e.providedIn)return!1;let r=Et(e.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){let r=this._onDestroyHooks.indexOf(e);r!==-1&&this._onDestroyHooks.splice(r,1)}};function Zl(t){let e=Do(t),r=e!==null?e.factory:kr(t);if(r!==null)return r;if(t instanceof xe)throw new he(204,!1);if(t instanceof Function)return oC(t);throw new he(204,!1)}function oC(t){let e=t.length;if(e>0){let n=Qw(e,"?");throw new he(204,!1)}let r=P0(t);return r!==null?()=>r.factory(t):()=>new t}function aC(t){if(bg(t))return Mr(void 0,t.useValue);{let e=lC(t);return Mr(e,oo)}}function lC(t,e,r){let n;if(Ql(t)){let i=Et(t);return kr(i)||Zl(i)}else if(bg(t))n=()=>Et(t.useValue);else if(iC(t))n=()=>t.useFactory(...Hl(t.deps||[]));else if(rC(t))n=()=>_e(Et(t.useExisting));else{let i=Et(t&&(t.useClass||t.provide));if(cC(t))n=()=>new i(...Hl(t.deps));else return kr(i)||Zl(i)}return n}function Mr(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function cC(t){return!!t.deps}function uC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function dC(t){return typeof t=="function"||typeof t=="object"&&t instanceof xe}function Jl(t,e){for(let r of t)Array.isArray(r)?Jl(r,e):r&&Ep(r)?Jl(r.\u0275providers,e):e(r)}function Qf(t,e=null,r=null,n){let i=_g(t,e,r,n);return i.resolveInjectorInitializers(),i}function _g(t,e=null,r=null,n,i=new Set){let s=[r||Rt,tC(t)];return n=n||(typeof t=="object"?void 0:et(t)),new vo(s,e||qc(),n||null,i)}var er=(()=>{let e=class e{static create(n,i){if(Array.isArray(n))return Qf({name:""},i,n,"");{let s=n.name??"";return Qf({name:s},n.parent,n.providers,s)}}};e.THROW_IF_NOT_FOUND=Ii,e.NULL=new mo,e.\u0275prov=ve({token:e,providedIn:"any",factory:()=>_e(gg)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var ec;function wg(t){ec=t}function Cg(){if(ec!==void 0)return ec;if(typeof document<"u")return document;throw new he(210,!1)}var Yc=new xe("AppId",{providedIn:"root",factory:()=>hC}),hC="ng",Xc=new xe("Platform Initializer"),Wr=new xe("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Kc=new xe("CSP nonce",{providedIn:"root",factory:()=>Cg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Eg(t){return t instanceof Function?t():t}function Sg(t){return(t.flags&128)===128}var ln=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ln||{}),fC=/^>|^->|<!--|-->|--!>|<!-$/g,pC=/(<|>)/g,gC="\u200B$1\u200B";function mC(t){return t.replace(fC,e=>e.replace(pC,gC))}var Ag=new Map,vC=0;function yC(){return vC++}function bC(t){Ag.set(t[Mo],t)}function _C(t){Ag.delete(t[Mo])}var Zf="__ngContext__";function Sn(t,e){Un(e)?(t[Zf]=e[Mo],bC(e)):t[Zf]=e}var wC;function Qc(t,e){return wC(t,e)}function Zc(t){let e=t[ze];return Nt(e)?e[ze]:e}function Dg(t){return Ig(t[Pi])}function xg(t){return Ig(t[Ot])}function Ig(t){for(;t!==null&&!Nt(t);)t=t[Ot];return t}function Pr(t,e,r,n,i){if(n!=null){let s,o=!1;Nt(n)?s=n:Un(n)&&(o=!0,n=n[dn]);let a=Kt(n);t===0&&r!==null?i==null?Rg(e,r,a):yo(e,r,a,i||null,!0):t===1&&r!==null?yo(e,r,a,i||null,!0):t===2?BC(e,a,o):t===3&&e.destroyNode(a),s!=null&&$C(e,t,s,r,i)}}function CC(t,e){return t.createText(e)}function EC(t,e){return t.createComment(mC(e))}function Tg(t,e,r){return t.createElement(e,r)}function SC(t,e){let r=e[tt];Ui(t,e,r,2,null,null),e[dn]=null,e[Lt]=null}function AC(t,e,r,n,i,s){n[dn]=i,n[Lt]=e,Ui(t,n,r,1,i,s)}function DC(t,e){Ui(t,e,e[tt],2,null,null)}function xC(t){let e=t[Pi];if(!e)return Nl(t[Ee],t);for(;e;){let r=null;if(Un(e))r=e[Pi];else{let n=e[_t];n&&(r=n)}if(!r){for(;e&&!e[Ot]&&e!==t;)Un(e)&&Nl(e[Ee],e),e=e[ze];e===null&&(e=t),Un(e)&&Nl(e[Ee],e),r=e&&e[Ot]}e=r}}function IC(t,e,r,n){let i=_t+n,s=r.length;n>0&&(r[i-1][Ot]=e),n<s-_t?(e[Ot]=r[i],pg(r,_t+n,e)):(r.push(e),e[Ot]=null),e[ze]=r;let o=e[ki];o!==null&&r!==o&&TC(o,e);let a=e[qt];a!==null&&a.insertView(t),Gp(e),e[fe]|=128}function TC(t,e){let r=t[Lr],i=e[ze][ze][Xt];e[Xt]!==i&&(t[fe]|=Fr.HasTransplantedViews),r===null?t[Lr]=[e]:r.push(e)}function Mg(t,e){let r=t[Lr],n=r.indexOf(e),i=e[ze];r.splice(n,1)}function tc(t,e){if(t.length<=_t)return;let r=_t+e,n=t[r];if(n){let i=n[ki];i!==null&&i!==t&&Mg(i,n),e>0&&(t[r-1][Ot]=n[Ot]);let s=go(t,_t+e);SC(n[Ee],n);let o=s[qt];o!==null&&o.detachView(s[Ee]),n[ze]=null,n[Ot]=null,n[fe]&=-129}return n}function Pg(t,e){if(!(e[fe]&256)){let r=e[tt];e[zn]&&sf(e[zn]),r.destroyNode&&Ui(t,e,r,3,null,null),xC(e)}}function Nl(t,e){if(!(e[fe]&256)){e[fe]&=-129,e[fe]|=256,PC(t,e),MC(t,e),e[Ee].type===1&&e[tt].destroy();let r=e[ki];if(r!==null&&Nt(e[ze])){r!==e[ze]&&Mg(r,e);let n=e[qt];n!==null&&n.detachView(t)}_C(e)}}function MC(t,e){let r=t.cleanup,n=e[Mi];if(r!==null)for(let s=0;s<r.length-1;s+=2)if(typeof r[s]=="string"){let o=r[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{let o=n[r[s+1]];r[s].call(o)}n!==null&&(e[Mi]=null);let i=e[xi];if(i!==null){e[xi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function PC(t,e){let r;if(t!=null&&(r=t.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=e[r[n]];if(!(i instanceof Ri)){let s=r[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];zt(4,a,l);try{l.call(a)}finally{zt(5,a,l)}}else{zt(4,i,s);try{s.call(i)}finally{zt(5,i,s)}}}}}function RC(t,e,r){return OC(t,e.parent,r)}function OC(t,e,r){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return r[dn];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:s}=t.data[n.directiveStart+i];if(s===Yt.None||s===Yt.Emulated)return null}return Ft(n,r)}}function yo(t,e,r,n,i){t.insertBefore(e,r,n,i)}function Rg(t,e,r){t.appendChild(e,r)}function Jf(t,e,r,n,i){n!==null?yo(t,e,r,n,i):Rg(t,e,r)}function NC(t,e,r,n){t.removeChild(e,r,n)}function Jc(t,e){return t.parentNode(e)}function LC(t,e){return t.nextSibling(e)}function FC(t,e,r){return jC(t,e,r)}function kC(t,e,r){return t.type&40?Ft(t,r):null}var jC=kC,ep;function Bo(t,e,r,n){let i=RC(t,n,e),s=e[tt],o=n.parent||e[Lt],a=FC(o,n,e);if(i!=null)if(Array.isArray(r))for(let l=0;l<r.length;l++)Jf(s,i,r[l],a,!1);else Jf(s,i,r,a,!1);ep!==void 0&&ep(s,n,e,r,i)}function ao(t,e){if(e!==null){let r=e.type;if(r&3)return Ft(e,t);if(r&4)return nc(-1,t[e.index]);if(r&8){let n=e.child;if(n!==null)return ao(t,n);{let i=t[e.index];return Nt(i)?nc(-1,i):Kt(i)}}else{if(r&32)return Qc(e,t)()||Kt(t[e.index]);{let n=Og(t,e);if(n!==null){if(Array.isArray(n))return n[0];let i=Zc(t[Xt]);return ao(i,n)}else return ao(t,e.next)}}}return null}function Og(t,e){if(e!==null){let n=t[Xt][Lt],i=e.projection;return n.projection[i]}return null}function nc(t,e){let r=_t+t+1;if(r<e.length){let n=e[r],i=n[Ee].firstChild;if(i!==null)return ao(n,i)}return e[Gn]}function BC(t,e,r){let n=Jc(t,e);n&&NC(t,n,e,r)}function eu(t,e,r,n,i,s,o){for(;r!=null;){let a=n[r.index],l=r.type;if(o&&e===0&&(a&&Sn(Kt(a),n),r.flags|=2),(r.flags&32)!==32)if(l&8)eu(t,e,r.child,n,i,s,!1),Pr(e,t,i,a,s);else if(l&32){let c=Qc(r,n),d;for(;d=c();)Pr(e,t,i,d,s);Pr(e,t,i,a,s)}else l&16?VC(t,e,n,r,i,s):Pr(e,t,i,a,s);r=o?r.projectionNext:r.next}}function Ui(t,e,r,n,i,s){eu(r,n,t.firstChild,e,i,s,!1)}function VC(t,e,r,n,i,s){let o=r[Xt],l=o[Lt].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Pr(e,t,i,d,s)}else{let c=l,d=o[ze];Sg(n)&&(c.flags|=128),eu(t,e,c,d,i,s,!0)}}function $C(t,e,r,n,i){let s=r[Gn],o=Kt(r);s!==o&&Pr(e,t,n,s,i);for(let a=_t;a<r.length;a++){let l=r[a];Ui(l[Ee],l,t,e,n,s)}}function UC(t,e,r,n,i){if(e)i?t.addClass(r,n):t.removeClass(r,n);else{let s=n.indexOf("-")===-1?void 0:ln.DashCase;i==null?t.removeStyle(r,n,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ln.Important),t.setStyle(r,n,i,s))}}function HC(t,e,r){t.setAttribute(e,"style",r)}function Ng(t,e,r){r===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function Lg(t,e,r){let{mergedAttrs:n,classes:i,styles:s}=r;n!==null&&Wl(t,e,n),i!==null&&Ng(t,e,i),s!==null&&HC(t,e,s)}var Js;function WC(){if(Js===void 0&&(Js=null,on.trustedTypes))try{Js=on.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Js}function Vo(t){return WC()?.createHTML(t)||t}var eo;function Fg(){if(eo===void 0&&(eo=null,on.trustedTypes))try{eo=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return eo}function tp(t){return Fg()?.createHTML(t)||t}function np(t){return Fg()?.createScriptURL(t)||t}var cn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Sp})`}},rc=class extends cn{getTypeName(){return"HTML"}},ic=class extends cn{getTypeName(){return"Style"}},sc=class extends cn{getTypeName(){return"Script"}},oc=class extends cn{getTypeName(){return"URL"}},ac=class extends cn{getTypeName(){return"ResourceURL"}};function jt(t){return t instanceof cn?t.changingThisBreaksApplicationSecurity:t}function hn(t,e){let r=zC(t);if(r!=null&&r!==e){if(r==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${r} (see ${Sp})`)}return r===e}function zC(t){return t instanceof cn&&t.getTypeName()||null}function kg(t){return new rc(t)}function jg(t){return new ic(t)}function Bg(t){return new sc(t)}function Vg(t){return new oc(t)}function $g(t){return new ac(t)}function GC(t){let e=new cc(t);return qC()?new lc(e):e}var lc=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let r=new window.DOMParser().parseFromString(Vo(e),"text/html").body;return r===null?this.inertDocumentHelper.getInertBodyElement(e):(r.removeChild(r.firstChild),r)}catch{return null}}},cc=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let r=this.inertDocument.createElement("template");return r.innerHTML=Vo(e),r}};function qC(){try{return!!new window.DOMParser().parseFromString(Vo(""),"text/html")}catch{return!1}}var YC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $o(t){return t=String(t),t.match(YC)?t:"unsafe:"+t}function fn(t){let e={};for(let r of t.split(","))e[r]=!0;return e}function Hi(...t){let e={};for(let r of t)for(let n in r)r.hasOwnProperty(n)&&(e[n]=!0);return e}var Ug=fn("area,br,col,hr,img,wbr"),Hg=fn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wg=fn("rp,rt"),XC=Hi(Wg,Hg),KC=Hi(Hg,fn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),QC=Hi(Wg,fn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rp=Hi(Ug,KC,QC,XC),zg=fn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ZC=fn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),JC=fn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),eE=Hi(zg,ZC,JC),tE=fn("script,style,template"),uc=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let r=e.firstChild,n=!0;for(;r;){if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild){r=r.firstChild;continue}for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let i=this.checkClobberedElement(r,r.nextSibling);if(i){r=i;break}r=this.checkClobberedElement(r,r.parentNode)}}return this.buf.join("")}startElement(e){let r=e.nodeName.toLowerCase();if(!rp.hasOwnProperty(r))return this.sanitizedSomething=!0,!tE.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);let n=e.attributes;for(let i=0;i<n.length;i++){let s=n.item(i),o=s.name,a=o.toLowerCase();if(!eE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;zg[a]&&(l=$o(l)),this.buf.push(" ",o,'="',ip(l),'"')}return this.buf.push(">"),!0}endElement(e){let r=e.nodeName.toLowerCase();rp.hasOwnProperty(r)&&!Ug.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(e){this.buf.push(ip(e))}checkClobberedElement(e,r){if(r&&(e.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return r}},nE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rE=/([^\#-~ |!])/g;function ip(t){return t.replace(/&/g,"&amp;").replace(nE,function(e){let r=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((r-55296)*1024+(n-56320)+65536)+";"}).replace(rE,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var to;function tu(t,e){let r=null;try{to=to||GC(t);let n=e?String(e):"";r=to.getInertBodyElement(n);let i=5,s=n;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,n=s,s=r.innerHTML,r=to.getInertBodyElement(n)}while(n!==s);let a=new uc().sanitizeChildren(sp(r)||r);return Vo(a)}finally{if(r){let n=sp(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function sp(t){return"content"in t&&iE(t)?t.content:null}function iE(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Bt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Bt||{});function Gg(t){let e=nu();return e?tp(e.sanitize(Bt.HTML,t)||""):hn(t,"HTML")?tp(jt(t)):tu(Cg(),Rc(t))}function qg(t){let e=nu();return e?e.sanitize(Bt.URL,t)||"":hn(t,"URL")?jt(t):$o(Rc(t))}function Uo(t){let e=nu();if(e)return np(e.sanitize(Bt.RESOURCE_URL,t)||"");if(hn(t,"ResourceURL"))return np(jt(t));throw new he(904,!1)}function nu(){let t=$e();return t&&t[Nr].sanitizer}var sE="h",oE="b";var aE=(t,e,r)=>null;function ru(t,e,r=!1){return aE(t,e,r)}var dc=class{},bo=class{};function lE(t){let e=Error(`No component factory found for ${et(t)}.`);return e[cE]=t,e}var cE="ngComponent";var hc=class{resolveComponentFactory(e){throw lE(e)}},Ho=(()=>{let e=class e{};e.NULL=new hc;let t=e;return t})();function uE(){return zr(kt(),$e())}function zr(t,e){return new In(Ft(t,e))}var In=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=uE;let t=e;return t})();function dE(t){return t instanceof In?t.nativeElement:t}var Oi=class{};var hE=(()=>{let e=class e{};e.\u0275prov=ve({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Vr=class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}},fE=new Vr("17.0.4"),Ll={};function _o(t,e,r,n,i=!1){for(;r!==null;){let s=e[r.index];s!==null&&n.push(Kt(s)),Nt(s)&&pE(s,n);let o=r.type;if(o&8)_o(t,e,r.child,n);else if(o&32){let a=Qc(r,e),l;for(;l=a();)n.push(l)}else if(o&16){let a=Og(e,r);if(Array.isArray(a))n.push(...a);else{let l=Zc(e[Xt]);_o(l[Ee],l,a,n,!0)}}r=i?r.projectionNext:r.next}return n}function pE(t,e){for(let r=_t;r<t.length;r++){let n=t[r],i=n[Ee].firstChild;i!==null&&_o(n[Ee],n,i,e)}t[Gn]!==t[dn]&&e.push(t[Gn])}var Yg=[];function gE(t){return t[zn]??mE(t)}function mE(t){let e=Yg.pop()??Object.create(yE);return e.lView=t,e}function vE(t){t.lView[zn]!==t&&(t.lView=null,Yg.push(t))}var yE=Fe(ce({},tf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Oo(t.lView)},consumerOnSignalRead(){this.lView[zn]=this}}),bE="ngOriginalError";function Fl(t){return t[bE]}var un=class{constructor(){this._console=console}handleError(e){let r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&Fl(e);for(;r&&Fl(r);)r=Fl(r);return r||null}};var Xg=!1,_E=new xe("",{providedIn:"root",factory:()=>Xg});var Wo={};function pn(t){Kg(Dt(),$e(),Bi()+t,!1)}function Kg(t,e,r,n){if(!n)if((e[fe]&3)===3){let s=t.preOrderCheckHooks;s!==null&&ro(e,s,r)}else{let s=t.preOrderHooks;s!==null&&io(e,s,0,r)}qn(r)}function gn(t,e=Ce.Default){let r=$e();if(r===null)return _e(t,e);let n=kt();return dg(n,r,Et(t),e)}function wE(t,e){let r=t.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)qn(~i);else{let s=i,o=r[++n],a=r[++n];xw(o,s);let l=e[s];a(2,l)}}}finally{qn(-1)}}function zo(t,e,r,n,i,s,o,a,l,c,d){let u=e.blueprint.slice();return u[dn]=i,u[fe]=n|4|128|8,(c!==null||t&&t[fe]&2048)&&(u[fe]|=2048),zp(u),u[ze]=u[Hr]=t,u[St]=r,u[Nr]=o||t&&t[Nr],u[tt]=a||t&&t[tt],u[Or]=l||t&&t[Or]||null,u[Lt]=s,u[Mo]=yC(),u[zl]=d,u[Bp]=c,u[Xt]=e.type==2?t[Xt]:u,u}function Wi(t,e,r,n,i){let s=t.data[e];if(s===null)s=CE(t,e,r,n,i),Dw()&&(s.flags|=32);else if(s.type&64){s.type=r,s.value=n,s.attrs=i;let o=Cw();s.injectorIndex=o===null?-1:o.injectorIndex}return Jn(s,!0),s}function CE(t,e,r,n,i){let s=Yp(),o=Bc(),a=o?s:s&&s.parent,l=t.data[e]=IE(t,a,r,e,n,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function Qg(t,e,r,n){if(r===0)return-1;let i=e.length;for(let s=0;s<r;s++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function Zg(t,e,r,n,i){let s=Bi(),o=n&2;try{qn(-1),o&&e.length>an&&Kg(t,e,an,!1),zt(o?2:0,i),r(n,i)}finally{qn(s),zt(o?3:1,i)}}function iu(t,e,r){if(Lc(e)){let n=yt(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,r[o],o)}}finally{yt(n)}}}function su(t,e,r){qp()&&(LE(t,e,r,Ft(r,e)),(r.flags&64)===64&&tm(t,e,r))}function ou(t,e,r=Ft){let n=e.localNames;if(n!==null){let i=e.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=o===-1?r(e,t):t[o];t[i++]=a}}}function Jg(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=au(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function au(t,e,r,n,i,s,o,a,l,c,d){let u=an+n,h=u+i,m=EE(u,h),f=typeof c=="function"?c():c;return m[Ee]={type:t,blueprint:m,template:r,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1,ssrId:d}}function EE(t,e){let r=[];for(let n=0;n<e;n++)r.push(n<t?null:Wo);return r}function SE(t,e,r,n){let s=n.get(_E,Xg)||r===Yt.ShadowDom,o=t.selectRootElement(e,s);return AE(o),o}function AE(t){DE(t)}var DE=t=>null;function xE(t,e,r,n){let i=sm(e);i.push(r),t.firstCreatePass&&om(t).push(n,i.length-1)}function IE(t,e,r,n,i,s){let o=e?e.injectorIndex:-1,a=0;return bw()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function op(t,e,r,n){for(let i in t)if(t.hasOwnProperty(i)){r=r===null?{}:r;let s=t[i];n===null?ap(r,e,i,s):n.hasOwnProperty(i)&&ap(r,e,n[i],s)}return r}function ap(t,e,r,n){t.hasOwnProperty(r)?t[r].push(e,n):t[r]=[e,n]}function TE(t,e,r){let n=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let d=n;d<i;d++){let u=s[d],h=r?r.get(u):null,m=h?h.inputs:null,f=h?h.outputs:null;l=op(u.inputs,d,l,m),c=op(u.outputs,d,c,f);let p=l!==null&&o!==null&&!Rp(e)?WE(l,d,o):null;a.push(p)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function ME(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function PE(t,e,r,n,i,s,o,a){let l=Ft(e,r),c=e.inputs,d;!a&&c!=null&&(d=c[n])?(cu(t,r,d,n,i),Po(e)&&RE(r,e.index)):e.type&3?(n=ME(n),i=o!=null?o(i,e.value||"",n):i,s.setProperty(l,n,i)):e.type&12}function RE(t,e){let r=Zn(e,t);r[fe]&16||(r[fe]|=64)}function lu(t,e,r,n){if(qp()){let i=n===null?null:{"":-1},s=kE(t,r),o,a;s===null?o=a=null:[o,a]=s,o!==null&&em(t,e,r,o,i,a),i&&jE(r,n,i)}r.mergedAttrs=Nc(r.mergedAttrs,r.attrs)}function em(t,e,r,n,i,s){for(let c=0;c<n.length;c++)Hw(ag(r,e),t,n[c].type);VE(r,t.data.length,n.length);for(let c=0;c<n.length;c++){let d=n[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=Qg(t,e,n.length,null);for(let c=0;c<n.length;c++){let d=n[c];r.mergedAttrs=Nc(r.mergedAttrs,d.hostAttrs),$E(t,r,e,l,d),BE(l,d,i),d.contentQueries!==null&&(r.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(r.flags|=64);let u=d.type.prototype;!o&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),o=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}TE(t,r,s)}function OE(t,e,r,n,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;NE(o)!=a&&o.push(a),o.push(r,n,s)}}function NE(t){let e=t.length;for(;e>0;){let r=t[--e];if(typeof r=="number"&&r<0)return r}return 0}function LE(t,e,r,n){let i=r.directiveStart,s=r.directiveEnd;Po(r)&&UE(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||ag(r,e),Sn(n,e);let o=r.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],c=Br(e,t,a,r);if(Sn(c,e),o!==null&&HE(e,a-i,c,l,r,o),ji(l)){let d=Zn(r.index,e);d[St]=Br(e,t,a,r)}}}function tm(t,e,r){let n=r.directiveStart,i=r.directiveEnd,s=r.index,o=Iw();try{qn(s);for(let a=n;a<i;a++){let l=t.data[a],c=e[a];ql(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&FE(l,c)}}finally{qn(-1),ql(o)}}function FE(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function kE(t,e){let r=t.directiveRegistry,n=null,i=null;if(r)for(let s=0;s<r.length;s++){let o=r[s];if(X0(e,o.selectors,!1))if(n||(n=[]),ji(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),n.unshift(...a,o);let l=a.length;fc(t,e,l)}else n.unshift(o),fc(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,n,i),n.push(o)}return n===null?null:[n,i]}function fc(t,e,r){e.componentOffset=r,(t.components??=[]).push(e.index)}function jE(t,e,r){if(e){let n=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=r[e[i+1]];if(s==null)throw new he(-301,!1);n.push(e[i],s)}}}function BE(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;ji(e)&&(r[""]=t)}}function VE(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}function $E(t,e,r,n,i){t.data[n]=i;let s=i.factory||(i.factory=kr(i.type,!0)),o=new Ri(s,ji(i),gn);t.blueprint[n]=o,r[n]=o,OE(t,e,n,Qg(t,r,i.hostVars,Wo),i)}function UE(t,e,r){let n=Ft(e,t),i=Jg(r),s=t[Nr].rendererFactory,o=16;r.signals?o=4096:r.onPush&&(o=64);let a=Go(t,zo(t,i,null,o,n,e,null,s.createRenderer(n,r),null,null,null));t[e.index]=a}function HE(t,e,r,n,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],d=o[a++];nm(n,r,l,c,d)}}function nm(t,e,r,n,i){let s=yt(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(n)&&(i=o[n].call(e,i)),t.setInput!==null?t.setInput(e,i,r,n):e[n]=i}finally{yt(s)}}function WE(t,e,r){let n=null,i=0;for(;i<r.length;){let s=r[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){n===null&&(n=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){n.push(s,o[a+1],r[i+1]);break}}i+=2}return n}function rm(t,e,r,n){return[t,!0,0,e,null,n,null,r,null,null]}function im(t,e){let r=t.contentQueries;if(r!==null){let n=yt(null);try{for(let i=0;i<r.length;i+=2){let s=r[i],o=r[i+1];if(o!==-1){let a=t.data[o];Vc(s),a.contentQueries(2,e[o],o)}}}finally{yt(n)}}}function Go(t,e){return t[Pi]?t[zf][Ot]=e:t[Pi]=e,t[zf]=e,e}function pc(t,e,r){Vc(0);let n=yt(null);try{e(t,r)}finally{yt(n)}}function sm(t){return t[Mi]||(t[Mi]=[])}function om(t){return t.cleanup||(t.cleanup=[])}function am(t,e){let r=t[Or],n=r?r.get(un,null):null;n&&n.handleError(e)}function cu(t,e,r,n,i){for(let s=0;s<r.length;){let o=r[s++],a=r[s++],l=e[o],c=t.data[o];nm(c,l,n,a,i)}}var zE=100;function GE(t,e=!0){let r=t[Nr],n=r.rendererFactory,i=r.afterRenderEventManager,s=!1;s||(n.begin?.(),i?.begin());try{let o=t[Ee],a=t[St];lm(o,t,o.template,a),qE(t)}catch(o){throw e&&am(t,o),o}finally{s||(n.end?.(),r.inlineEffectRunner?.flush(),i?.end())}}function qE(t){let e=0;for(;t[fe]&9216||t[zn]?.dirty;){if(e===zE)throw new he(103,!1);e++,dm(t,1)}}function lm(t,e,r,n){let i=e[fe];if((i&256)===256)return;let s=!1;!s&&e[Nr].inlineEffectRunner?.flush(),$c(e);let o=null,a=null;!s&&YE(t)&&(a=gE(e),o=nf(a));try{zp(e),Ew(t.bindingStartIndex),r!==null&&Zg(t,e,r,2,n);let l=(i&3)===3;if(!s)if(l){let u=t.preOrderCheckHooks;u!==null&&ro(e,u,null)}else{let u=t.preOrderHooks;u!==null&&io(e,u,0,null),Ml(e,0)}if(XE(e),cm(e,0),t.contentQueries!==null&&im(t,e),!s)if(l){let u=t.contentCheckHooks;u!==null&&ro(e,u)}else{let u=t.contentHooks;u!==null&&io(e,u,1),Ml(e,1)}wE(t,e);let c=t.components;c!==null&&hm(e,c,0);let d=t.viewQuery;if(d!==null&&pc(2,d,n),!s)if(l){let u=t.viewCheckHooks;u!==null&&ro(e,u)}else{let u=t.viewHooks;u!==null&&io(e,u,2),Ml(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Tl]){for(let u of e[Tl])u();e[Tl]=null}s||(e[fe]&=-73)}catch(l){throw Oo(e),l}finally{a!==null&&(rf(a,o),vE(a)),Uc()}}function YE(t){return t.type!==2}function cm(t,e){for(let r=Dg(t);r!==null;r=xg(r)){r[fe]&=~Fr.HasChildViewsToRefresh;for(let n=_t;n<r.length;n++){let i=r[n];um(i,e)}}}function XE(t){for(let e=Dg(t);e!==null;e=xg(e)){if(!(e[fe]&Fr.HasTransplantedViews))continue;let r=e[Lr];for(let n=0;n<r.length;n++){let i=r[n],s=i[ze];fw(i)}}}function KE(t,e,r){let n=Zn(e,t);um(n,r)}function um(t,e){Fc(t)&&dm(t,e)}function dm(t,e){let n=t[Ee],i=t[fe],s=t[zn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&al(s)),s&&(s.dirty=!1),t[fe]&=-9217,o)lm(n,t,n.template,t[St]);else if(i&8192){cm(t,1);let a=n.components;a!==null&&hm(t,a,1)}}function hm(t,e,r){for(let n=0;n<e.length;n++)KE(t,e[n],r)}function uu(t){for(;t;){t[fe]|=64;let e=Zc(t);if(iw(t)&&!e)return t;t=e}return null}var Yn=class{get rootNodes(){let e=this._lView,r=e[Ee];return _o(r,e,r.firstChild,[])}constructor(e,r,n=!0){this._lView=e,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[St]}set context(e){this._lView[St]=e}get destroyed(){return(this._lView[fe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ze];if(Nt(e)){let r=e[ho],n=r?r.indexOf(this):-1;n>-1&&(tc(e,n),go(r,n))}this._attachedToViewContainer=!1}Pg(this._lView[Ee],this._lView)}onDestroy(e){gw(this._lView,e)}markForCheck(){uu(this._cdRefInjectingView||this._lView)}detach(){this._lView[fe]&=-129}reattach(){Gp(this._lView),this._lView[fe]|=128}detectChanges(){GE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,DC(this._lView[Ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=e}},qo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=QE;let t=e;return t})();function QE(t){return ZE(kt(),$e(),(t&16)===16)}function ZE(t,e,r){if(Po(t)&&!r){let n=Zn(t.index,e);return new Yn(n,n)}else if(t.type&47){let n=e[Xt];return new Yn(n,e)}return null}var lp=new Set;function fm(t){lp.has(t)||(lp.add(t),performance?.mark?.("mark_use_counter",{detail:{feature:t}}))}var gc=class extends at{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,r,n){let i=e,s=r||(()=>null),o=n;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=kl(s),i&&(i=kl(i)),o&&(o=kl(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Xe&&e.add(a),a}};function kl(t){return e=>{setTimeout(t,void 0,e)}}var ft=gc;function cp(...t){}function JE(){let t=typeof on.requestAnimationFrame=="function",e=on[t?"requestAnimationFrame":"setTimeout"],r=on[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&r){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:r}}var je=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ft(!1),this.onMicrotaskEmpty=new ft(!1),this.onStable=new ft(!1),this.onError=new ft(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=JE().nativeRequestAnimationFrame,nS(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new he(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,eS,cp,cp);try{return s.runTask(o,r,n)}finally{s.cancelTask(o)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}},eS={};function du(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tS(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(on,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mc(t),t.isCheckStableRunning=!0,du(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mc(t))}function nS(t){let e=()=>{tS(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,s,o,a)=>{if(rS(a))return r.invokeTask(i,s,o,a);try{return up(t),r.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),dp(t)}},onInvoke:(r,n,i,s,o,a,l)=>{try{return up(t),r.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),dp(t)}},onHasTask:(r,n,i,s)=>{r.hasTask(i,s),n===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,mc(t),du(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,n,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function mc(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function up(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dp(t){t._nesting--,du(t)}var pm=new xe("",{providedIn:"root",factory:gm});function gm(){let t=ue(je),e=!0,r=new Ie(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),n=new Ie(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});let o=t.onUnstable.subscribe(()=>{je.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}});return wl(r,n.pipe(Zs()))}function rS(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var iS=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=ve({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function sS(t,e){let r=Zn(e,t),n=r[Ee];oS(n,r);let i=r[dn];i!==null&&r[zl]===null&&(r[zl]=ru(i,r[Or])),hu(n,r,r[St])}function oS(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}function hu(t,e,r){$c(e);try{let n=t.viewQuery;n!==null&&pc(1,n,r);let i=t.template;i!==null&&Zg(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&im(t,e),t.staticViewQueries&&pc(2,t.viewQuery,r);let s=t.components;s!==null&&aS(e,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[fe]&=-5,Uc()}}function aS(t,e){for(let r=0;r<e.length;r++)sS(t,e[r])}function wo(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Lf(i,a);else if(s==2){let l=a,c=e[++o];n=Lf(n,l+": "+c+";")}}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}var Co=class extends Ho{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let r=Wn(e);return new Ni(r,this.ngModule)}};function hp(t){let e=[];for(let r in t)if(t.hasOwnProperty(r)){let n=t[r];e.push({propName:n,templateName:r})}return e}function lS(t){let e=t.toLowerCase();return e==="svg"?lw:e==="math"?cw:null}var vc=class{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=xo(n);let i=this.injector.get(e,Ll,n);return i!==Ll||r===Ll?i:this.parentInjector.get(e,r,n)}},Ni=class extends bo{get inputs(){let e=this.componentDef,r=e.inputTransforms,n=hp(e.inputs);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return hp(this.componentDef.outputs)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=J0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){i=i||this.ngModule;let s=i instanceof At?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new vc(e,s):e,a=o.get(Oi,null);if(a===null)throw new he(407,!1);let l=o.get(hE,null),c=o.get(iS,null),d={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:c},u=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",m=n?SE(u,n,this.componentDef.encapsulation,o):Tg(u,h,lS(h)),f=4608,p=this.componentDef.onPush?576:528,v=this.componentDef.signals?f:p,C=null;m!==null&&(C=ru(m,o,!0));let E=au(0,null,null,1,0,null,null,null,null,null,null),M=zo(null,E,null,v,null,null,d,u,o,null,C);$c(M);let D,y;try{let b=this.componentDef,I,F=null;b.findHostDirectiveDefs?(I=[],F=new Map,b.findHostDirectiveDefs(b,I,F),I.push(b)):I=[b];let B=cS(M,m),_=uS(B,m,b,I,M,d,u);y=Wp(E,an),m&&fS(u,b,m,n),r!==void 0&&pS(y,this.ngContentSelectors,r),D=hS(_,b,I,F,M,[gS]),hu(E,M,null)}finally{Uc()}return new yc(this.componentType,D,zr(y,M),M,y)}},yc=class extends dc{constructor(e,r,n,i,s){super(),this.location=n,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Yn(i,void 0,!1),this.componentType=e}setInput(e,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;let s=this._rootLView;cu(s[Ee],s,i,e,r),this.previousInputValues.set(e,r);let o=Zn(this._tNode.index,s);uu(o)}}get injector(){return new Hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function cS(t,e){let r=t[Ee],n=an;return t[n]=e,Wi(r,n,2,"#host",null)}function uS(t,e,r,n,i,s,o){let a=i[Ee];dS(n,t,e,o);let l=null;e!==null&&(l=ru(e,i[Or]));let c=s.rendererFactory.createRenderer(e,r),d=16;r.signals?d=4096:r.onPush&&(d=64);let u=zo(i,Jg(r),null,d,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&fc(a,t,n.length-1),Go(i,u),i[t.index]=u}function dS(t,e,r,n){for(let i of t)e.mergedAttrs=Nc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(wo(e,e.mergedAttrs,!0),r!==null&&Lg(n,r,e))}function hS(t,e,r,n,i,s){let o=kt(),a=i[Ee],l=Ft(o,i);em(a,i,o,r,null,n);for(let d=0;d<r.length;d++){let u=o.directiveStart+d,h=Br(i,a,u,o);Sn(h,i)}tm(a,i,o),l&&Sn(l,i);let c=Br(i,a,o.directiveStart+o.componentOffset,o);if(t[St]=i[St]=c,s!==null)for(let d of s)d(c,e);return iu(a,o,t),c}function fS(t,e,r,n){if(n)Wl(t,r,["ng-version",fE.full]);else{let{attrs:i,classes:s}=ew(e.selectors[0]);i&&Wl(t,r,i),s&&s.length>0&&Ng(t,r,s.join(" "))}}function pS(t,e,r){let n=t.projection=[];for(let i=0;i<e.length;i++){let s=r[i];n.push(s!=null?Array.from(s):null)}}function gS(){let t=kt();Fo($e()[Ee],t)}function mm(t,e,r){let n=t[e];return Object.is(n,r)?!1:(t[e]=r,!0)}function no(t,e){return t<<17|e<<2}function Xn(t){return t>>17&32767}function mS(t){return(t&2)==2}function vS(t,e){return t&131071|e<<17}function bc(t){return t|2}function $r(t){return(t&131068)>>2}function jl(t,e){return t&-131069|e<<2}function yS(t){return(t&1)===1}function _c(t){return t|1}function bS(t,e,r,n,i,s){let o=s?e.classBindings:e.styleBindings,a=Xn(o),l=$r(o);t[n]=r;let c=!1,d;if(Array.isArray(r)){let u=r;d=u[1],(d===null||Vi(u,d)>0)&&(c=!0)}else d=r;if(i)if(l!==0){let h=Xn(t[a+1]);t[n+1]=no(h,a),h!==0&&(t[h+1]=jl(t[h+1],n)),t[a+1]=vS(t[a+1],n)}else t[n+1]=no(a,0),a!==0&&(t[a+1]=jl(t[a+1],n)),a=n;else t[n+1]=no(l,0),a===0?a=n:t[l+1]=jl(t[l+1],n),l=n;c&&(t[n+1]=bc(t[n+1])),fp(t,d,n,!0,s),fp(t,d,n,!1,s),_S(e,d,t,n,s),o=no(a,l),s?e.classBindings=o:e.styleBindings=o}function _S(t,e,r,n,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Vi(s,e)>=0&&(r[n+1]=_c(r[n+1]))}function fp(t,e,r,n,i){let s=t[r+1],o=e===null,a=n?Xn(s):$r(s),l=!1;for(;a!==0&&(l===!1||o);){let c=t[a],d=t[a+1];wS(c,e)&&(l=!0,t[a+1]=n?_c(d):bc(d)),a=n?Xn(d):$r(d)}l&&(t[r+1]=n?bc(s):_c(s))}function wS(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Vi(t,e)>=0:!1}function nt(t,e,r){let n=$e(),i=Sw();if(mm(n,i,e)){let s=Dt(),o=Rw();PE(s,o,n,t,e,n[tt],r,!1)}return nt}function pp(t,e,r,n,i){let s=e.inputs,o=i?"class":"style";cu(t,r,s[o],o,n)}function Yo(t,e,r){return vm(t,e,r,!1),Yo}function fu(t,e){return vm(t,e,null,!0),fu}function vm(t,e,r,n){let i=$e(),s=Dt(),o=Aw(2);if(s.firstUpdatePass&&ES(s,t,o,n),e!==Wo&&mm(i,o,e)){let a=s.data[Bi()];IS(s,a,i,i[tt],t,i[o+1]=TS(e,r),n,o)}}function CS(t,e){return e>=t.expandoStartIndex}function ES(t,e,r,n){let i=t.data;if(i[r+1]===null){let s=i[Bi()],o=CS(t,r);MS(s,n)&&e===null&&!o&&(e=!1),e=SS(i,s,e,n),bS(i,s,e,r,o,n)}}function SS(t,e,r,n){let i=Tw(t),s=n?e.residualClasses:e.residualStyles;if(i===null)(n?e.classBindings:e.styleBindings)===0&&(r=Bl(null,t,e,r,n),r=Li(r,e.attrs,n),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(r=Bl(i,t,e,r,n),s===null){let l=AS(t,e,n);l!==void 0&&Array.isArray(l)&&(l=Bl(null,t,e,l[1],n),l=Li(l,e.attrs,n),DS(t,e,n,l))}else s=xS(t,e,n)}return s!==void 0&&(n?e.residualClasses=s:e.residualStyles=s),r}function AS(t,e,r){let n=r?e.classBindings:e.styleBindings;if($r(n)!==0)return t[Xn(n)]}function DS(t,e,r,n){let i=r?e.classBindings:e.styleBindings;t[Xn(i)]=n}function xS(t,e,r){let n,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;n=Li(n,o,r)}return Li(n,e.attrs,r)}function Bl(t,e,r,n,i){let s=null,o=r.directiveEnd,a=r.directiveStylingLast;for(a===-1?a=r.directiveStart:a++;a<o&&(s=e[a],n=Li(n,s.hostAttrs,i),s!==t);)a++;return t!==null&&(r.directiveStylingLast=a),n}function Li(t,e,r){let n=r?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Jw(t,o,r?!0:e[++s]))}return t===void 0?null:t}function IS(t,e,r,n,i,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],d=yS(c)?gp(l,e,r,i,$r(c),o):void 0;if(!Eo(d)){Eo(s)||mS(c)&&(s=gp(l,null,r,i,a,o));let u=uw(Bi(),r);UC(n,o,u,i,s)}}function gp(t,e,r,n,i,s){let o=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),d=c?l[1]:l,u=d===null,h=r[i+1];h===Wo&&(h=u?Rt:void 0);let m=u?Rl(h,n):d===n?h:void 0;if(c&&!Eo(m)&&(m=Rl(l,n)),Eo(m)&&(a=m,o))return a;let f=t[i+1];i=o?Xn(f):$r(f)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Rl(l,n))}return a}function Eo(t){return t!==void 0}function TS(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=et(jt(t)))),t}function MS(t,e){return(t.flags&(e?8:16))!==0}var d$=new RegExp(`^(\\d+)*(${oE}|${sE})*(.*)`);var PS=(t,e)=>null;function mp(t,e){return PS(t,e)}function RS(t,e,r,n){let i=e.tView,o=t[fe]&4096?4096:16,a=zo(t,i,r,o,null,e,null,null,null,n?.injector??null,n?.dehydratedView??null),l=t[e.index];a[ki]=l;let c=t[qt];return c!==null&&(a[qt]=c.createEmbeddedView(i)),hu(i,a,r),a}function vp(t,e){return!e||Sg(t)}function OS(t,e,r,n=!0){let i=e[Ee];if(IC(i,e,t,r),n){let s=nc(r,t),o=e[tt],a=Jc(o,t[Gn]);a!==null&&AC(i,t[Lt],o,e,a,s)}}var tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=NS;let t=e;return t})();function NS(){let t=kt();return bm(t,$e())}var LS=tr,ym=class extends LS{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return zr(this._hostTNode,this._hostLView)}get injector(){return new Hn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Hc(this._hostTNode,this._hostLView);if(ig(e)){let r=po(e,this._hostLView),n=fo(e),i=r[Ee].data[n+8];return new Hn(i,r)}else return new Hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let r=yp(this._lContainer);return r!==null&&r[e]||null}get length(){return this._lContainer.length-_t}createEmbeddedView(e,r,n){let i,s;typeof n=="number"?i=n:n!=null&&(i=n.index,s=n.injector);let o=mp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(r||{},s,o);return this.insertImpl(a,i,vp(this._hostTNode,o)),a}createComponent(e,r,n,i,s){let o=e&&!Yw(e),a;if(o)a=r;else{let f=r||{};a=f.index,n=f.injector,i=f.projectableNodes,s=f.environmentInjector||f.ngModuleRef}let l=o?e:new Ni(Wn(e)),c=n||this.parentInjector;if(!s&&l.ngModule==null){let p=(o?c:this.parentInjector).get(At,null);p&&(s=p)}let d=Wn(l.componentType??{}),u=mp(this._lContainer,d?.id??null),h=u?.firstChild??null,m=l.create(c,i,h,s);return this.insertImpl(m.hostView,a,vp(this._hostTNode,u)),m}insert(e,r){return this.insertImpl(e,r,!0)}insertImpl(e,r,n){let i=e._lView;if(hw(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[ze],c=new ym(l,l[Lt],l[ze]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(r),o=this._lContainer;return OS(o,i,s,n),e.attachToViewContainerRef(),pg(Vl(o),s,e),e}move(e,r){return this.insert(e,r)}indexOf(e){let r=yp(this._lContainer);return r!==null?r.indexOf(e):-1}remove(e){let r=this._adjustIndex(e,-1),n=tc(this._lContainer,r);n&&(go(Vl(this._lContainer),r),Pg(n[Ee],n))}detach(e){let r=this._adjustIndex(e,-1),n=tc(this._lContainer,r);return n&&go(Vl(this._lContainer),r)!=null?new Yn(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function yp(t){return t[ho]}function Vl(t){return t[ho]||(t[ho]=[])}function bm(t,e){let r,n=e[t.index];return Nt(n)?r=n:(r=rm(n,e,null,t),e[t.index]=r,Go(e,r)),kS(r,e,t,n),new ym(r,t,e)}function FS(t,e){let r=t[tt],n=r.createComment(""),i=Ft(e,t),s=Jc(r,i);return yo(r,s,n,LC(r,i),!1),n}var kS=VS,jS=(t,e,r)=>!1;function BS(t,e,r){return jS(t,e,r)}function VS(t,e,r,n){if(t[Gn])return;let i;r.type&8?i=Kt(n):i=FS(e,r),t[Gn]=i}function $S(t,e,r,n,i,s,o,a,l){let c=e.consts,d=Wi(e,t,4,o||null,jr(c,a));lu(e,r,d,jr(c,l)),Fo(e,d);let u=d.tView=au(2,d,n,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,d),u.queries=e.queries.embeddedTView(d)),d}function Gr(t,e,r,n,i,s,o,a){let l=$e(),c=Dt(),d=t+an,u=c.firstCreatePass?$S(d,c,l,e,r,n,i,s,o):c.data[d];Jn(u,!1);let h=US(c,l,u,t);No()&&Bo(c,l,h,u),Sn(h,l);let m=rm(h,l,h,u);return l[d]=m,Go(l,m),BS(m,u,l),Ro(u)&&su(c,l,u),o!=null&&ou(l,u,a),Gr}var US=HS;function HS(t,e,r,n){return Lo(!0),e[tt].createComment("")}function WS(t,e,r,n,i,s){let o=e.consts,a=jr(o,i),l=Wi(e,t,2,n,a);return lu(e,r,l,jr(o,s)),l.attrs!==null&&wo(l,l.attrs,!1),l.mergedAttrs!==null&&wo(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function mn(t,e,r,n){let i=$e(),s=Dt(),o=an+t,a=i[tt],l=s.firstCreatePass?WS(o,s,i,e,r,n):s.data[o],c=zS(s,i,l,a,e,t);i[o]=c;let d=Ro(l);return Jn(l,!0),Lg(a,c,l),(l.flags&32)!==32&&No()&&Bo(s,i,c,l),mw()===0&&Sn(c,i),vw(),d&&(su(s,i,l),iu(s,l,i)),n!==null&&ou(i,l),mn}function vn(){let t=kt();Bc()?Xp():(t=t.parent,Jn(t,!1));let e=t;_w(e)&&ww(),yw();let r=Dt();return r.firstCreatePass&&(Fo(r,t),Lc(t)&&r.queries.elementEnd(t)),e.classesWithoutHost!=null&&kw(e)&&pp(r,e,$e(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&jw(e)&&pp(r,e,$e(),e.stylesWithoutHost,!1),vn}function yn(t,e,r,n){return mn(t,e,r,n),vn(),yn}var zS=(t,e,r,n,i,s)=>(Lo(!0),Tg(n,i,Ow()));function GS(t,e,r,n,i){let s=e.consts,o=jr(s,n),a=Wi(e,t,8,"ng-container",o);o!==null&&wo(a,o,!0);let l=jr(s,i);return lu(e,r,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Xo(t,e,r){let n=$e(),i=Dt(),s=t+an,o=i.firstCreatePass?GS(s,i,n,e,r):i.data[s];Jn(o,!0);let a=qS(i,n,o,t);return n[s]=a,No()&&Bo(i,n,a,o),Sn(a,n),Ro(o)&&(su(i,n,o),iu(i,o,n)),r!=null&&ou(n,o),Xo}function Ko(){let t=kt(),e=Dt();return Bc()?Xp():(t=t.parent,Jn(t,!1)),e.firstCreatePass&&(Fo(e,t),Lc(t)&&e.queries.elementEnd(t)),Ko}var qS=(t,e,r,n)=>(Lo(!0),EC(e[tt],""));function pu(){return $e()}var So="en-US";var YS=So;function XS(t){T0(t,"Expected localeId to be defined"),typeof t=="string"&&(YS=t.toLowerCase().replace(/_/g,"-"))}function zi(t){return!!t&&typeof t.then=="function"}function _m(t){return!!t&&typeof t.subscribe=="function"}function Gi(t,e,r,n){let i=$e(),s=Dt(),o=kt();return QS(s,i,i[tt],o,t,e,n),Gi}function KS(t,e,r,n){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===r&&i[s+1]===n){let a=e[Mi],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function QS(t,e,r,n,i,s,o){let a=Ro(n),c=t.firstCreatePass&&om(t),d=e[St],u=sm(e),h=!0;if(n.type&3||o){let p=Ft(n,e),v=o?o(p):p,C=u.length,E=o?D=>o(Kt(D[n.index])):n.index,M=null;if(!o&&a&&(M=KS(t,e,i,n.index)),M!==null){let D=M.__ngLastListenerFn__||M;D.__ngNextListenerFn__=s,M.__ngLastListenerFn__=s,h=!1}else{s=_p(n,e,d,s,!1);let D=r.listen(v,i,s);u.push(s,D),c&&c.push(i,E,C,C+1)}}else s=_p(n,e,d,s,!1);let m=n.outputs,f;if(h&&m!==null&&(f=m[i])){let p=f.length;if(p)for(let v=0;v<p;v+=2){let C=f[v],E=f[v+1],y=e[C][E].subscribe(s),b=u.length;u.push(s,y),c&&c.push(i,n.index,b,-(b+1))}}}function bp(t,e,r,n){try{return zt(6,e,r),r(n)!==!1}catch(i){return am(t,i),!1}finally{zt(7,e,r)}}function _p(t,e,r,n,i){return function s(o){if(o===Function)return n;let a=t.componentOffset>-1?Zn(t.index,e):e;uu(a);let l=bp(e,r,n,o),c=s.__ngNextListenerFn__;for(;c;)l=bp(e,r,c,o)&&l,c=c.__ngNextListenerFn__;return i&&l===!1&&o.preventDefault(),l}}function Qt(t=1){return Pw(t)}function Qo(t,e=""){let r=$e(),n=Dt(),i=t+an,s=n.firstCreatePass?Wi(n,i,1,e,null):n.data[i],o=ZS(n,r,s,e,t);r[i]=o,No()&&Bo(n,r,o,s),Jn(s,!1)}var ZS=(t,e,r,n,i)=>(Lo(!0),CC(e[tt],n));var An=class{},Fi=class{};var wc=class extends An{constructor(e,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Co(this);let i=Fp(e);this._bootstrapComponents=Eg(i.bootstrap),this._r3Injector=_g(e,r,[{provide:An,useValue:this},{provide:Ho,useValue:this.componentFactoryResolver},...n],et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Cc=class extends Fi{constructor(e){super(),this.moduleType=e}create(e){return new wc(this.moduleType,e,[])}};var Ao=class extends An{constructor(e){super(),this.componentFactoryResolver=new Co(this),this.instance=null;let r=new vo([...e.providers,{provide:An,useValue:this},{provide:Ho,useValue:this.componentFactoryResolver}],e.parent||qc(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function gu(t,e,r=null){return new Ao({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}var JS=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=vg(!1,n.type),s=i.length>0?gu([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ve({token:e,providedIn:"environment",factory:()=>new e(_e(At))});let t=e;return t})();function Zo(t){fm("NgStandalone"),t.getStandaloneInjector=e=>e.get(JS).getOrCreateStandaloneInjector(t)}function eA(){return this._results[Symbol.iterator]()}var Ec=class t{get changes(){return this._changes||(this._changes=new ft)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;let r=t.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=eA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,r){return this._results.reduce(e,r)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,r){this.dirty=!1;let n=Kw(e);(this._changesDetected=!Xw(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}},Ur=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rA;let t=e;return t})(),tA=Ur,nA=class extends tA{constructor(e,r,n){super(),this._declarationLView=e,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,n){let i=RS(this._declarationLView,this._declarationTContainer,e,{injector:r,dehydratedView:n});return new Yn(i)}};function rA(){return mu(kt(),$e())}function mu(t,e){return t.type&4?new nA(e,t,zr(t,e)):null}var Sc=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ac=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let r=e.queries;if(r!==null){let n=e.contentQueries!==null?e.contentQueries[0]:r.length,i=[];for(let s=0;s<n;s++){let o=r.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let r=0;r<this.queries.length;r++)Cm(e,r).matches!==null&&this.queries[r].setDirty()}},Dc=class{constructor(e,r,n=null){this.predicate=e,this.flags=r,this.read=n}},xc=class t{constructor(e=[]){this.queries=e}elementStart(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,r)}elementEnd(e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(e)}embeddedTView(e){let r=null;for(let n=0;n<this.length;n++){let i=r!==null?r.length:0,s=this.getByIndex(n).embeddedTView(e,i);s&&(s.indexInDeclarationView=n,r!==null?r.push(s):r=[s])}return r!==null?new t(r):null}template(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,r)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ic=class t{constructor(e,r=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(e,r){this.isApplyingToNode(r)&&this.matchTNode(e,r)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,r){this.elementStart(e,r)}embeddedTView(e,r){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,r),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let r=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==r;)n=n.parent;return r===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,r){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let s=n[i];this.matchTNodeWithReadOption(e,r,iA(r,s)),this.matchTNodeWithReadOption(e,r,so(r,e,s,!1,!1))}else n===Ur?r.type&4&&this.matchTNodeWithReadOption(e,r,-1):this.matchTNodeWithReadOption(e,r,so(r,e,n,!1,!1))}matchTNodeWithReadOption(e,r,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===In||i===tr||i===Ur&&r.type&4)this.addMatch(r.index,-2);else{let s=so(r,e,i,!1,!1);s!==null&&this.addMatch(r.index,s)}else this.addMatch(r.index,n)}}addMatch(e,r){this.matches===null?this.matches=[e,r]:this.matches.push(e,r)}};function iA(t,e){let r=t.localNames;if(r!==null){for(let n=0;n<r.length;n+=2)if(r[n]===e)return r[n+1]}return null}function sA(t,e){return t.type&11?zr(t,e):t.type&4?mu(t,e):null}function oA(t,e,r,n){return r===-1?sA(e,t):r===-2?aA(t,e,n):Br(t,t[Ee],r,e)}function aA(t,e,r){if(r===In)return zr(e,t);if(r===Ur)return mu(e,t);if(r===tr)return bm(e,t)}function wm(t,e,r,n){let i=e[qt].queries[n];if(i.matches===null){let s=t.data,o=r.matches,a=[];for(let l=0;l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let d=s[c];a.push(oA(e,d,o[l+1],r.metadata.read))}}i.matches=a}return i.matches}function Tc(t,e,r,n){let i=t.queries.getByIndex(r),s=i.matches;if(s!==null){let o=wm(t,e,i,r);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)n.push(o[a/2]);else{let c=s[a+1],d=e[-l];for(let u=_t;u<d.length;u++){let h=d[u];h[ki]===h[ze]&&Tc(h[Ee],h,c,n)}if(d[Lr]!==null){let u=d[Lr];for(let h=0;h<u.length;h++){let m=u[h];Tc(m[Ee],m,c,n)}}}}}return n}function Jo(t){let e=$e(),r=Dt(),n=Kp();Vc(n+1);let i=Cm(r,n);if(t.dirty&&dw(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?Tc(r,e,n,[]):wm(r,e,i,n);t.reset(s,dE),t.notifyOnChanges()}return!0}return!1}function vu(t,e,r){let n=Dt();n.firstCreatePass&&(uA(n,new Dc(t,e,r),-1),(e&2)===2&&(n.staticViewQueries=!0)),cA(n,$e(),e)}function ea(){return lA($e(),Kp())}function lA(t,e){return t[qt].queries[e].queryList}function cA(t,e,r){let n=new Ec((r&4)===4);xE(t,e,n,n.destroy),e[qt]===null&&(e[qt]=new Ac),e[qt].queries.push(new Sc(n))}function uA(t,e,r){t.queries===null&&(t.queries=new xc),t.queries.track(new Ic(e,r))}function Cm(t,e){return t.queries.getByIndex(e)}var Em=new xe("Application Initializer"),Sm=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=ue(Em,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let o=s();if(zi(o))n.push(o);else if(_m(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});n.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(s=>{this.reject(s)}),n.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ta=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function dA(){return typeof $localize<"u"&&$localize.locale||So}var yu=new xe("LocaleId",{providedIn:"root",factory:()=>ue(yu,Ce.Optional|Ce.SkipSelf)||dA()});var bu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}add(){this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mc=class{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}},_u=(()=>{let e=class e{compileModuleSync(n){return new Cc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),s=Fp(n),o=Eg(s.declarations).reduce((a,l)=>{let c=Wn(l);return c&&a.push(new Ni(c)),a},[]);return new Mc(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Am=new xe("");var lo=null;var Dm=new xe("PlatformDestroyListeners"),wu=new xe("appBootstrapListener");function hA(){of(()=>{throw new he(600,!1)})}function fA(t){return t.isBoundToModule}function pA(t=[]){if(lo)return lo;let e=mA(t);return lo=e,hA(),gA(e),e}function gA(t){t.get(Xc,null)?.forEach(r=>r())}function xm(t){try{let{rootComponent:e,appProviders:r,platformProviders:n}=t,i=pA(n),s=[CA(),...r||[]],a=new Ao({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(je);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(un,null),d;l.runOutsideAngular(()=>{d=l.onError.subscribe({next:m=>{c.handleError(m)}})});let u=()=>a.destroy(),h=i.get(Dm);return h.add(u),a.onDestroy(()=>{d.unsubscribe(),h.delete(u)}),yA(c,l,()=>{let m=a.get(Sm);return m.runInitializers(),m.donePromise.then(()=>{let f=a.get(yu,So);XS(f||So);let p=a.get(qi);return e!==void 0&&p.bootstrap(e),p})})})}catch(e){return Promise.reject(e)}}function mA(t=[],e){return er.create({name:e,providers:[{provide:jo,useValue:"platform"},{provide:Dm,useValue:new Set([()=>lo=null])},...t]})}function vA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function yA(t,e,r){try{let n=r();return zi(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}var qi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ue(Im),this.zoneIsStable=ue(pm),this.componentTypes=[],this.components=[],this.isStable=ue(bu).hasPendingTasks.pipe(bt(n=>n?pe(!1):this.zoneIsStable),El(),Zs()),this._injector=ue(At)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let s=n instanceof bo;if(!this._injector.get(Sm).done){let f="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&Lp(n)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new he(405,!1)}let a;s?a=n:a=this._injector.get(Ho).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=fA(a)?void 0:this._injector.get(An),c=i||a.selector,d=a.create(er.NULL,[],c,l),u=d.location.nativeElement,h=d.injector.get(Am,null);return h?.registerApplication(u),d.onDestroy(()=>{this.detachView(d.hostView),$l(this.components,d),h?.unregisterApplication(u)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;$l(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(wu,[]);[...this._bootstrapListeners,...i].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>$l(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new he(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $l(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}var Im=new xe("",{providedIn:"root",factory:()=>ue(un).handleError.bind(void 0)});function bA(){let t=ue(je),e=ue(un);return r=>t.runOutsideAngular(()=>e.handleError(r))}var _A=(()=>{let e=class e{constructor(){this.zone=ue(je),this.applicationRef=ue(qi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wA(t){return[{provide:je,useFactory:t},{provide:$i,multi:!0,useFactory:()=>{let e=ue(_A,{optional:!0});return()=>e.initialize()}},{provide:Im,useFactory:bA},{provide:pm,useFactory:gm}]}function CA(t){let e=wA(()=>new je(vA(t)));return ko([[],e])}var Cu=null;function Yr(){return Cu}function Om(t){Cu||(Cu=t)}var na=class{},lt=new xe("DocumentToken"),Nm=(()=>{let e=class e{historyGo(n){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:()=>(()=>ue(DA))(),providedIn:"platform"});let t=e;return t})();var DA=(()=>{let e=class e extends Nm{constructor(){super(),this._doc=ue(lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yr().getBaseHref(this._doc)}onPopState(n){let i=Yr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Yr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,s){this._history.pushState(n,i,s)}replaceState(n,i,s){this._history.replaceState(n,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function Lm(t,e){if(t.length==0)return e;if(e.length==0)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,r==2?t+e.substring(1):r==1?t+e:t+"/"+e}function Tm(t){let e=t.match(/#|\?|$/),r=e&&e.index||t.length,n=r-(t[r-1]==="/"?1:0);return t.slice(0,n)+t.slice(r)}function nr(t){return t&&t[0]!=="?"?"?"+t:t}var ia=(()=>{let e=class e{historyGo(n){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:()=>(()=>ue(Fm))(),providedIn:"root"});let t=e;return t})(),xA=new xe("appBaseHref"),Fm=(()=>{let e=class e extends ia{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ue(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Lm(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+nr(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${i}${s}`:i}pushState(n,i,s,o){let a=this.prepareExternalUrl(s+nr(o));this._platformLocation.pushState(n,i,a)}replaceState(n,i,s,o){let a=this.prepareExternalUrl(s+nr(o));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(_e(Nm),_e(xA,8))},e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Yi=(()=>{let e=class e{constructor(n){this._subject=new ft,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=MA(Tm(Mm(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+nr(i))}normalize(n){return e.stripTrailingSlash(TA(this._basePath,Mm(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",s=null){this._locationStrategy.pushState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nr(i)),s)}replaceState(n,i="",s=null){this._locationStrategy.replaceState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(s=>s(n,i))}subscribe(n,i,s){return this._subject.subscribe({next:n,error:i,complete:s})}};e.normalizeQueryParams=nr,e.joinWithSlash=Lm,e.stripTrailingSlash=Tm,e.\u0275fac=function(i){return new(i||e)(_e(ia))},e.\u0275prov=ve({token:e,factory:()=>IA(),providedIn:"root"});let t=e;return t})();function IA(){return new Yi(_e(ia))}function TA(t,e){if(!t||!e.startsWith(t))return e;let r=e.substring(t.length);return r===""||["/",";","?","#"].includes(r[0])?r:e}function Mm(t){return t.replace(/\/index.html$/,"")}function MA(t){if(new RegExp("^(https?:)?//").test(t)){let[,r]=t.split(/\/\/[^\/]+/);return r}return t}function km(t,e){e=encodeURIComponent(e);for(let r of t.split(";")){let n=r.indexOf("="),[i,s]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var jm=(()=>{let e=class e{constructor(n,i){this._viewContainer=n,this._context=new Eu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Pm("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Pm("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}};e.\u0275fac=function(i){return new(i||e)(gn(tr),gn(Ur))},e.\u0275dir=To({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Eu=class{constructor(){this.$implicit=null,this.ngIf=null}};function Pm(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${et(e)}'.`)}var Xi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=xn({type:e}),e.\u0275inj=Dn({});let t=e;return t})(),Bm="browser",PA="server";function Su(t){return t===PA}var ra=class{};var xu=class extends na{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Iu=class t extends xu{static makeCurrent(){Om(new t)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=NA();return r==null?null:LA(r)}resetBaseElement(){Ki=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return km(document.cookie,e)}},Ki=null;function NA(){return Ki=Ki||document.querySelector("base"),Ki?Ki.getAttribute("href"):null}var sa;function LA(t){sa=sa||document.createElement("a"),sa.setAttribute("href",t);let e=sa.pathname;return e.charAt(0)==="/"?e:`/${e}`}var FA=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:e.\u0275fac});let t=e;return t})(),Tu=new xe("EventManagerPlugins"),Hm=(()=>{let e=class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,s){return this._findPluginFor(i).addEventListener(n,i,s)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new he(5101,!1);return this._eventNameToPlugin.set(n,i),i}};e.\u0275fac=function(i){return new(i||e)(_e(Tu),_e(je))},e.\u0275prov=ve({token:e,factory:e.\u0275fac});let t=e;return t})(),oa=class{constructor(e){this._doc=e}},Au="ng-app-id",Wm=(()=>{let e=class e{constructor(n,i,s,o={}){this.doc=n,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Su(o),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(s=>s.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Au}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(n,i){let s=this.styleRef;if(s.has(n)){let o=s.get(n);return o.usage+=i,o.usage}return s.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===n)return s.delete(i),o.removeAttribute(Au),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Au,this.appId),n.appendChild(a),a}}addStyleToHost(n,i){let s=this.getStyleElement(n,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(_e(lt),_e(Yc),_e(Kc,8),_e(Wr))},e.\u0275prov=ve({token:e,factory:e.\u0275fac});let t=e;return t})(),Du={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pu=/%COMP%/g,zm="%COMP%",kA=`_nghost-${zm}`,jA=`_ngcontent-${zm}`,BA=!0,VA=new xe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>BA});function $A(t){return jA.replace(Pu,t)}function UA(t){return kA.replace(Pu,t)}function Gm(t,e){return e.map(r=>r.replace(Pu,t))}var Vm=(()=>{let e=class e{constructor(n,i,s,o,a,l,c,d=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Su(l),this.defaultRenderer=new Qi(n,a,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Yt.ShadowDom&&(i=Fe(ce({},i),{encapsulation:Yt.Emulated}));let s=this.getOrCreateRenderer(n,i);return s instanceof aa?s.applyToHost(n):s instanceof Zi&&s.applyStyles(),s}getOrCreateRenderer(n,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Yt.Emulated:o=new aa(c,d,i,this.appId,u,a,l,h);break;case Yt.ShadowDom:return new Mu(c,d,n,i,a,l,this.nonce,h);default:o=new Zi(c,d,i,u,a,l,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(_e(Hm),_e(Wm),_e(Yc),_e(VA),_e(lt),_e(Wr),_e(je),_e(Kc))},e.\u0275prov=ve({token:e,factory:e.\u0275fac});let t=e;return t})(),Qi=class{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Du[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){($m(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&($m(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new he(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;let s=Du[i];s?e.setAttributeNS(s,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){let i=Du[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(ln.DashCase|ln.Important)?e.style.setProperty(r,n,i&ln.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&ln.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e!=null&&(e[r]=n)}setValue(e,r){e.nodeValue=r}listen(e,r,n){if(typeof e=="string"&&(e=Yr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function $m(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Mu=class extends Qi{constructor(e,r,n,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Gm(i.id,i.styles);for(let d of c){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zi=class extends Qi{constructor(e,r,n,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=l?Gm(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},aa=class extends Zi{constructor(e,r,n,i,s,o,a,l){let c=i+"-"+n.id;super(e,r,n,s,o,a,l,c),this.contentAttr=$A(c),this.hostAttr=UA(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}},HA=(()=>{let e=class e extends oa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,s){return n.addEventListener(i,s,!1),()=>this.removeEventListener(n,i,s)}removeEventListener(n,i,s){return n.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(_e(lt))},e.\u0275prov=ve({token:e,factory:e.\u0275fac});let t=e;return t})(),Um=["alt","control","meta","shift"],WA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zA={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},GA=(()=>{let e=class e extends oa{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yr().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let i=n.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),Um.forEach(d=>{let u=i.indexOf(d);u>-1&&(i.splice(u,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(n,i){let s=WA[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Um.forEach(a=>{if(a!==s){let l=zA[a];l(n)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(n,i,s){return o=>{e.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(i){return new(i||e)(_e(lt))},e.\u0275prov=ve({token:e,factory:e.\u0275fac});let t=e;return t})();function qm(t,e){return xm(ce({rootComponent:t},qA(e)))}function qA(t){return{appProviders:[...ZA,...t?.providers??[]],platformProviders:QA}}function YA(){Iu.makeCurrent()}function XA(){return new un}function KA(){return wg(document),document}var QA=[{provide:Wr,useValue:Bm},{provide:Xc,useValue:YA,multi:!0},{provide:lt,useFactory:KA,deps:[]}];var ZA=[{provide:jo,useValue:"root"},{provide:un,useFactory:XA,deps:[]},{provide:Tu,useClass:HA,multi:!0,deps:[lt,je,Wr]},{provide:Tu,useClass:GA,multi:!0,deps:[lt]},Vm,Wm,Hm,{provide:Oi,useExisting:Vm},{provide:ra,useClass:FA,deps:[]},[]];function JA(){return new Ru(_e(lt))}var Ru=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(i){return new(i||e)(_e(lt))},e.\u0275prov=ve({token:e,factory:function(i){let s=null;return i?s=new i:s=JA(),s},providedIn:"root"});let t=e;return t})();var Ou=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=_e(Ym),s},providedIn:"root"});let t=e;return t})();function eD(t){return new Ym(t.get(lt))}var Ym=(()=>{let e=class e extends Ou{constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case Bt.NONE:return i;case Bt.HTML:return hn(i,"HTML")?jt(i):tu(this._doc,String(i)).toString();case Bt.STYLE:return hn(i,"Style")?jt(i):i;case Bt.SCRIPT:if(hn(i,"Script"))return jt(i);throw new he(5200,!1);case Bt.URL:return hn(i,"URL")?jt(i):$o(String(i));case Bt.RESOURCE_URL:if(hn(i,"ResourceURL"))return jt(i);throw new he(5201,!1);default:throw new he(5202,!1)}}bypassSecurityTrustHtml(n){return kg(n)}bypassSecurityTrustStyle(n){return jg(n)}bypassSecurityTrustScript(n){return Bg(n)}bypassSecurityTrustUrl(n){return Vg(n)}bypassSecurityTrustResourceUrl(n){return $g(n)}};e.\u0275fac=function(i){return new(i||e)(_e(lt))},e.\u0275prov=ve({token:e,factory:function(i){let s=null;return i?s=new i:s=eD(_e(er)),s},providedIn:"root"});let t=e;return t})();var ye="primary",fs=Symbol("RouteTitle"),ju=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function Jr(t){return new ju(t)}function tD(t,e,r){let n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let i={};for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function nD(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!Zt(t[r],e[r]))return!1;return!0}function Zt(t,e){let r=t?Bu(t):void 0,n=e?Bu(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let s=0;s<r.length;s++)if(i=r[s],!nv(t[i],e[i]))return!1;return!0}function Bu(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let r=[...t].sort(),n=[...e].sort();return r.every((i,s)=>n[s]===i)}else return t===e}function rv(t){return t.length>0?t[t.length-1]:null}function Pn(t){return _l(t)?t:zi(t)?He(Promise.resolve(t)):pe(t)}var rD={exact:sv,subset:ov},iv={exact:iD,subset:sD,ignored:()=>!0};function Km(t,e,r){return rD[r.paths](t.root,e.root,r.matrixParams)&&iv[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function iD(t,e){return Zt(t,e)}function sv(t,e,r){if(!ir(t.segments,e.segments)||!ua(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!sv(t.children[n],e.children[n],r))return!1;return!0}function sD(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>nv(t[r],e[r]))}function ov(t,e,r){return av(t,e,e.segments,r)}function av(t,e,r,n){if(t.segments.length>r.length){let i=t.segments.slice(0,r.length);return!(!ir(i,r)||e.hasChildren()||!ua(i,r,n))}else if(t.segments.length===r.length){if(!ir(t.segments,r)||!ua(t.segments,r,n))return!1;for(let i in e.children)if(!t.children[i]||!ov(t.children[i],e.children[i],n))return!1;return!0}else{let i=r.slice(0,t.segments.length),s=r.slice(t.segments.length);return!ir(t.segments,i)||!ua(t.segments,i,n)||!t.children[ye]?!1:av(t.children[ye],e,s,n)}}function ua(t,e,r){return e.every((n,i)=>iv[r](t[i].parameters,n.parameters))}var Tn=class{constructor(e=new Pe([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jr(this.queryParams)),this._queryParamMap}toString(){return lD.serialize(this)}},Pe=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return da(this)}},rr=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Jr(this.parameters)),this._parameterMap}toString(){return cv(this)}};function oD(t,e){return ir(t,e)&&t.every((r,n)=>Zt(r.parameters,e[n].parameters))}function ir(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function aD(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===ye&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==ye&&(r=r.concat(e(i,n)))}),r}var ud=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:()=>(()=>new fa)(),providedIn:"root"});let t=e;return t})(),fa=class{parse(e){let r=new $u(e);return new Tn(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${Ji(e.root,!0)}`,n=dD(e.queryParams),i=typeof e.fragment=="string"?`#${cD(e.fragment)}`:"";return`${r}${n}${i}`}},lD=new fa;function da(t){return t.segments.map(e=>cv(e)).join("/")}function Ji(t,e){if(!t.hasChildren())return da(t);if(e){let r=t.children[ye]?Ji(t.children[ye],!1):"",n=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ye&&n.push(`${i}:${Ji(s,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=aD(t,(n,i)=>i===ye?[Ji(t.children[ye],!1)]:[`${i}:${Ji(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ye]!=null?`${da(t)}/${r[0]}`:`${da(t)}/(${r.join("//")})`}}function lv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function la(t){return lv(t).replace(/%3B/gi,";")}function cD(t){return encodeURI(t)}function Vu(t){return lv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ha(t){return decodeURIComponent(t)}function Qm(t){return ha(t.replace(/\+/g,"%20"))}function cv(t){return`${Vu(t.path)}${uD(t.parameters)}`}function uD(t){return Object.keys(t).map(e=>`;${Vu(e)}=${Vu(t[e])}`).join("")}function dD(t){let e=Object.keys(t).map(r=>{let n=t[r];return Array.isArray(n)?n.map(i=>`${la(r)}=${la(i)}`).join("&"):`${la(r)}=${la(n)}`}).filter(r=>!!r);return e.length?`?${e.join("&")}`:""}var hD=/^[^\/()?;#]+/;function Nu(t){let e=t.match(hD);return e?e[0]:""}var fD=/^[^\/()?;=#]+/;function pD(t){let e=t.match(fD);return e?e[0]:""}var gD=/^[^=?&#]+/;function mD(t){let e=t.match(gD);return e?e[0]:""}var vD=/^[^&#]+/;function yD(t){let e=t.match(vD);return e?e[0]:""}var $u=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[ye]=new Pe(e,r)),n}parseSegment(){let e=Nu(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new he(4009,!1);return this.capture(e),new rr(ha(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=pD(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=Nu(this.remaining);i&&(n=i,this.capture(n))}e[ha(r)]=ha(n)}parseQueryParam(e){let r=mD(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let o=yD(this.remaining);o&&(n=o,this.capture(n))}let i=Qm(r),s=Qm(n);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Nu(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new he(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ye);let o=this.parseChildren();r[s]=Object.keys(o).length===1?o[ye]:new Pe([],o),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new he(4011,!1)}};function uv(t){return t.segments.length>0?new Pe([],{[ye]:t}):t}function dv(t){let e={};for(let n of Object.keys(t.children)){let i=t.children[n],s=dv(i);if(n===ye&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}let r=new Pe(t.segments,e);return bD(r)}function bD(t){if(t.numberOfChildren===1&&t.children[ye]){let e=t.children[ye];return new Pe(t.segments.concat(e.segments),e.children)}return t}function ei(t){return t instanceof Tn}function _D(t,e,r=null,n=null){let i=hv(t);return fv(i,e,r,n)}function hv(t){let e;function r(s){let o={};for(let l of s.children){let c=r(l);o[l.outlet]=c}let a=new Pe(s.url,o);return s===t&&(e=a),a}let n=r(t.root),i=uv(n);return e??i}function fv(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Lu(i,i,i,r,n);let s=wD(e);if(s.toRoot())return Lu(i,i,new Pe([],{}),r,n);let o=CD(s,i,t),a=o.processChildren?ns(o.segmentGroup,o.index,s.commands):gv(o.segmentGroup,o.index,s.commands);return Lu(i,o.segmentGroup,a,r,n)}function pa(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ss(t){return typeof t=="object"&&t!=null&&t.outlets}function Lu(t,e,r,n,i){let s={};n&&Object.entries(n).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;t===e?o=r:o=pv(t,e,r);let a=uv(dv(o));return new Tn(a,s,i)}function pv(t,e,r){let n={};return Object.entries(t.children).forEach(([i,s])=>{s===e?n[i]=r:n[i]=pv(s,e,r)}),new Pe(t.segments,n)}var ga=class{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&pa(n[0]))throw new he(4003,!1);let i=n.find(ss);if(i&&i!==rv(n))throw new he(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wD(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ga(!0,0,t);let e=0,r=!1,n=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?r=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ga(r,e,n)}var Qr=class{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}};function CD(t,e,r){if(t.isAbsolute)return new Qr(e,!0,0);if(!r)return new Qr(e,!1,NaN);if(r.parent===null)return new Qr(r,!0,0);let n=pa(t.commands[0])?0:1,i=r.segments.length-1+n;return ED(r,i,t.numberOfDoubleDots)}function ED(t,e,r){let n=t,i=e,s=r;for(;s>i;){if(s-=i,n=n.parent,!n)throw new he(4005,!1);i=n.segments.length}return new Qr(n,!1,i-s)}function SD(t){return ss(t[0])?t[0].outlets:{[ye]:t}}function gv(t,e,r){if(t||(t=new Pe([],{})),t.segments.length===0&&t.hasChildren())return ns(t,e,r);let n=AD(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let s=new Pe(t.segments.slice(0,n.pathIndex),{});return s.children[ye]=new Pe(t.segments.slice(n.pathIndex),t.children),ns(s,0,i)}else return n.match&&i.length===0?new Pe(t.segments,{}):n.match&&!t.hasChildren()?Uu(t,e,r):n.match?ns(t,0,i):Uu(t,e,r)}function ns(t,e,r){if(r.length===0)return new Pe(t.segments,{});{let n=SD(r),i={};if(Object.keys(n).some(s=>s!==ye)&&t.children[ye]&&t.numberOfChildren===1&&t.children[ye].segments.length===0){let s=ns(t.children[ye],e,r);return new Pe(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=gv(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{n[s]===void 0&&(i[s]=o)}),new Pe(t.segments,i)}}function AD(t,e,r){let n=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return s;let o=t.segments[i],a=r[n];if(ss(a))break;let l=`${a}`,c=n<r.length-1?r[n+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Jm(l,c,o))return s;n+=2}else{if(!Jm(l,{},o))return s;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function Uu(t,e,r){let n=t.segments.slice(0,e),i=0;for(;i<r.length;){let s=r[i];if(ss(s)){let l=DD(s.outlets);return new Pe(n,l)}if(i===0&&pa(r[0])){let l=t.segments[e];n.push(new rr(l.path,Zm(r[0]))),i++;continue}let o=ss(s)?s.outlets[ye]:`${s}`,a=i<r.length-1?r[i+1]:null;o&&a&&pa(a)?(n.push(new rr(o,Zm(a))),i+=2):(n.push(new rr(o,{})),i++)}return new Pe(n,{})}function DD(t){let e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=Uu(new Pe([],{}),0,n))}),e}function Zm(t){let e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function Jm(t,e,r){return t==r.path&&Zt(e,r.parameters)}var rs="imperative",xt=class{constructor(e,r){this.id=e,this.url=r}},os=class extends xt{constructor(e,r,n="imperative",i=null){super(e,r),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sr=class extends xt{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mn=class extends xt{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},or=class extends xt{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=16}},as=class extends xt{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ma=class extends xt{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hu=class extends xt{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wu=class extends xt{constructor(e,r,n,i,s){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zu=class extends xt{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gu=class extends xt{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qu=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Yu=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xu=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ku=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qu=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zu=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ls=class{},cs=class{constructor(e){this.url=e}};var Ju=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ca,this.attachRef=null}},Ca=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let s=this.getOrCreateContext(n);s.outlet=i,this.contexts.set(n,s)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Ju,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),va=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=ed(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){let r=ed(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=td(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return td(e,this._root).map(r=>r.value)}};function ed(t,e){if(t===e.value)return e;for(let r of e.children){let n=ed(t,r);if(n)return n}return null}function td(t,e){if(t===e.value)return[e];for(let r of e.children){let n=td(t,r);if(n.length)return n.unshift(e),n}return[]}var wt=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function Kr(t){let e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}var ya=class extends va{constructor(e,r){super(e),this.snapshot=r,hd(this,e)}toString(){return this.snapshot.toString()}};function mv(t,e){let r=xD(t,e),n=new Je([new rr("",{})]),i=new Je({}),s=new Je({}),o=new Je({}),a=new Je(""),l=new ti(n,i,o,a,s,ye,e,r.root);return l.snapshot=r.root,new ya(new wt(l,[]),r)}function xD(t,e){let r={},n={},i={},s="",o=new us([],r,i,s,n,ye,e,null,{});return new ba("",new wt(o,[]))}var ti=class{constructor(e,r,n,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Te(c=>c[fs]))??pe(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(e=>Jr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(e=>Jr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function dd(t,e,r="emptyOnly"){let n,{routeConfig:i}=t;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:ce(ce({},e.params),t.params),data:ce(ce({},e.data),t.data),resolve:ce(ce(ce(ce({},t.data),e.data),i?.data),t._resolvedData)}:n={params:t.params,data:t.data,resolve:ce(ce({},t.data),t._resolvedData??{})},i&&yv(i)&&(n.resolve[fs]=i.title),n}var us=class{get title(){return this.data?.[fs]}constructor(e,r,n,i,s,o,a,l,c){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jr(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},ba=class extends va{constructor(e,r){super(r),this.url=e,hd(this,r)}toString(){return vv(this._root)}};function hd(t,e){e.value._routerState=t,e.children.forEach(r=>hd(t,r))}function vv(t){let e=t.children.length>0?` { ${t.children.map(vv).join(", ")} } `:"";return`${t.value}${e}`}function Fu(t){if(t.snapshot){let e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Zt(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),Zt(e.params,r.params)||t.paramsSubject.next(r.params),nD(e.url,r.url)||t.urlSubject.next(r.url),Zt(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function nd(t,e){let r=Zt(t.params,e.params)&&oD(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||nd(t.parent,e.parent))}function yv(t){return typeof t.title=="string"||t.title===null}var ID=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ye,this.activateEvents=new ft,this.deactivateEvents=new ft,this.attachEvents=new ft,this.detachEvents=new ft,this.parentContexts=ue(Ca),this.location=ue(tr),this.changeDetector=ue(qo),this.environmentInjector=ue(At),this.inputBinder=ue(fd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:s}=n.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new he(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new he(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new he(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new he(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new rd(n,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=To({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qn]});let t=e;return t})(),rd=class{constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===ti?this.route:e===Ca?this.childContexts:this.parent.get(e,r)}},fd=new xe("");function TD(t,e,r){let n=ds(t,e._root,r?r._root:void 0);return new ya(n,e)}function ds(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=e.value;let i=MD(t,e,r);return new wt(n,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ds(t,a)),o}}let n=PD(e.value),i=e.children.map(s=>ds(t,s));return new wt(n,i)}}function MD(t,e,r){return e.children.map(n=>{for(let i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return ds(t,n,i);return ds(t,n)})}function PD(t){return new ti(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var bv="ngNavigationCancelingError";function _v(t,e){let{redirectTo:r,navigationBehaviorOptions:n}=ei(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wv(!1,0,e);return i.url=r,i.navigationBehaviorOptions=n,i}function wv(t,e,r){let n=new Error("NavigationCancelingError: "+(t||""));return n[bv]=!0,n.cancellationCode=e,r&&(n.url=r),n}function RD(t){return Cv(t)&&ei(t.url)}function Cv(t){return t&&t[bv]}var OD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Kn({type:e,selectors:[["ng-component"]],standalone:!0,features:[Zo],decls:1,vars:0,template:function(i,s){i&1&&yn(0,"router-outlet")},dependencies:[ID],encapsulation:2});let t=e;return t})();function ND(t,e){return t.providers&&!t._injector&&(t._injector=gu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function pd(t){let e=t.children&&t.children.map(pd),r=e?Fe(ce({},t),{children:e}):ce({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==ye&&(r.component=OD),r}function Jt(t){return t.outlet||ye}function LD(t,e){let r=t.filter(n=>Jt(n)===e);return r.push(...t.filter(n=>Jt(n)!==e)),r}function ps(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var FD=(t,e,r,n)=>Te(i=>(new id(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)),id=class{constructor(e,r,n,i,s){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),Fu(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){let i=Kr(r);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],n),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,r,n){let i=e.value,s=r?r.value:null;if(i===s)if(i.component){let o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(e,r,o.children)}else this.deactivateChildRoutes(e,r,n);else s&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,s=Kr(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,s=Kr(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){let i=Kr(r);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],n),this.forwardEvent(new Zu(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ku(e.value.snapshot))}activateRoutes(e,r,n){let i=e.value,s=r?r.value:null;if(Fu(i),i===s)if(i.component){let o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,o.children)}else this.activateChildRoutes(e,r,n);else if(i.component){let o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Fu(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ps(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}},_a=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Zr=class{constructor(e,r){this.component=e,this.route=r}};function kD(t,e,r){let n=t._root,i=e?e._root:null;return es(n,i,r,[n.value])}function jD(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ri(t,e){let r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!Ap(t)?t:e.get(t):n}function es(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Kr(e);return t.children.forEach(o=>{BD(o,s[o.value.outlet],r,n.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>is(a,r.getContext(o),i)),i}function BD(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=r?r.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=VD(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new _a(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?es(t,e,a?a.children:null,n,i):es(t,e,r,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zr(a.outlet.component,o))}else o&&is(e,a,i),i.canActivateChecks.push(new _a(n)),s.component?es(t,null,a?a.children:null,n,i):es(t,null,r,n,i);return i}function VD(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!ir(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ir(t.url,e.url)||!Zt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nd(t,e)||!Zt(t.queryParams,e.queryParams);case"paramsChange":default:return!nd(t,e)}}function is(t,e,r){let n=Kr(t),i=t.value;Object.entries(n).forEach(([s,o])=>{i.component?e?is(o,e.children.getContext(s),r):is(o,null,r):is(o,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new Zr(e.outlet.component,i)):r.canDeactivateChecks.push(new Zr(null,i)):r.canDeactivateChecks.push(new Zr(null,i))}function gs(t){return typeof t=="function"}function $D(t){return typeof t=="boolean"}function UD(t){return t&&gs(t.canLoad)}function HD(t){return t&&gs(t.canActivate)}function WD(t){return t&&gs(t.canActivateChild)}function zD(t){return t&&gs(t.canDeactivate)}function GD(t){return t&&gs(t.canMatch)}function Ev(t){return t instanceof rn||t?.name==="EmptyError"}var ca=Symbol("INITIAL_VALUE");function ni(){return bt(t=>Xs(t.map(e=>e.pipe(sn(1),xl(ca)))).pipe(Te(e=>{for(let r of e)if(r!==!0){if(r===ca)return ca;if(r===!1||r instanceof Tn)return r}return!0}),Mt(e=>e!==ca),sn(1)))}function qD(t,e){return qe(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=r;return o.length===0&&s.length===0?pe(Fe(ce({},r),{guardsResult:!0})):YD(o,n,i,t).pipe(qe(a=>a&&$D(a)?XD(n,s,t,e):pe(a)),Te(a=>Fe(ce({},r),{guardsResult:a})))})}function YD(t,e,r,n){return He(t).pipe(qe(i=>ex(i.component,i.route,r,e,n)),Ht(i=>i!==!0,!0))}function XD(t,e,r,n){return He(e).pipe(Dr(i=>Ar(QD(i.route.parent,n),KD(i.route,n),JD(t,i.path,r),ZD(t,i.route,r))),Ht(i=>i!==!0,!0))}function KD(t,e){return t!==null&&e&&e(new Qu(t)),pe(!0)}function QD(t,e){return t!==null&&e&&e(new Xu(t)),pe(!0)}function ZD(t,e,r){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return pe(!0);let i=n.map(s=>Ks(()=>{let o=ps(e)??r,a=ri(s,o),l=HD(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t));return Pn(l).pipe(Ht())}));return pe(i).pipe(ni())}function JD(t,e,r){let n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>jD(o)).filter(o=>o!==null).map(o=>Ks(()=>{let a=o.guards.map(l=>{let c=ps(o.node)??r,d=ri(l,c),u=WD(d)?d.canActivateChild(n,t):c.runInContext(()=>d(n,t));return Pn(u).pipe(Ht())});return pe(a).pipe(ni())}));return pe(s).pipe(ni())}function ex(t,e,r,n,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return pe(!0);let o=s.map(a=>{let l=ps(e)??i,c=ri(a,l),d=zD(c)?c.canDeactivate(t,e,r,n):l.runInContext(()=>c(t,e,r,n));return Pn(d).pipe(Ht())});return pe(o).pipe(ni())}function tx(t,e,r,n){let i=e.canLoad;if(i===void 0||i.length===0)return pe(!0);let s=i.map(o=>{let a=ri(o,t),l=UD(a)?a.canLoad(e,r):t.runInContext(()=>a(e,r));return Pn(l)});return pe(s).pipe(ni(),Sv(n))}function Sv(t){return gl(Ke(e=>{if(ei(e))throw _v(t,e)}),Te(e=>e===!0))}function nx(t,e,r,n){let i=e.canMatch;if(!i||i.length===0)return pe(!0);let s=i.map(o=>{let a=ri(o,t),l=GD(a)?a.canMatch(e,r):t.runInContext(()=>a(e,r));return Pn(l)});return pe(s).pipe(ni(),Sv(n))}var hs=class{constructor(e){this.segmentGroup=e||null}},wa=class extends Error{constructor(e){super(),this.urlTree=e}};function Xr(t){return Sr(new hs(t))}function rx(t){return Sr(new he(4e3,!1))}function ix(t){return Sr(wv(!1,3))}var sd=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}noMatchError(e){return new he(4002,!1)}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return pe(n);if(i.numberOfChildren>1||!i.children[ye])return rx(e.redirectTo);i=i.children[ye]}}applyRedirectCommands(e,r,n){let i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r.startsWith("/"))throw new wa(i);return i}applyRedirectCreateUrlTree(e,r,n,i){let s=this.createSegmentGroup(e,r.root,n,i);return new Tn(s,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let n={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);n[i]=r[a]}else n[i]=s}),n}createSegmentGroup(e,r,n,i){let s=this.createSegments(e,r.segments,n,i),o={};return Object.entries(r.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,n,i)}),new Pe(s,o)}createSegments(e,r,n,i){return r.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,n))}findPosParam(e,r,n){let i=n[r.path.substring(1)];if(!i)throw new he(4001,!1);return i}findOrReturn(e,r){let n=0;for(let i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}},od={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sx(t,e,r,n,i){let s=gd(t,e,r);return s.matched?(n=ND(e,n),nx(n,e,r,i).pipe(Te(o=>o===!0?s:ce({},od)))):pe(s)}function gd(t,e,r){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?ce({},od):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||tD)(r,t,e);if(!i)return ce({},od);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?ce(ce({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ev(t,e,r,n){return r.length>0&&lx(t,r,n)?{segmentGroup:new Pe(e,ax(n,new Pe(r,t.children))),slicedSegments:[]}:r.length===0&&cx(t,r,n)?{segmentGroup:new Pe(t.segments,ox(t,e,r,n,t.children)),slicedSegments:r}:{segmentGroup:new Pe(t.segments,t.children),slicedSegments:r}}function ox(t,e,r,n,i){let s={};for(let o of n)if(Ea(t,r,o)&&!i[Jt(o)]){let a=new Pe([],{});s[Jt(o)]=a}return ce(ce({},i),s)}function ax(t,e){let r={};r[ye]=e;for(let n of t)if(n.path===""&&Jt(n)!==ye){let i=new Pe([],{});r[Jt(n)]=i}return r}function lx(t,e,r){return r.some(n=>Ea(t,e,n)&&Jt(n)!==ye)}function cx(t,e,r){return r.some(n=>Ea(t,e,n))}function Ea(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function ux(t,e,r,n){return Jt(t)!==n&&(n===ye||!Ea(e,r,t))?!1:t.path==="**"?!0:gd(e,t,r).matched}function dx(t,e,r){return e.length===0&&!t.children[r]}var ad=class{};function hx(t,e,r,n,i,s,o="emptyOnly"){return new ld(t,e,r,n,i,o,s).recognize()}var fx=31,ld=class{constructor(e,r,n,i,s,o,a){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new sd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new he(4002,!1)}recognize(){let e=ev(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Te(r=>{let n=new us([],Object.freeze({}),Object.freeze(ce({},this.urlTree.queryParams)),this.urlTree.fragment,{},ye,this.rootComponentType,null,{}),i=new wt(n,r),s=new ba("",i),o=_D(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ye).pipe(Cn(n=>{if(n instanceof wa)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof hs?this.noMatchError(n):n}))}inheritParamsAndData(e,r){let n=e.value,i=dd(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(e,r,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n):this.processSegment(e,r,n,n.segments,i,!0).pipe(Te(s=>s instanceof wt?[s]:[]))}processChildren(e,r,n){let i=[];for(let s of Object.keys(n.children))s==="primary"?i.unshift(s):i.push(s);return He(i).pipe(Dr(s=>{let o=n.children[s],a=LD(r,s);return this.processSegmentGroup(e,a,o,s)}),Al((s,o)=>(s.push(...o),s)),En(null),Sl(),qe(s=>{if(s===null)return Xr(n);let o=Av(s);return px(o),pe(o)}))}processSegment(e,r,n,i,s,o){return He(r).pipe(Dr(a=>this.processSegmentAgainstRoute(a._injector??e,r,a,n,i,s,o).pipe(Cn(l=>{if(l instanceof hs)return pe(null);throw l}))),Ht(a=>!!a),Cn(a=>{if(Ev(a))return dx(n,i,s)?pe(new ad):Xr(n);throw a}))}processSegmentAgainstRoute(e,r,n,i,s,o,a){return ux(n,i,s,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,s,o):Xr(i):Xr(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:d}=i.path==="**"?tv(s):gd(r,i,s);if(!a)return Xr(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>fx&&(this.allowRedirects=!1));let u=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,u).pipe(qe(h=>this.processSegment(e,n,r,h.concat(d),o,!1)))}matchSegmentAgainstRoute(e,r,n,i,s){let o;return n.path==="**"?(o=pe(tv(i)),r.children={}):o=sx(r,n,i,e,this.urlSerializer),o.pipe(bt(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,i).pipe(bt(({routes:l})=>{let c=n._loadedInjector??e,{consumedSegments:d,remainingSegments:u,parameters:h}=a,m=new us(d,h,Object.freeze(ce({},this.urlTree.queryParams)),this.urlTree.fragment,mx(n),Jt(n),n.component??n._loadedComponent??null,n,vx(n)),{segmentGroup:f,slicedSegments:p}=ev(r,d,u,l);if(p.length===0&&f.hasChildren())return this.processChildren(c,l,f).pipe(Te(C=>C===null?null:new wt(m,C)));if(l.length===0&&p.length===0)return pe(new wt(m,[]));let v=Jt(n)===s;return this.processSegment(c,l,f,p,v?ye:s,!0).pipe(Te(C=>new wt(m,C instanceof wt?[C]:[])))}))):Xr(r)))}getChildConfig(e,r,n){return r.children?pe({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?pe({routes:r._loadedRoutes,injector:r._loadedInjector}):tx(e,r,n,this.urlSerializer).pipe(qe(i=>i?this.configLoader.loadChildren(e,r).pipe(Ke(s=>{r._loadedRoutes=s.routes,r._loadedInjector=s.injector})):ix(r))):pe({routes:[],injector:e})}};function px(t){t.sort((e,r)=>e.value.outlet===ye?-1:r.value.outlet===ye?1:e.value.outlet.localeCompare(r.value.outlet))}function gx(t){let e=t.value.routeConfig;return e&&e.path===""}function Av(t){let e=[],r=new Set;for(let n of t){if(!gx(n)){e.push(n);continue}let i=e.find(s=>n.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):e.push(n)}for(let n of r){let i=Av(n.children);e.push(new wt(n.value,i))}return e.filter(n=>!r.has(n))}function mx(t){return t.data||{}}function vx(t){return t.resolve||{}}function tv(t){return{matched:!0,parameters:t.length>0?rv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function yx(t,e,r,n,i,s){return qe(o=>hx(t,e,r,n,o.extractedUrl,i,s).pipe(Te(({state:a,tree:l})=>Fe(ce({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function bx(t,e){return qe(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return pe(r);let s=i.map(c=>c.route),o=new Set(s),a=Dv(s[0].parent).slice(1),l=0;return He(a).pipe(Dr(c=>o.has(c)?_x(c,n,t,e):(c.data=dd(c,c.parent,t).resolve,pe(void 0))),Ke(()=>l++),xr(1),qe(c=>l===a.length?pe(r):dt))})}function Dv(t){let e=t.children.map(r=>Dv(r)).flat();return[t,...e]}function _x(t,e,r,n){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!yv(i)&&(s[fs]=i.title),wx(s,t,e,n).pipe(Te(o=>(t._resolvedData=o,t.data=dd(t,t.parent,r).resolve,null)))}function wx(t,e,r,n){let i=Bu(t);if(i.length===0)return pe({});let s={};return He(i).pipe(qe(o=>Cx(t[o],e,r,n).pipe(Ht(),Ke(a=>{s[o]=a}))),xr(1),Cl(s),Cn(o=>Ev(o)?dt:Sr(o)))}function Cx(t,e,r,n){let i=ps(e)??n,s=ri(t,i),o=s.resolve?s.resolve(e,r):i.runInContext(()=>s(e,r));return Pn(o)}function ku(t){return bt(e=>{let r=t(e);return r?He(r).pipe(Te(()=>e)):pe(e)})}var xv=(()=>{let e=class e{buildTitle(n){let i,s=n.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ye);return i}getResolvedTitleForRoute(n){return n.data[fs]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:()=>(()=>ue(Ex))(),providedIn:"root"});let t=e;return t})(),Ex=(()=>{let e=class e extends xv{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(_e(Ru))},e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),md=new xe("",{providedIn:"root",factory:()=>({})}),vd=new xe("ROUTES"),Sx=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ue(_u)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return pe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Pn(n.loadComponent()).pipe(Te(Iv),Ke(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Si(()=>{this.componentLoaders.delete(n)})),s=new Er(i,()=>new at).pipe(Cr());return this.componentLoaders.set(n,s),s}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return pe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Ax(i,this.compiler,n,this.onLoadEndListener).pipe(Si(()=>{this.childrenLoaders.delete(i)})),a=new Er(o,()=>new at).pipe(Cr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ax(t,e,r,n){return Pn(t.loadChildren()).pipe(Te(Iv),qe(i=>i instanceof Fi||Array.isArray(i)?pe(i):He(e.compileModuleAsync(i))),Te(i=>{n&&n(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(r).injector,o=s.get(vd,[],{optional:!0,self:!0}).flat()),{routes:o.map(pd),injector:s}}))}function Dx(t){return t&&typeof t=="object"&&"default"in t}function Iv(t){return Dx(t)?t.default:t}var yd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:()=>(()=>ue(xx))(),providedIn:"root"});let t=e;return t})(),xx=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ix=new xe("");var Tx=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new at,this.transitionAbortSubject=new at,this.configLoader=ue(Sx),this.environmentInjector=ue(At),this.urlSerializer=ue(ud),this.rootContexts=ue(Ca),this.location=ue(Yi),this.inputBindingEnabled=ue(fd,{optional:!0})!==null,this.titleStrategy=ue(xv),this.options=ue(md,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ue(yd),this.createViewTransition=ue(Ix,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>pe(void 0),this.rootComponentType=null;let n=s=>this.events.next(new qu(s)),i=s=>this.events.next(new Yu(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Fe(ce(ce({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,s){return this.transitions=new Je({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rs,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mt(o=>o.id!==0),Te(o=>Fe(ce({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),bt(o=>{this.currentTransition=o;let a=!1,l=!1;return pe(o).pipe(Ke(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Fe(ce({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),bt(c=>{let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&u!=="reload"){let h="";return this.events.next(new or(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),dt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return pe(c).pipe(bt(h=>{let m=this.transitions?.getValue();return this.events.next(new os(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?dt:Promise.resolve(h)}),yx(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ke(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Fe(ce({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let m=new ma(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:m,source:f,restoredState:p,extras:v}=c,C=new os(h,this.urlSerializer.serialize(m),f,p);this.events.next(C);let E=mv(m,this.rootComponentType).snapshot;return this.currentTransition=o=Fe(ce({},c),{targetSnapshot:E,urlAfterRedirects:m,extras:Fe(ce({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,pe(o)}else{let h="";return this.events.next(new or(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),dt}}),Ke(c=>{let d=new Hu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Te(c=>(this.currentTransition=o=Fe(ce({},c),{guards:kD(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),qD(this.environmentInjector,c=>this.events.next(c)),Ke(c=>{if(o.guardsResult=c.guardsResult,ei(c.guardsResult))throw _v(this.urlSerializer,c.guardsResult);let d=new Wu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Mt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),ku(c=>{if(c.guards.canActivateChecks.length)return pe(c).pipe(Ke(d=>{let u=new zu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),bt(d=>{let u=!1;return pe(d).pipe(bx(this.paramsInheritanceStrategy,this.environmentInjector),Ke({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",2)}}))}),Ke(d=>{let u=new Gu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),ku(c=>{let d=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ke(m=>{u.component=m}),Te(()=>{})));for(let m of u.children)h.push(...d(m));return h};return Xs(d(c.targetSnapshot.root)).pipe(En(),sn(1))}),ku(()=>this.afterPreactivation()),bt(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return u?He(u).pipe(Te(()=>o)):pe(o)}),Te(c=>{let d=TD(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Fe(ce({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Ke(()=>{this.events.next(new ls)}),FD(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),sn(1),Ke({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Il(this.transitionAbortSubject.pipe(Ke(c=>{throw c}))),Si(()=>{if(!a&&!l){let c="";this.cancelNavigationTransition(o,c,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Cn(c=>{if(l=!0,Cv(c))this.events.next(new Mn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),RD(c)?this.events.next(new cs(c.url)):o.resolve(!1);else{this.events.next(new as(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(d){o.reject(d)}}return dt}))}))}cancelNavigationTransition(n,i,s){let o=new Mn(n.id,this.urlSerializer.serialize(n.extractedUrl),i,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mx(t){return t!==rs}var Px=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:()=>(()=>ue(Rx))(),providedIn:"root"});let t=e;return t})(),cd=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},Rx=(()=>{let e=class e extends cd{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=Wc(e)))(s||e)}})(),e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:()=>(()=>ue(Ox))(),providedIn:"root"});let t=e;return t})(),Ox=(()=>{let e=class e extends Tv{constructor(){super(...arguments),this.location=ue(Yi),this.urlSerializer=ue(ud),this.options=ue(md,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ue(yd),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Tn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mv(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof os)this.stateMemento=this.createStateMemento();else if(n instanceof or)this.rawUrlTree=i.initialUrl;else if(n instanceof ma){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else n instanceof ls?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof Mn&&(n.code===3||n.code===2)?this.restoreHistory(i):n instanceof as?this.restoreHistory(i,!0):n instanceof sr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=ce(ce({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=ce(ce({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=Wc(e)))(s||e)}})(),e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ts=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ts||{});function Nx(t,e){t.events.pipe(Mt(r=>r instanceof sr||r instanceof Mn||r instanceof as||r instanceof or),Te(r=>r instanceof sr||r instanceof or?ts.COMPLETE:(r instanceof Mn?r.code===0||r.code===1:!1)?ts.REDIRECTING:ts.FAILED),Mt(r=>r!==ts.REDIRECTING),sn(1)).subscribe(()=>{e()})}function Lx(t){throw t}var Fx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Mv=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ue(ta),this.stateManager=ue(Tv),this.options=ue(md,{optional:!0})||{},this.pendingTasks=ue(bu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ue(Tx),this.urlSerializer=ue(ud),this.location=ue(Yi),this.urlHandlingStrategy=ue(yd),this._events=new at,this.errorHandler=this.options.errorHandler||Lx,this.navigated=!1,this.routeReuseStrategy=ue(Px),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ue(vd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ue(fd,{optional:!0}),this.eventsSubscription=new Xe,this.isNgZoneEnabled=ue(je)instanceof je&&je.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Mn&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof sr)this.navigated=!0;else if(i instanceof cs){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Mx(s.source)};this.scheduleNavigation(a,rs,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Bx(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)}))}navigateToSyncWithBrowser(n,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=ce({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(pd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:a,u=null;switch(l){case"merge":u=ce(ce({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let m=s?s.snapshot:this.routerState.snapshot.root;h=hv(m)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return fv(h,n,u,d??null)}navigateByUrl(n,i={skipLocationChange:!1}){let s=ei(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,rs,null,i)}navigate(n,i={skipLocationChange:!1}){return jx(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let s;if(i===!0?s=ce({},Fx):i===!1?s=ce({},kx):s=i,ei(n))return Km(this.currentUrlTree,n,s);let o=this.parseUrl(n);return Km(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.keys(n).reduce((i,s)=>{let o=n[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(n,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((h,m)=>{l=h,c=m});let u=this.pendingTasks.add();return Nx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jx(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new he(4008,!1)}function Bx(t){return!(t instanceof ls)&&!(t instanceof cs)}var Vx=new xe("");function Pv(t,...e){return ko([{provide:vd,multi:!0,useValue:t},[],{provide:ti,useFactory:$x,deps:[Mv]},{provide:wu,multi:!0,useFactory:Ux},e.map(r=>r.\u0275providers)])}function $x(t){return t.routerState.root}function Ux(){let t=ue(er);return e=>{let r=t.get(qi);if(e!==r.components[0])return;let n=t.get(Mv),i=t.get(Hx);t.get(Wx)===1&&n.initialNavigation(),t.get(zx,null,Ce.Optional)?.setUpPreloading(),t.get(Vx,null,Ce.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Hx=new xe("",{factory:()=>new at}),Wx=new xe("",{providedIn:"root",factory:()=>1});var zx=new xe("");var Rv=[];var Ov={providers:[Pv(Rv)]};var ii=Jh(_d(),1),si=Jh(Bv(),1);function Gx(t,e,r){t[e]=r}function qx(){return typeof window>"u"}qx()||Gx(ii,"verbosity",ii.VerbosityLevel.INFOS);var Vv=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=xn({type:t});static \u0275inj=Dn({})}return t})();var $v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Aa=function(t){return t&&t.Math==Math&&t},be=Aa(typeof globalThis=="object"&&globalThis)||Aa(typeof window=="object"&&window)||Aa(typeof self=="object"&&self)||Aa(typeof $v=="object"&&$v)||function(){return this}()||Function("return this")(),pi={},pt=function(t){try{return!!t()}catch{return!0}},Yx=pt,Nn=!Yx(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Xx=pt,Ha=!Xx(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Kx=Ha,Da=Function.prototype.call,gt=Kx?Da.bind(Da):function(){return Da.apply(Da,arguments)},fb={},pb={}.propertyIsEnumerable,gb=Object.getOwnPropertyDescriptor,Qx=gb&&!pb.call({1:2},1);fb.f=Qx?function(e){var r=gb(this,e);return!!r&&r.enumerable}:pb;var mb=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},vb=Ha,yb=Function.prototype,Zx=yb.bind,rh=yb.call,Jx=vb&&Zx.bind(rh,rh),Ge=vb?function(t){return t&&Jx(t)}:function(t){return t&&function(){return rh.apply(t,arguments)}},bb=Ge,eI=bb({}.toString),tI=bb("".slice),Es=function(t){return tI(eI(t),8,-1)},nI=be,rI=Ge,iI=pt,sI=Es,Cd=nI.Object,oI=rI("".split),aI=iI(function(){return!Cd("z").propertyIsEnumerable(0)})?function(t){return sI(t)=="String"?oI(t,""):Cd(t)}:Cd,lI=be,cI=lI.TypeError,fr=function(t){if(t==null)throw cI("Can't call method on "+t);return t},uI=aI,dI=fr,Wa=function(t){return uI(dI(t))},Qe=function(t){return typeof t=="function"},hI=Qe,Ln=function(t){return typeof t=="object"?t!==null:hI(t)},Ed=be,fI=Qe,pI=function(t){return fI(t)?t:void 0},Fn=function(t,e){return arguments.length<2?pI(Ed[t]):Ed[t]&&Ed[t][e]},gI=Ge,Sh=gI({}.isPrototypeOf),mI=Fn,za=mI("navigator","userAgent")||"",_b=be,Sd=za,Uv=_b.process,Hv=_b.Deno,Wv=Uv&&Uv.versions||Hv&&Hv.version,zv=Wv&&Wv.v8,Vt,ka;zv&&(Vt=zv.split("."),ka=Vt[0]>0&&Vt[0]<4?1:+(Vt[0]+Vt[1]));!ka&&Sd&&(Vt=Sd.match(/Edge\/(\d+)/),(!Vt||Vt[1]>=74)&&(Vt=Sd.match(/Chrome\/(\d+)/),Vt&&(ka=+Vt[1])));var wb=ka,Gv=wb,vI=pt,Cb=!!Object.getOwnPropertySymbols&&!vI(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Gv&&Gv<41}),yI=Cb,Eb=yI&&!Symbol.sham&&typeof Symbol.iterator=="symbol",bI=be,_I=Fn,wI=Qe,CI=Sh,EI=Eb,SI=bI.Object,Sb=EI?function(t){return typeof t=="symbol"}:function(t){var e=_I("Symbol");return wI(e)&&CI(e.prototype,SI(t))},AI=be,DI=AI.String,Ga=function(t){try{return DI(t)}catch{return"Object"}},xI=be,II=Qe,TI=Ga,MI=xI.TypeError,pr=function(t){if(II(t))return t;throw MI(TI(t)+" is not a function")},PI=pr,Ss=function(t,e){var r=t[e];return r==null?void 0:PI(r)},RI=be,Ad=gt,Dd=Qe,xd=Ln,OI=RI.TypeError,NI=function(t,e){var r,n;if(e==="string"&&Dd(r=t.toString)&&!xd(n=Ad(r,t))||Dd(r=t.valueOf)&&!xd(n=Ad(r,t))||e!=="string"&&Dd(r=t.toString)&&!xd(n=Ad(r,t)))return n;throw OI("Can't convert object to primitive value")},qa={exports:{}},qv=be,LI=Object.defineProperty,Ah=function(t,e){try{LI(qv,t,{value:e,configurable:!0,writable:!0})}catch{qv[t]=e}return e},FI=be,kI=Ah,Yv="__core-js_shared__",jI=FI[Yv]||kI(Yv,{}),Dh=jI,Xv=Dh;(qa.exports=function(t,e){return Xv[t]||(Xv[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.22.2",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.2/LICENSE",source:"https://github.com/zloirock/core-js"});var BI=be,VI=fr,$I=BI.Object,Ab=function(t){return $I(VI(t))},UI=Ge,HI=Ab,WI=UI({}.hasOwnProperty),bn=Object.hasOwn||function(e,r){return WI(HI(e),r)},zI=Ge,GI=0,qI=Math.random(),YI=zI(1 .toString),Db=function(t){return"Symbol("+(t===void 0?"":t)+")_"+YI(++GI+qI,36)},XI=be,KI=qa.exports,Kv=bn,QI=Db,Qv=Cb,xb=Eb,oi=KI("wks"),dr=XI.Symbol,Zv=dr&&dr.for,ZI=xb?dr:dr&&dr.withoutSetter||QI,ct=function(t){if(!Kv(oi,t)||!(Qv||typeof oi[t]=="string")){var e="Symbol."+t;Qv&&Kv(dr,t)?oi[t]=dr[t]:xb&&Zv?oi[t]=Zv(e):oi[t]=ZI(e)}return oi[t]},JI=be,eT=gt,Jv=Ln,ey=Sb,tT=Ss,nT=NI,rT=ct,iT=JI.TypeError,sT=rT("toPrimitive"),oT=function(t,e){if(!Jv(t)||ey(t))return t;var r=tT(t,sT),n;if(r){if(e===void 0&&(e="default"),n=eT(r,t,e),!Jv(n)||ey(n))return n;throw iT("Can't convert object to primitive value")}return e===void 0&&(e="number"),nT(t,e)},aT=oT,lT=Sb,Ib=function(t){var e=aT(t,"string");return lT(e)?e:e+""},cT=be,ty=Ln,ih=cT.document,uT=ty(ih)&&ty(ih.createElement),xh=function(t){return uT?ih.createElement(t):{}},dT=Nn,hT=pt,fT=xh,Tb=!dT&&!hT(function(){return Object.defineProperty(fT("div"),"a",{get:function(){return 7}}).a!=7}),pT=Nn,gT=gt,mT=fb,vT=mb,yT=Wa,bT=Ib,_T=bn,wT=Tb,ny=Object.getOwnPropertyDescriptor;pi.f=pT?ny:function(e,r){if(e=yT(e),r=bT(r),wT)try{return ny(e,r)}catch{}if(_T(e,r))return vT(!gT(mT.f,e,r),e[r])};var gr={},CT=Nn,ET=pt,Mb=CT&&ET(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Pb=be,ST=Ln,AT=Pb.String,DT=Pb.TypeError,mt=function(t){if(ST(t))return t;throw DT(AT(t)+" is not an object")},xT=be,IT=Nn,TT=Tb,MT=Mb,xa=mt,ry=Ib,PT=xT.TypeError,Id=Object.defineProperty,RT=Object.getOwnPropertyDescriptor,Td="enumerable",Md="configurable",Pd="writable";gr.f=IT?MT?function(e,r,n){if(xa(e),r=ry(r),xa(n),typeof e=="function"&&r==="prototype"&&"value"in n&&Pd in n&&!n[Pd]){var i=RT(e,r);i&&i[Pd]&&(e[r]=n.value,n={configurable:Md in n?n[Md]:i[Md],enumerable:Td in n?n[Td]:i[Td],writable:!1})}return Id(e,r,n)}:Id:function(e,r,n){if(xa(e),r=ry(r),xa(n),TT)try{return Id(e,r,n)}catch{}if("get"in n||"set"in n)throw PT("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var OT=Nn,NT=gr,LT=mb,Ya=OT?function(t,e,r){return NT.f(t,e,LT(1,r))}:function(t,e,r){return t[e]=r,t},gi={exports:{}},FT=Ge,kT=Qe,sh=Dh,jT=FT(Function.toString);kT(sh.inspectSource)||(sh.inspectSource=function(t){return jT(t)});var Xa=sh.inspectSource,BT=be,VT=Qe,$T=Xa,iy=BT.WeakMap,UT=VT(iy)&&/native code/.test($T(iy)),HT=qa.exports,WT=Db,sy=HT("keys"),Rb=function(t){return sy[t]||(sy[t]=WT(t))},Ih={},zT=UT,Ob=be,Rd=Ge,GT=Ln,qT=Ya,Od=bn,Nd=Dh,YT=Rb,XT=Ih,oy="Object already initialized",oh=Ob.TypeError,KT=Ob.WeakMap,ja,ws,Ba,QT=function(t){return Ba(t)?ws(t):ja(t,{})},ZT=function(t){return function(e){var r;if(!GT(e)||(r=ws(e)).type!==t)throw oh("Incompatible receiver, "+t+" required");return r}};zT||Nd.state?(Rn=Nd.state||(Nd.state=new KT),ay=Rd(Rn.get),Ld=Rd(Rn.has),ly=Rd(Rn.set),ja=function(t,e){if(Ld(Rn,t))throw new oh(oy);return e.facade=t,ly(Rn,t,e),e},ws=function(t){return ay(Rn,t)||{}},Ba=function(t){return Ld(Rn,t)}):(ar=YT("state"),XT[ar]=!0,ja=function(t,e){if(Od(t,ar))throw new oh(oy);return e.facade=t,qT(t,ar,e),e},ws=function(t){return Od(t,ar)?t[ar]:{}},Ba=function(t){return Od(t,ar)});var Rn,ay,Ld,ly,ar,Th={set:ja,get:ws,has:Ba,enforce:QT,getterFor:ZT},ah=Nn,JT=bn,Nb=Function.prototype,eM=ah&&Object.getOwnPropertyDescriptor,Mh=JT(Nb,"name"),tM=Mh&&(function(){}).name==="something",nM=Mh&&(!ah||ah&&eM(Nb,"name").configurable),rM={EXISTS:Mh,PROPER:tM,CONFIGURABLE:nM},iM=be,cy=Qe,sM=bn,uy=Ya,oM=Ah,aM=Xa,Lb=Th,lM=rM.CONFIGURABLE,cM=Lb.get,uM=Lb.enforce,dM=String(String).split("String");(gi.exports=function(t,e,r,n){var i=n?!!n.unsafe:!1,s=n?!!n.enumerable:!1,o=n?!!n.noTargetGet:!1,a=n&&n.name!==void 0?n.name:e,l;if(cy(r)&&(String(a).slice(0,7)==="Symbol("&&(a="["+String(a).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!sM(r,"name")||lM&&r.name!==a)&&uy(r,"name",a),l=uM(r),l.source||(l.source=dM.join(typeof a=="string"?a:""))),t===iM){s?t[e]=r:oM(e,r);return}else i?!o&&t[e]&&(s=!0):delete t[e];s?t[e]=r:uy(t,e,r)})(Function.prototype,"toString",function(){return cy(this)&&cM(this).source||aM(this)});var Fb={},hM=Math.ceil,fM=Math.floor,Ka=function(t){var e=+t;return e!==e||e===0?0:(e>0?fM:hM)(e)},pM=Ka,gM=Math.max,mM=Math.min,vM=function(t,e){var r=pM(t);return r<0?gM(r+e,0):mM(r,e)},yM=Ka,bM=Math.min,As=function(t){return t>0?bM(yM(t),9007199254740991):0},_M=As,kb=function(t){return _M(t.length)},wM=Wa,CM=vM,EM=kb,dy=function(t){return function(e,r,n){var i=wM(e),s=EM(i),o=CM(n,s),a;if(t&&r!=r){for(;s>o;)if(a=i[o++],a!=a)return!0}else for(;s>o;o++)if((t||o in i)&&i[o]===r)return t||o||0;return!t&&-1}},jb={includes:dy(!0),indexOf:dy(!1)},SM=Ge,Fd=bn,AM=Wa,DM=jb.indexOf,xM=Ih,hy=SM([].push),Bb=function(t,e){var r=AM(t),n=0,i=[],s;for(s in r)!Fd(xM,s)&&Fd(r,s)&&hy(i,s);for(;e.length>n;)Fd(r,s=e[n++])&&(~DM(i,s)||hy(i,s));return i},Ph=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],IM=Bb,TM=Ph,MM=TM.concat("length","prototype");Fb.f=Object.getOwnPropertyNames||function(e){return IM(e,MM)};var Vb={};Vb.f=Object.getOwnPropertySymbols;var PM=Fn,RM=Ge,OM=Fb,NM=Vb,LM=mt,FM=RM([].concat),kM=PM("Reflect","ownKeys")||function(e){var r=OM.f(LM(e)),n=NM.f;return n?FM(r,n(e)):r},fy=bn,jM=kM,BM=pi,VM=gr,$M=function(t,e,r){for(var n=jM(e),i=VM.f,s=BM.f,o=0;o<n.length;o++){var a=n[o];!fy(t,a)&&!(r&&fy(r,a))&&i(t,a,s(e,a))}},UM=pt,HM=Qe,WM=/#|\.prototype\./,Ds=function(t,e){var r=GM[zM(t)];return r==YM?!0:r==qM?!1:HM(e)?UM(e):!!e},zM=Ds.normalize=function(t){return String(t).replace(WM,".").toLowerCase()},GM=Ds.data={},qM=Ds.NATIVE="N",YM=Ds.POLYFILL="P",$b=Ds,kd=be,XM=pi.f,KM=Ya,QM=gi.exports,ZM=Ah,JM=$M,eP=$b,en=function(t,e){var r=t.target,n=t.global,i=t.stat,s,o,a,l,c,d;if(n?o=kd:i?o=kd[r]||ZM(r,{}):o=(kd[r]||{}).prototype,o)for(a in e){if(c=e[a],t.noTargetGet?(d=XM(o,a),l=d&&d.value):l=o[a],s=eP(n?a:r+(i?".":"#")+a,t.forced),!s&&l!==void 0){if(typeof c==typeof l)continue;JM(c,l)}(t.sham||l&&l.sham)&&KM(c,"sham",!0),QM(o,a,c,t)}},tP=Es,nP=be,Rh=tP(nP.process)=="process",rP=gi.exports,iP=function(t,e,r){for(var n in e)rP(t,n,e[n],r);return t},Ub=be,sP=Qe,oP=Ub.String,aP=Ub.TypeError,lP=function(t){if(typeof t=="object"||sP(t))return t;throw aP("Can't set "+oP(t)+" as a prototype")},cP=Ge,uP=mt,dP=lP,hP=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=cP(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),r(e,[]),t=e instanceof Array}catch{}return function(i,s){return uP(i),dP(s),t?r(i,s):i.__proto__=s,i}}():void 0),fP=gr.f,pP=bn,gP=ct,py=gP("toStringTag"),mP=function(t,e,r){t&&!r&&(t=t.prototype),t&&!pP(t,py)&&fP(t,py,{configurable:!0,value:e})},vP=Fn,yP=gr,bP=ct,_P=Nn,gy=bP("species"),wP=function(t){var e=vP(t),r=yP.f;_P&&e&&!e[gy]&&r(e,gy,{configurable:!0,get:function(){return this}})},CP=be,EP=Sh,SP=CP.TypeError,AP=function(t,e){if(EP(e,t))return t;throw SP("Incorrect invocation")},DP=ct,xP=DP("toStringTag"),Hb={};Hb[xP]="z";var IP=String(Hb)==="[object z]",TP=be,MP=IP,PP=Qe,Oa=Es,RP=ct,OP=RP("toStringTag"),NP=TP.Object,LP=Oa(function(){return arguments}())=="Arguments",FP=function(t,e){try{return t[e]}catch{}},Oh=MP?Oa:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=FP(e=NP(t),OP))=="string"?r:LP?Oa(e):(n=Oa(e))=="Object"&&PP(e.callee)?"Arguments":n},kP=Ge,jP=pt,Wb=Qe,BP=Oh,VP=Fn,$P=Xa,zb=function(){},UP=[],Gb=VP("Reflect","construct"),Nh=/^\s*(?:class|function)\b/,HP=kP(Nh.exec),WP=!Nh.exec(zb),ms=function(e){if(!Wb(e))return!1;try{return Gb(zb,UP,e),!0}catch{return!1}},qb=function(e){if(!Wb(e))return!1;switch(BP(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return WP||!!HP(Nh,$P(e))}catch{return!0}};qb.sham=!0;var zP=!Gb||jP(function(){var t;return ms(ms.call)||!ms(Object)||!ms(function(){t=!0})||t})?qb:ms,GP=be,qP=zP,YP=Ga,XP=GP.TypeError,KP=function(t){if(qP(t))return t;throw XP(YP(t)+" is not a constructor")},my=mt,QP=KP,ZP=ct,JP=ZP("species"),eR=function(t,e){var r=my(t).constructor,n;return r===void 0||(n=my(r)[JP])==null?e:QP(n)},tR=Ha,Yb=Function.prototype,vy=Yb.apply,yy=Yb.call,Xb=typeof Reflect=="object"&&Reflect.apply||(tR?yy.bind(vy):function(){return yy.apply(vy,arguments)}),by=Ge,nR=pr,rR=Ha,iR=by(by.bind),Lh=function(t,e){return nR(t),e===void 0?t:rR?iR(t,e):function(){return t.apply(e,arguments)}},sR=Fn,Kb=sR("document","documentElement"),oR=Ge,aR=oR([].slice),lR=be,cR=lR.TypeError,uR=function(t,e){if(t<e)throw cR("Not enough arguments");return t},dR=za,Qb=/(?:ipad|iphone|ipod).*applewebkit/i.test(dR),Ct=be,hR=Xb,fR=Lh,_y=Qe,pR=bn,gR=pt,wy=Kb,mR=aR,Cy=xh,vR=uR,yR=Qb,bR=Rh,lh=Ct.setImmediate,ch=Ct.clearImmediate,_R=Ct.process,jd=Ct.Dispatch,wR=Ct.Function,Ey=Ct.MessageChannel,CR=Ct.String,Bd=0,ys={},Sy="onreadystatechange",Cs,lr,Vd,$d;try{Cs=Ct.location}catch{}var Fh=function(t){if(pR(ys,t)){var e=ys[t];delete ys[t],e()}},Ud=function(t){return function(){Fh(t)}},Ay=function(t){Fh(t.data)},Dy=function(t){Ct.postMessage(CR(t),Cs.protocol+"//"+Cs.host)};(!lh||!ch)&&(lh=function(e){vR(arguments.length,1);var r=_y(e)?e:wR(e),n=mR(arguments,1);return ys[++Bd]=function(){hR(r,void 0,n)},lr(Bd),Bd},ch=function(e){delete ys[e]},bR?lr=function(t){_R.nextTick(Ud(t))}:jd&&jd.now?lr=function(t){jd.now(Ud(t))}:Ey&&!yR?(Vd=new Ey,$d=Vd.port2,Vd.port1.onmessage=Ay,lr=fR($d.postMessage,$d)):Ct.addEventListener&&_y(Ct.postMessage)&&!Ct.importScripts&&Cs&&Cs.protocol!=="file:"&&!gR(Dy)?(lr=Dy,Ct.addEventListener("message",Ay,!1)):Sy in Cy("script")?lr=function(t){wy.appendChild(Cy("script"))[Sy]=function(){wy.removeChild(this),Fh(t)}}:lr=function(t){setTimeout(Ud(t),0)});var Zb={set:lh,clear:ch},ER=za,SR=be,AR=/ipad|iphone|ipod/i.test(ER)&&SR.Pebble!==void 0,DR=za,xR=/web0s(?!.*chrome)/i.test(DR),hr=be,xy=Lh,IR=pi.f,Hd=Zb.set,TR=Qb,MR=AR,PR=xR,Wd=Rh,Iy=hr.MutationObserver||hr.WebKitMutationObserver,Ty=hr.document,My=hr.process,Ia=hr.Promise,Py=IR(hr,"queueMicrotask"),Jb=Py&&Py.value,vs,cr,bs,li,zd,Gd,Ta,Ry;Jb||(vs=function(){var t,e;for(Wd&&(t=My.domain)&&t.exit();cr;){e=cr.fn,cr=cr.next;try{e()}catch(r){throw cr?li():bs=void 0,r}}bs=void 0,t&&t.enter()},!TR&&!Wd&&!PR&&Iy&&Ty?(zd=!0,Gd=Ty.createTextNode(""),new Iy(vs).observe(Gd,{characterData:!0}),li=function(){Gd.data=zd=!zd}):!MR&&Ia&&Ia.resolve?(Ta=Ia.resolve(void 0),Ta.constructor=Ia,Ry=xy(Ta.then,Ta),li=function(){Ry(vs)}):Wd?li=function(){My.nextTick(vs)}:(Hd=xy(Hd,hr),li=function(){Hd(vs)}));var RR=Jb||function(t){var e={fn:t,next:void 0};bs&&(bs.next=e),cr||(cr=e,li()),bs=e},OR=be,NR=function(t,e){var r=OR.console;r&&r.error&&(arguments.length==1?r.error(t):r.error(t,e))},kh=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},e_=function(){this.head=null,this.tail=null};e_.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var LR=e_,FR=be,Qa=FR.Promise,kR=typeof window=="object"&&typeof Deno!="object",jR=be,_s=Qa,BR=Qe,VR=$b,$R=Xa,UR=ct,HR=kR,Oy=wb;_s&&_s.prototype;var WR=UR("species"),uh=!1,t_=BR(jR.PromiseRejectionEvent),zR=VR("Promise",function(){var t=$R(_s),e=t!==String(_s);if(!e&&Oy===66)return!0;if(Oy>=51&&/native code/.test(t))return!1;var r=new _s(function(s){s(1)}),n=function(s){s(function(){},function(){})},i=r.constructor={};return i[WR]=n,uh=r.then(function(){})instanceof n,uh?!e&&HR&&!t_:!0}),xs={CONSTRUCTOR:zR,REJECTION_EVENT:t_,SUBCLASSING:uh},mi={},Ny=pr,GR=function(t){var e,r;this.promise=new t(function(n,i){if(e!==void 0||r!==void 0)throw TypeError("Bad Promise constructor");e=n,r=i}),this.resolve=Ny(e),this.reject=Ny(r)};mi.f=function(t){return new GR(t)};var qR=en,Va=Rh,On=be,fi=gt,YR=gi.exports,XR=iP,Ly=hP,KR=mP,QR=wP,ZR=pr,Na=Qe,JR=Ln,eO=AP,tO=eR,n_=Zb.set,jh=RR,nO=NR,rO=kh,iO=LR,r_=Th,$a=Qa,Bh=xs,i_=mi,Za="Promise",s_=Bh.CONSTRUCTOR,sO=Bh.REJECTION_EVENT,oO=Bh.SUBCLASSING,qd=r_.getterFor(Za),aO=r_.set,ci=$a&&$a.prototype,ur=$a,Ma=ci,o_=On.TypeError,dh=On.document,Vh=On.process,hh=i_.f,lO=hh,cO=!!(dh&&dh.createEvent&&On.dispatchEvent),a_="unhandledrejection",uO="rejectionhandled",Fy=0,l_=1,dO=2,$h=1,c_=2,Pa,ky,hO,jy,u_=function(t){var e;return JR(t)&&Na(e=t.then)?e:!1},d_=function(t,e){var r=e.value,n=e.state==l_,i=n?t.ok:t.fail,s=t.resolve,o=t.reject,a=t.domain,l,c,d;try{i?(n||(e.rejection===c_&&pO(e),e.rejection=$h),i===!0?l=r:(a&&a.enter(),l=i(r),a&&(a.exit(),d=!0)),l===t.promise?o(o_("Promise-chain cycle")):(c=u_(l))?fi(c,l,s,o):s(l)):o(r)}catch(u){a&&!d&&a.exit(),o(u)}},h_=function(t,e){t.notified||(t.notified=!0,jh(function(){for(var r=t.reactions,n;n=r.get();)d_(n,t);t.notified=!1,e&&!t.rejection&&fO(t)}))},f_=function(t,e,r){var n,i;cO?(n=dh.createEvent("Event"),n.promise=e,n.reason=r,n.initEvent(t,!1,!0),On.dispatchEvent(n)):n={promise:e,reason:r},!sO&&(i=On["on"+t])?i(n):t===a_&&nO("Unhandled promise rejection",r)},fO=function(t){fi(n_,On,function(){var e=t.facade,r=t.value,n=By(t),i;if(n&&(i=rO(function(){Va?Vh.emit("unhandledRejection",r,e):f_(a_,e,r)}),t.rejection=Va||By(t)?c_:$h,i.error))throw i.value})},By=function(t){return t.rejection!==$h&&!t.parent},pO=function(t){fi(n_,On,function(){var e=t.facade;Va?Vh.emit("rejectionHandled",e):f_(uO,e,t.value)})},ui=function(t,e,r){return function(n){t(e,n,r)}},hi=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=dO,h_(t,!0))},fh=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw o_("Promise can't be resolved itself");var n=u_(e);n?jh(function(){var i={done:!1};try{fi(n,e,ui(fh,i,t),ui(hi,i,t))}catch(s){hi(i,s,t)}}):(t.value=e,t.state=l_,h_(t,!1))}catch(i){hi({done:!1},i,t)}}};if(s_&&(ur=function(e){eO(this,Ma),ZR(e),fi(Pa,this);var r=qd(this);try{e(ui(fh,r),ui(hi,r))}catch(n){hi(r,n)}},Ma=ur.prototype,Pa=function(e){aO(this,{type:Za,done:!1,notified:!1,parent:!1,reactions:new iO,rejection:!1,state:Fy,value:void 0})},Pa.prototype=XR(Ma,{then:function(e,r){var n=qd(this),i=hh(tO(this,ur));return n.parent=!0,i.ok=Na(e)?e:!0,i.fail=Na(r)&&r,i.domain=Va?Vh.domain:void 0,n.state==Fy?n.reactions.add(i):jh(function(){d_(i,n)}),i.promise}}),ky=function(){var t=new Pa,e=qd(t);this.promise=t,this.resolve=ui(fh,e),this.reject=ui(hi,e)},i_.f=hh=function(t){return t===ur||t===hO?new ky(t):lO(t)},Na($a)&&ci!==Object.prototype)){jy=ci.then,oO||YR(ci,"then",function(e,r){var n=this;return new ur(function(i,s){fi(jy,n,i,s)}).then(e,r)},{unsafe:!0});try{delete ci.constructor}catch{}Ly&&Ly(ci,Ma)}qR({global:!0,wrap:!0,forced:s_},{Promise:ur});KR(ur,Za,!1);QR(Za);var p_={},gO=ct,mO=p_,vO=gO("iterator"),yO=Array.prototype,bO=function(t){return t!==void 0&&(mO.Array===t||yO[vO]===t)},_O=Oh,Vy=Ss,wO=p_,CO=ct,EO=CO("iterator"),g_=function(t){if(t!=null)return Vy(t,EO)||Vy(t,"@@iterator")||wO[_O(t)]},SO=be,AO=gt,DO=pr,xO=mt,IO=Ga,TO=g_,MO=SO.TypeError,PO=function(t,e){var r=arguments.length<2?TO(t):e;if(DO(r))return xO(AO(r,t));throw MO(IO(t)+" is not iterable")},RO=gt,$y=mt,OO=Ss,NO=function(t,e,r){var n,i;$y(t);try{if(n=OO(t,"return"),!n){if(e==="throw")throw r;return r}n=RO(n,t)}catch(s){i=!0,n=s}if(e==="throw")throw r;if(i)throw n;return $y(n),r},LO=be,FO=Lh,kO=gt,jO=mt,BO=Ga,VO=bO,$O=kb,Uy=Sh,UO=PO,HO=g_,Hy=NO,WO=LO.TypeError,La=function(t,e){this.stopped=t,this.result=e},Wy=La.prototype,m_=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),s=!!(r&&r.IS_ITERATOR),o=!!(r&&r.INTERRUPTED),a=FO(e,n),l,c,d,u,h,m,f,p=function(C){return l&&Hy(l,"normal",C),new La(!0,C)},v=function(C){return i?(jO(C),o?a(C[0],C[1],p):a(C[0],C[1])):o?a(C,p):a(C)};if(s)l=t;else{if(c=HO(t),!c)throw WO(BO(t)+" is not iterable");if(VO(c)){for(d=0,u=$O(t);u>d;d++)if(h=v(t[d]),h&&Uy(Wy,h))return h;return new La(!1)}l=UO(t,c)}for(m=l.next;!(f=kO(m,l)).done;){try{h=v(f.value)}catch(C){Hy(l,"throw",C)}if(typeof h=="object"&&h&&Uy(Wy,h))return h}return new La(!1)},zO=ct,v_=zO("iterator"),y_=!1;try{zy=0,Yd={next:function(){return{done:!!zy++}},return:function(){y_=!0}},Yd[v_]=function(){return this},Array.from(Yd,function(){throw 2})}catch{}var zy,Yd,GO=function(t,e){if(!e&&!y_)return!1;var r=!1;try{var n={};n[v_]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch{}return r},qO=Qa,YO=GO,XO=xs.CONSTRUCTOR,b_=XO||!YO(function(t){qO.all(t).then(void 0,function(){})}),KO=en,QO=gt,ZO=pr,JO=mi,e1=kh,t1=m_,n1=b_;KO({target:"Promise",stat:!0,forced:n1},{all:function(e){var r=this,n=JO.f(r),i=n.resolve,s=n.reject,o=e1(function(){var a=ZO(r.resolve),l=[],c=0,d=1;t1(e,function(u){var h=c++,m=!1;d++,QO(a,r,u).then(function(f){m||(m=!0,l[h]=f,--d||i(l))},s)}),--d||i(l)});return o.error&&s(o.value),n.promise}});var r1=en,i1=xs.CONSTRUCTOR,ph=Qa,s1=Fn,o1=Qe,a1=gi.exports,Gy=ph&&ph.prototype;r1({target:"Promise",proto:!0,forced:i1,real:!0},{catch:function(t){return this.then(void 0,t)}});o1(ph)&&(Xd=s1("Promise").prototype.catch,Gy.catch!==Xd&&a1(Gy,"catch",Xd,{unsafe:!0}));var Xd,l1=en,c1=gt,u1=pr,d1=mi,h1=kh,f1=m_,p1=b_;l1({target:"Promise",stat:!0,forced:p1},{race:function(e){var r=this,n=d1.f(r),i=n.reject,s=h1(function(){var o=u1(r.resolve);f1(e,function(a){c1(o,r,a).then(n.resolve,i)})});return s.error&&i(s.value),n.promise}});var g1=en,m1=gt,v1=mi,y1=xs.CONSTRUCTOR;g1({target:"Promise",stat:!0,forced:y1},{reject:function(e){var r=v1.f(this);return m1(r.reject,void 0,e),r.promise}});var b1=mt,_1=Ln,w1=mi,C1=function(t,e){if(b1(t),_1(e)&&e.constructor===t)return e;var r=w1.f(t),n=r.resolve;return n(e),r.promise},E1=en,S1=Fn,A1=xs.CONSTRUCTOR,D1=C1;S1("Promise");E1({target:"Promise",stat:!0,forced:A1},{resolve:function(e){return D1(this,e)}});var x1=be,I1=Oh,T1=x1.String,vi=function(t){if(I1(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return T1(t)},M1=mt,P1=function(){var t=M1(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Uh=pt,R1=be,Hh=R1.RegExp,Wh=Uh(function(){var t=Hh("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),O1=Wh||Uh(function(){return!Hh("a","y").sticky}),N1=Wh||Uh(function(){var t=Hh("^r","gy");return t.lastIndex=2,t.exec("str")!=null}),L1={BROKEN_CARET:N1,MISSED_STICKY:O1,UNSUPPORTED_Y:Wh},__={},F1=Bb,k1=Ph,j1=Object.keys||function(e){return F1(e,k1)},B1=Nn,V1=Mb,$1=gr,U1=mt,H1=Wa,W1=j1;__.f=B1&&!V1?Object.defineProperties:function(e,r){U1(e);for(var n=H1(r),i=W1(r),s=i.length,o=0,a;s>o;)$1.f(e,a=i[o++],n[a]);return e};var z1=mt,G1=__,qy=Ph,q1=Ih,Y1=Kb,X1=xh,K1=Rb,Yy=">",Xy="<",gh="prototype",mh="script",w_=K1("IE_PROTO"),Kd=function(){},C_=function(t){return Xy+mh+Yy+t+Xy+"/"+mh+Yy},Ky=function(t){t.write(C_("")),t.close();var e=t.parentWindow.Object;return t=null,e},Q1=function(){var t=X1("iframe"),e="java"+mh+":",r;return t.style.display="none",Y1.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(C_("document.F=Object")),r.close(),r.F},Ra,Fa=function(){try{Ra=new ActiveXObject("htmlfile")}catch{}Fa=typeof document<"u"?document.domain&&Ra?Ky(Ra):Q1():Ky(Ra);for(var t=qy.length;t--;)delete Fa[gh][qy[t]];return Fa()};q1[w_]=!0;var E_=Object.create||function(e,r){var n;return e!==null?(Kd[gh]=z1(e),n=new Kd,Kd[gh]=null,n[w_]=e):n=Fa(),r===void 0?n:G1.f(n,r)},Z1=pt,J1=be,eN=J1.RegExp,tN=Z1(function(){var t=eN(".","s");return!(t.dotAll&&t.exec(`
`)&&t.flags==="s")}),nN=pt,rN=be,iN=rN.RegExp,sN=nN(function(){var t=iN("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),di=gt,Ja=Ge,oN=vi,aN=P1,lN=L1,cN=qa.exports,uN=E_,dN=Th.get,hN=tN,fN=sN,pN=cN("native-string-replace",String.prototype.replace),Ua=RegExp.prototype.exec,vh=Ua,gN=Ja("".charAt),mN=Ja("".indexOf),vN=Ja("".replace),Qd=Ja("".slice),yh=function(){var t=/a/,e=/b*/g;return di(Ua,t,"a"),di(Ua,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),S_=lN.BROKEN_CARET,bh=/()??/.exec("")[1]!==void 0,yN=yh||bh||S_||hN||fN;yN&&(vh=function(e){var r=this,n=dN(r),i=oN(e),s=n.raw,o,a,l,c,d,u,h;if(s)return s.lastIndex=r.lastIndex,o=di(vh,s,i),r.lastIndex=s.lastIndex,o;var m=n.groups,f=S_&&r.sticky,p=di(aN,r),v=r.source,C=0,E=i;if(f&&(p=vN(p,"y",""),mN(p,"g")===-1&&(p+="g"),E=Qd(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&gN(i,r.lastIndex-1)!==`
`)&&(v="(?: "+v+")",E=" "+E,C++),a=new RegExp("^(?:"+v+")",p)),bh&&(a=new RegExp("^"+v+"$(?!\\s)",p)),yh&&(l=r.lastIndex),c=di(Ua,f?a:r,E),f?c?(c.input=Qd(c.input,C),c[0]=Qd(c[0],C),c.index=r.lastIndex,r.lastIndex+=c[0].length):r.lastIndex=0:yh&&c&&(r.lastIndex=r.global?c.index+c[0].length:l),bh&&c&&c.length>1&&di(pN,c[0],a,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&m)for(c.groups=u=uN(null),d=0;d<m.length;d++)h=m[d],u[h[0]]=c[h[1]];return c});var zh=vh,bN=en,Qy=zh;bN({target:"RegExp",proto:!0,forced:/./.exec!==Qy},{exec:Qy});var Zy=Ge,Jy=gi.exports,_N=zh,eb=pt,A_=ct,wN=Ya,CN=A_("species"),Zd=RegExp.prototype,D_=function(t,e,r,n){var i=A_(t),s=!eb(function(){var c={};return c[i]=function(){return 7},""[t](c)!=7}),o=s&&!eb(function(){var c=!1,d=/a/;return t==="split"&&(d={},d.constructor={},d.constructor[CN]=function(){return d},d.flags="",d[i]=/./[i]),d.exec=function(){return c=!0,null},d[i](""),!c});if(!s||!o||r){var a=Zy(/./[i]),l=e(i,""[t],function(c,d,u,h,m){var f=Zy(c),p=d.exec;return p===_N||p===Zd.exec?s&&!m?{done:!0,value:a(d,u,h)}:{done:!0,value:f(u,d,h)}:{done:!1}});Jy(String.prototype,t,l[0]),Jy(Zd,i,l[1])}n&&wN(Zd[i],"sham",!0)},Gh=Ge,EN=Ka,SN=vi,AN=fr,DN=Gh("".charAt),tb=Gh("".charCodeAt),xN=Gh("".slice),nb=function(t){return function(e,r){var n=SN(AN(e)),i=EN(r),s=n.length,o,a;return i<0||i>=s?t?"":void 0:(o=tb(n,i),o<55296||o>56319||i+1===s||(a=tb(n,i+1))<56320||a>57343?t?DN(n,i):o:t?xN(n,i,i+2):(o-55296<<10)+(a-56320)+65536)}},IN={codeAt:nb(!1),charAt:nb(!0)},TN=IN.charAt,x_=function(t,e,r){return e+(r?TN(t,e).length:1)},MN=be,rb=gt,PN=mt,RN=Qe,ON=Es,NN=zh,LN=MN.TypeError,I_=function(t,e){var r=t.exec;if(RN(r)){var n=rb(r,t,e);return n!==null&&PN(n),n}if(ON(t)==="RegExp")return rb(NN,t,e);throw LN("RegExp#exec called on incompatible receiver")},FN=gt,kN=D_,jN=mt,BN=As,Jd=vi,VN=fr,$N=Ss,UN=x_,ib=I_;kN("match",function(t,e,r){return[function(i){var s=VN(this),o=i==null?void 0:$N(i,t);return o?FN(o,i,s):new RegExp(i)[t](Jd(s))},function(n){var i=jN(this),s=Jd(n),o=r(e,i,s);if(o.done)return o.value;if(!i.global)return ib(i,s);var a=i.unicode;i.lastIndex=0;for(var l=[],c=0,d;(d=ib(i,s))!==null;){var u=Jd(d[0]);l[c]=u,u===""&&(i.lastIndex=UN(s,BN(i.lastIndex),a)),c++}return c===0?null:l}]});var qh=Ge,HN=Ab,WN=Math.floor,eh=qh("".charAt),zN=qh("".replace),th=qh("".slice),GN=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,qN=/\$([$&'`]|\d{1,2})/g,YN=function(t,e,r,n,i,s){var o=r+t.length,a=n.length,l=qN;return i!==void 0&&(i=HN(i),l=GN),zN(s,l,function(c,d){var u;switch(eh(d,0)){case"$":return"$";case"&":return t;case"`":return th(e,0,r);case"'":return th(e,o);case"<":u=i[th(d,1,-1)];break;default:var h=+d;if(h===0)return c;if(h>a){var m=WN(h/10);return m===0?c:m<=a?n[m-1]===void 0?eh(d,1):n[m-1]+eh(d,1):c}u=n[h-1]}return u===void 0?"":u})},XN=Xb,sb=gt,el=Ge,KN=D_,QN=pt,ZN=mt,JN=Qe,eL=Ka,tL=As,ai=vi,nL=fr,rL=x_,iL=Ss,sL=YN,oL=I_,aL=ct,_h=aL("replace"),lL=Math.max,cL=Math.min,uL=el([].concat),nh=el([].push),ob=el("".indexOf),ab=el("".slice),dL=function(t){return t===void 0?t:String(t)},hL=function(){return"a".replace(/./,"$0")==="$0"}(),lb=function(){return/./[_h]?/./[_h]("a","$0")==="":!1}(),fL=!QN(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});KN("replace",function(t,e,r){var n=lb?"$":"$0";return[function(s,o){var a=nL(this),l=s==null?void 0:iL(s,_h);return l?sb(l,s,a,o):sb(e,ai(a),s,o)},function(i,s){var o=ZN(this),a=ai(i);if(typeof s=="string"&&ob(s,n)===-1&&ob(s,"$<")===-1){var l=r(e,o,a,s);if(l.done)return l.value}var c=JN(s);c||(s=ai(s));var d=o.global;if(d){var u=o.unicode;o.lastIndex=0}for(var h=[];;){var m=oL(o,a);if(m===null||(nh(h,m),!d))break;var f=ai(m[0]);f===""&&(o.lastIndex=rL(a,tL(o.lastIndex),u))}for(var p="",v=0,C=0;C<h.length;C++){m=h[C];for(var E=ai(m[0]),M=lL(cL(eL(m.index),a.length),0),D=[],y=1;y<m.length;y++)nh(D,dL(m[y]));var b=m.groups;if(c){var I=uL([E],D,M,a);b!==void 0&&nh(I,b);var F=ai(XN(s,void 0,I))}else F=sL(E,a,M,D,b,s);M>=v&&(p+=ab(a,v,M)+F,v=M+E.length)}return p+ab(a,v)}]},!fL||!hL||lb);var pL=Ln,gL=Es,mL=ct,vL=mL("match"),yL=function(t){var e;return pL(t)&&((e=t[vL])!==void 0?!!e:gL(t)=="RegExp")},bL=be,_L=yL,wL=bL.TypeError,T_=function(t){if(_L(t))throw wL("The method doesn't accept regular expressions");return t},CL=ct,EL=CL("match"),M_=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[EL]=!1,"/./"[t](e)}catch{}}return!1},SL=en,P_=Ge,AL=pi.f,DL=As,cb=vi,xL=T_,IL=fr,TL=M_,ub=P_("".startsWith),ML=P_("".slice),PL=Math.min,R_=TL("startsWith"),RL=!R_&&!!function(){var t=AL(String.prototype,"startsWith");return t&&!t.writable}();SL({target:"String",proto:!0,forced:!RL&&!R_},{startsWith:function(e){var r=cb(IL(this));xL(e);var n=DL(PL(arguments.length>1?arguments[1]:void 0,r.length)),i=cb(e);return ub?ub(r,i,n):ML(r,n,n+i.length)===i}});var OL=ct,NL=E_,LL=gr,wh=OL("unscopables"),Ch=Array.prototype;Ch[wh]==null&&LL.f(Ch,wh,{configurable:!0,value:NL(null)});var FL=function(t){Ch[wh][t]=!0},kL=en,jL=jb.includes,BL=FL;kL({target:"Array",proto:!0},{includes:function(e){return jL(this,e,arguments.length>1?arguments[1]:void 0)}});BL("includes");var VL=en,O_=Ge,$L=pi.f,UL=As,db=vi,HL=T_,WL=fr,zL=M_,hb=O_("".endsWith),GL=O_("".slice),qL=Math.min,N_=zL("endsWith"),YL=!N_&&!!function(){var t=$L(String.prototype,"endsWith");return t&&!t.writable}();VL({target:"String",proto:!0,forced:!YL&&!N_},{endsWith:function(e){var r=db(WL(this));HL(e);var n=arguments.length>1?arguments[1]:void 0,i=r.length,s=n===void 0?i:qL(UL(n),i),o=db(e);return hb?hb(r,o,s):GL(r,s-o.length,s)===o}});function XL(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(u){o(u)}}function l(d){try{c(n.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}var KL=t=>new Promise((e,r)=>{try{let n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=()=>{let i=new FileReader;i.readAsArrayBuffer(n.response),i.onloadend=()=>{e(i.result)}},n.send()}catch{r(`error while retrieving file ${t}.`)}});var QL=t=>{if(t){let e=t.src;t.src="about:blank",setTimeout(()=>{t&&(t.src=e)},100)}};var Eh=t=>{let e=t.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return e&&{href:t,protocol:e[1],host:e[2],hostname:e[3],port:e[4],pathname:e[5],search:e[6],hash:e[7]}},L_=t=>XL(void 0,void 0,void 0,function*(){mammoth||console.error("Please install mammoth and make sure mammoth.browser.min.js is loaded.");let e=yield KL(t);return(yield mammoth.convertToHtml({arrayBuffer:e})).value}),F_=()=>{let t=null,e=0;return{subscribe:(r,n=3e3,i=5)=>{if(Yh(r))t&&clearInterval(t);else return t=setInterval(()=>{e++,e>=i&&clearInterval(t),QL(r)},n),t},unsubscribe:()=>{t&&clearInterval(t)}}},Yh=t=>{var e;let r=!1;try{ZL()?r=!(!((e=t?.contentWindow)===null||e===void 0)&&e.document):r=!t?.contentDocument}catch{}return r},ZL=()=>/MSIE (\d+\.\d+);/.test(navigator.userAgent)||navigator.userAgent.indexOf("Trident/")>-1,Xh=(t,e="google",r="",n="")=>{switch(e){case"google":n="https://docs.google.com/gview?url=%URL%&embedded=true";break;case"office":{n="https://view.officeapps.live.com/op/embed.aspx?src=%URL%";break}case"pdf":{n="";break}}let i=e==="google"||e==="office"||e==="url",s=t?.indexOf("/")?encodeURIComponent(t):t,o=n?n.replace("%URL%",s):t;if(r&&i&&e!=="url"){let a=r.startsWith("&")?"":"&";o=`${o}${a}${r}`}return{url:o,externalViewer:i}},k_=(t,e)=>{let r=Eh(t),n=Eh(e);return r&&n?t.replace(r.port?`${r.hostname}:${r.port}`:r.hostname,n.port?`${n.hostname}:${n.port}`:n.hostname):t};var j_=t=>{let e=Eh(t),r=e?.hostname||"";return["localhost","127.0.0.1","","::1"].includes(r)||r.startsWith("192.168.")||r.startsWith("10.0.")||r.endsWith(".local")};var JL=["iframe"];function eF(t,e){if(t&1&&yn(0,"div",3),t&2){let r=Qt(2);nt("innerHtml",r.docHtml,Gg)}}function tF(t,e){if(t&1&&(mn(0,"object",4)(1,"p"),Qo(2," Your browser does not support PDFs. "),mn(3,"a",5),Qo(4,"Download the PDF"),vn(),Qo(5,". "),vn()()),t&2){let r=Qt(2);nt("data",r.fullUrl,Uo),pn(3),nt("href",r.fullUrl,qg)}}function nF(t,e){if(t&1&&(Xo(0),Gr(1,eF,1,1,"div",1)(2,tF,6,2,"object",2),Ko()),t&2){let r=Qt();pn(1),nt("ngIf",r.configuredViewer!=="pdf"),pn(1),nt("ngIf",r.fullUrl&&r.configuredViewer==="pdf")}}function rF(t,e){if(t&1){let r=pu();mn(0,"iframe",8,9),Gi("load",function(){kc(r);let i=Qt(2);return jc(i.iframeLoaded())}),vn()}if(t&2){let r=Qt(2);nt("src",r.fullUrl,Uo)}}function iF(t,e){if(t&1){let r=pu();mn(0,"iframe",12,9),Gi("load",function(){kc(r);let i=Qt(3);return jc(i.iframeLoaded())}),vn()}if(t&2){let r=Qt(3);nt("src",r.fullUrl,Uo)}}function sF(t,e){if(t&1&&(mn(0,"div",10),yn(1,"div"),Gr(2,iF,2,1,"iframe",11),vn()),t&2){let r=Qt(2);pn(1),Yo("background-color",r.disableContent==="popout-hide"?"#fff":"transparent"),fu("overlay-full",r.disableContent==="all")("overlay-popout-google",r.configuredViewer==="google"&&(r.disableContent==="popout"||r.disableContent==="popout-hide"))("overlay-popout-office",r.configuredViewer==="office"&&(r.disableContent==="popout"||r.disableContent==="popout-hide")),pn(1),nt("ngIf",r.fullUrl)}}function oF(t,e){if(t&1&&(Xo(0),Gr(1,rF,2,1,"iframe",6)(2,sF,3,9,"div",7),Ko()),t&2){let r=Qt();pn(1),nt("ngIf",r.fullUrl&&r.disableContent==="none"),pn(1),nt("ngIf",r.disableContent!=="none")}}var B_=(()=>{class t{constructor(r,n){this.domSanitizer=r,this.ngZone=n,this.loaded=new ft,this.url="",this.queryParams="",this.viewerUrl="",this.googleCheckInterval=3e3,this.googleMaxChecks=5,this.disableContent="none",this.googleCheckContentLoaded=!0,this.viewer="google",this.overrideLocalhost="",this.iframes=void 0,this.fullUrl=void 0,this.externalViewer=!1,this.docHtml="",this.configuredViewer="google",this.checkIFrameSubscription=void 0,this.shouldCheckIframe=!1}ngAfterViewInit(){if(this.shouldCheckIframe){let r=this.iframes?.first?.nativeElement;r&&(this.shouldCheckIframe=!1,this.reloadIframe(r))}}ngOnDestroy(){this.checkIFrameSubscription&&this.checkIFrameSubscription.unsubscribe()}ngOnChanges(r){return le(this,null,function*(){if(r&&r.viewer&&(r.viewer.isFirstChange||r.viewer.currentValue!==r.viewer.previousValue)&&(this.viewer!=="google"&&this.viewer!=="office"&&this.viewer!=="mammoth"&&this.viewer!=="pdf"&&this.viewer!=="url"&&console.error(`Unsupported viewer: '${this.viewer}'. Supported viewers: google, office, mammoth and pdf`),this.configuredViewer=this.viewer),r.url&&r.url.currentValue!==r.url.previousValue||r.viewer&&r.viewer.currentValue!==r.viewer.previousValue||r.viewerUrl&&r.viewerUrl.currentValue!==r.viewerUrl.previousValue){let n=Xh(this.url,this.configuredViewer,this.queryParams,this.viewerUrl);if(this.externalViewer=n.externalViewer,n.externalViewer&&this.overrideLocalhost&&j_(this.url)){let i=k_(this.url,this.overrideLocalhost);n=Xh(i,this.configuredViewer,this.queryParams,this.viewerUrl)}this.docHtml="",this.checkIFrameSubscription&&this.checkIFrameSubscription.unsubscribe(),this.url?n.externalViewer||this.configuredViewer==="url"||this.configuredViewer==="pdf"?(this.fullUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(n.url),this.configuredViewer==="google"&&this.googleCheckContentLoaded&&this.ngZone.runOutsideAngular(()=>{let i=this.iframes?.first?.nativeElement;i?this.reloadIframe(i):this.shouldCheckIframe=!0})):this.configuredViewer==="mammoth"&&(this.docHtml=yield L_(this.url)):this.fullUrl=void 0}})}reloadIframe(r){this.checkIFrameSubscription=F_(),this.checkIFrameSubscription.subscribe(r,this.googleCheckInterval,this.googleMaxChecks)}iframeLoaded(){let r=this.iframes?.first?.nativeElement;r&&Yh(r)&&(this.loaded.emit(void 0),this.checkIFrameSubscription&&this.checkIFrameSubscription.unsubscribe())}}return t.\u0275fac=function(r){return new(r||t)(gn(Ou),gn(je))},t.\u0275cmp=Kn({type:t,selectors:[["ngx-doc-viewer"]],viewQuery:function(r,n){if(r&1&&vu(JL,5),r&2){let i;Jo(i=ea())&&(n.iframes=i)}},inputs:{url:"url",queryParams:"queryParams",viewerUrl:"viewerUrl",googleCheckInterval:"googleCheckInterval",googleMaxChecks:"googleMaxChecks",disableContent:"disableContent",googleCheckContentLoaded:"googleCheckContentLoaded",viewer:"viewer",overrideLocalhost:"overrideLocalhost"},outputs:{loaded:"loaded"},features:[Qn],decls:2,vars:2,consts:[[4,"ngIf"],[3,"innerHtml",4,"ngIf"],["type","application/pdf","width","100%","height","100%",3,"data",4,"ngIf"],[3,"innerHtml"],["type","application/pdf","width","100%","height","100%",3,"data"],[3,"href"],["id","iframe-doc-viewer","frameBorder","0",3,"src","load",4,"ngIf"],["class","container",4,"ngIf"],["id","iframe-doc-viewer","frameBorder","0",3,"src","load"],["iframe",""],[1,"container"],["id","iframe","frameBorder","0",3,"src","load",4,"ngIf"],["id","iframe","frameBorder","0",3,"src","load"]],template:function(r,n){r&1&&Gr(0,nF,3,2,"ng-container",0)(1,oF,3,2,"ng-container",0),r&2&&(nt("ngIf",!n.externalViewer),pn(1),nt("ngIf",n.externalViewer))},dependencies:[jm],styles:["[_nghost-%COMP%]{display:block}.container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.overlay-popout-google[_ngcontent-%COMP%]{width:40px;height:40px;right:26px;top:11.5px;position:absolute;z-index:1000}.overlay-popout-office[_ngcontent-%COMP%]{width:100px;height:20px;right:0;bottom:0;position:absolute;z-index:1000}.overlay-full[_ngcontent-%COMP%]{width:100%;height:100%;right:0;top:0;position:absolute;z-index:1000}iframe[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})(),V_=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xn({type:t}),t.\u0275inj=Dn({imports:[Xi]}),t})();var $_=(()=>{let e=class e{constructor(){this.selectedPage="/assets/Programming_Book.pdf"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Kn({type:e,selectors:[["app-root"]],standalone:!0,features:[Zo],decls:1,vars:1,consts:[["viewer","pdf",2,"width","100%","height","100vh",3,"url"]],template:function(i,s){i&1&&yn(0,"ngx-doc-viewer",0),i&2&&nt("url",s.selectedPage)},dependencies:[Xi,Vv,V_,B_],styles:['@import"https://fonts.googleapis.com/css2?family=Roboto&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Roboto,sans-serif}.pdf-viewer[_ngcontent-%COMP%]{height:100vh;width:80vw;display:block;margin:0 auto}.page[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0 auto}nav[_ngcontent-%COMP%]{display:flex;margin:1rem auto;align-items:center;justify-content:space-between}button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:none;color:#000;padding:1rem;list-style:none;font-size:1.3rem;margin:.7rem;border-radius:20%;cursor:pointer}p[_ngcontent-%COMP%]{font-size:1.3rem;background-color:#f5f5f5;padding:1rem}.previous[_ngcontent-%COMP%]{background-color:#f1f1f1;color:#000}.next[_ngcontent-%COMP%]{background-color:#4a8fed;color:#fff}']});let t=e;return t})();qm($_,Ov).catch(t=>console.error(t));
